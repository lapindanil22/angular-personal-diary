(self.webpackChunkng15_another_test=self.webpackChunkng15_another_test||[]).push([[179],{2011:(Tt,ge,N)=>{"use strict";N.d(ge,{Dh:()=>A,GT:()=>j,cc:()=>S,hO:()=>R,on:()=>v,pX:()=>B,xv:()=>I});var c=N(4650),z=N(9260),q=N(3069);Tt=N.hmd(Tt);const Q=["ngOnDestroy"],B=(L,X,Z,Y={})=>new Proxy(L,{get:(re,G)=>Z.runOutsideAngular(()=>{var H;if(L[G])return!(null===(H=Y?.spy)||void 0===H)&&H.get&&Y.spy.get(G,L[G]),L[G];if(Q.indexOf(G)>-1)return()=>{};const F=X.toPromise().then(K=>{const ne=K&&K[G];return"function"==typeof ne?ne.bind(K):ne&&ne.then?ne.then(fe=>Z.run(()=>fe)):Z.run(()=>ne)});return new Proxy(()=>{},{get:(K,ne)=>F[ne],apply:(K,ne,fe)=>F.then(me=>{var Ie;const Ne=me&&me(...fe);return!(null===(Ie=Y?.spy)||void 0===Ie)&&Ie.apply&&Y.spy.apply(G,fe,Ne),Ne})})})}),j=(L,X)=>{X.forEach(Z=>{Object.getOwnPropertyNames(Z.prototype||Z).forEach(Y=>{Object.defineProperty(L.prototype,Y,Object.getOwnPropertyDescriptor(Z.prototype||Z,Y))})})};class U{constructor(X){return X}}const A=new c.OlP("angularfire2.app.options"),I=new c.OlP("angularfire2.app.name");function v(L,X,Z){const re="object"==typeof Z&&Z||{};re.name=re.name||"string"==typeof Z&&Z||"[DEFAULT]";const H=z.Z.apps.filter(F=>F&&F.name===re.name)[0]||X.runOutsideAngular(()=>z.Z.initializeApp(L,re));try{JSON.stringify(L)!==JSON.stringify(H.options)&&C("error",`${H.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new U(H)}const C=(L,...X)=>{(0,c.X6Q)()&&typeof console<"u"&&console[L](...X)},D={provide:U,useFactory:v,deps:[A,c.R0b,[new c.FiY,I]]};let R=(()=>{class L{constructor(Z){z.Z.registerVersion("angularfire",q.q4.full,"core"),z.Z.registerVersion("angularfire",q.q4.full,"app-compat"),z.Z.registerVersion("angular",c.q4F.full,Z.toString())}static initializeApp(Z,Y){return{ngModule:L,providers:[{provide:A,useValue:Z},{provide:I,useValue:Y}]}}}return L.\u0275fac=function(Z){return new(Z||L)(c.LFG(c.Lbi))},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({providers:[D]}),L})();function S(L,X,Z,Y,re){const[,G,H]=globalThis.\u0275AngularfireInstanceCache.find(F=>F[0]===L)||[];if(G)return function x(L,X){try{return L.toString()===X.toString()}catch{return L===X}}(re,H)||(w("error",`${X} was already initialized on the ${Z} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),w("warn",{is:re,was:H})),G;{const F=Y();return globalThis.\u0275AngularfireInstanceCache.push([L,F,re]),F}}const V=!!Tt.hot,w=(L,...X)=>{(0,c.X6Q)()&&typeof console<"u"&&console[L](...X)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3069:(Tt,ge,N)=>{"use strict";N.d(ge,{q4:()=>Hd,iC:()=>Os,HU:()=>Ql,vb:()=>Oi,JM:()=>Za,u3:()=>vr});var c=N(4650),z=N(259),q=N(5861),Q=N(9681),B=N(2090),j=N(4859),U=N(1877),A=N(8766);const I="@firebase/installations",v="0.6.3",D=`w:${v}`,R="FIS_v2",X=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Z(M){return M instanceof B.ZR&&M.code.includes("request-failed")}function Y({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function re(M){return{token:M.token,requestStatus:2,expiresIn:me(M.expiresIn),creationTime:Date.now()}}function G(M,k){return H.apply(this,arguments)}function H(){return(H=(0,q.Z)(function*(M,k){const he=(yield k.json()).error;return X.create("request-failed",{requestName:M,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function F({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function K(M,{refreshToken:k}){const ee=F(M);return ee.append("Authorization",function Ie(M){return`${R} ${M}`}(k)),ee}function ne(M){return fe.apply(this,arguments)}function fe(){return(fe=(0,q.Z)(function*(M){const k=yield M();return k.status>=500&&k.status<600?M():k})).apply(this,arguments)}function me(M){return Number(M.replace("s","000"))}function Ne(M,k){return ue.apply(this,arguments)}function ue(){return(ue=(0,q.Z)(function*({appConfig:M,heartbeatServiceProvider:k},{fid:ee}){const he=Y(M),Ae=F(M),Pe=k.getImmediate({optional:!0});if(Pe){const St=yield Pe.getHeartbeatsHeader();St&&Ae.append("x-firebase-client",St)}const ht={method:"POST",headers:Ae,body:JSON.stringify({fid:ee,authVersion:R,appId:M.appId,sdkVersion:D})},wt=yield ne(()=>fetch(he,ht));if(wt.ok){const St=yield wt.json();return{fid:St.fid||ee,registrationStatus:2,refreshToken:St.refreshToken,authToken:re(St.authToken)}}throw yield G("Create Installation",wt)})).apply(this,arguments)}function oe(M){return new Promise(k=>{setTimeout(k,M)})}const se=/^[cdef][\w-]{21}$/;function ye(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const ee=function _e(M){return function J(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return se.test(ee)?ee:""}catch{return""}}function ae(M){return`${M.appName}!${M.appId}`}const we=new Map;function Ce(M,k){const ee=ae(M);Qe(ee,k),function dt(M,k){const ee=function mt(){return!pt&&"BroadcastChannel"in self&&(pt=new BroadcastChannel("[Firebase] FID Change"),pt.onmessage=M=>{Qe(M.data.key,M.data.fid)}),pt}();ee&&ee.postMessage({key:M,fid:k}),function Ut(){0===we.size&&pt&&(pt.close(),pt=null)}()}(ee,k)}function Qe(M,k){const ee=we.get(M);if(ee)for(const he of ee)he(k)}let pt=null;const Ve="firebase-installations-store";let je=null;function nt(){return je||(je=(0,A.X3)("firebase-installations-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(Ve)}})),je}function Xe(M,k){return qe.apply(this,arguments)}function qe(){return(qe=(0,q.Z)(function*(M,k){const ee=ae(M),Ae=(yield nt()).transaction(Ve,"readwrite"),Pe=Ae.objectStore(Ve),We=yield Pe.get(ee);return yield Pe.put(k,ee),yield Ae.done,(!We||We.fid!==k.fid)&&Ce(M,k.fid),k})).apply(this,arguments)}function et(M){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,q.Z)(function*(M){const k=ae(M),he=(yield nt()).transaction(Ve,"readwrite");yield he.objectStore(Ve).delete(k),yield he.done})).apply(this,arguments)}function xt(M,k){return pn.apply(this,arguments)}function pn(){return(pn=(0,q.Z)(function*(M,k){const ee=ae(M),Ae=(yield nt()).transaction(Ve,"readwrite"),Pe=Ae.objectStore(Ve),We=yield Pe.get(ee),ht=k(We);return void 0===ht?yield Pe.delete(ee):yield Pe.put(ht,ee),yield Ae.done,ht&&(!We||We.fid!==ht.fid)&&Ce(M,ht.fid),ht})).apply(this,arguments)}function Cn(M){return an.apply(this,arguments)}function an(){return(an=(0,q.Z)(function*(M){let k;const ee=yield xt(M.appConfig,he=>{const Ae=Vt(he),Pe=ot(M,Ae);return k=Pe.registrationPromise,Pe.installationEntry});return""===ee.fid?{installationEntry:yield k}:{installationEntry:ee,registrationPromise:k}})).apply(this,arguments)}function Vt(M){return hr(M||{fid:ye(),registrationStatus:0})}function ot(M,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(X.create("app-offline"))};const ee={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},he=function Dt(M,k){return ir.apply(this,arguments)}(M,ee);return{installationEntry:ee,registrationPromise:he}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:wr(M)}:{installationEntry:k}}function ir(){return(ir=(0,q.Z)(function*(M,k){try{const ee=yield Ne(M,k);return Xe(M.appConfig,ee)}catch(ee){throw Z(ee)&&409===ee.customData.serverCode?yield et(M.appConfig):yield Xe(M.appConfig,{fid:k.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function wr(M){return Un.apply(this,arguments)}function Un(){return(Un=(0,q.Z)(function*(M){let k=yield Di(M.appConfig);for(;1===k.registrationStatus;)yield oe(100),k=yield Di(M.appConfig);if(0===k.registrationStatus){const{installationEntry:ee,registrationPromise:he}=yield Cn(M);return he||ee}return k})).apply(this,arguments)}function Di(M){return xt(M,k=>{if(!k)throw X.create("installation-not-found");return hr(k)})}function hr(M){return function fo(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Dn(M,k){return xo.apply(this,arguments)}function xo(){return(xo=(0,q.Z)(function*({appConfig:M,heartbeatServiceProvider:k},ee){const he=rn(M,ee),Ae=K(M,ee),Pe=k.getImmediate({optional:!0});if(Pe){const St=yield Pe.getHeartbeatsHeader();St&&Ae.append("x-firebase-client",St)}const ht={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:D,appId:M.appId}})},wt=yield ne(()=>fetch(he,ht));if(wt.ok)return re(yield wt.json());throw yield G("Generate Auth Token",wt)})).apply(this,arguments)}function rn(M,{fid:k}){return`${Y(M)}/${k}/authTokens:generate`}function ti(M){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,q.Z)(function*(M,k=!1){let ee;const he=yield xt(M.appConfig,Pe=>{if(!ln(Pe))throw X.create("not-registered");const We=Pe.authToken;if(!k&&Ee(We))return Pe;if(1===We.requestStatus)return ee=it(M,k),Pe;{if(!navigator.onLine)throw X.create("app-offline");const ht=De(Pe);return ee=Ot(M,ht),ht}});return ee?yield ee:he.authToken})).apply(this,arguments)}function it(M,k){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,q.Z)(function*(M,k){let ee=yield ft(M.appConfig);for(;1===ee.authToken.requestStatus;)yield oe(100),ee=yield ft(M.appConfig);const he=ee.authToken;return 0===he.requestStatus?ti(M,k):he})).apply(this,arguments)}function ft(M){return xt(M,k=>{if(!ln(k))throw X.create("not-registered");return function $e(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Ot(M,k){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,q.Z)(function*(M,k){try{const ee=yield Dn(M,k),he=Object.assign(Object.assign({},k),{authToken:ee});return yield Xe(M.appConfig,he),ee}catch(ee){if(!Z(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const he=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Xe(M.appConfig,he)}else yield et(M.appConfig);throw ee}})).apply(this,arguments)}function ln(M){return void 0!==M&&2===M.registrationStatus}function Ee(M){return 2===M.requestStatus&&!function ve(M){const k=Date.now();return k<M.creationTime||M.creationTime+M.expiresIn<k+36e5}(M)}function De(M){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:k})}function yt(){return(yt=(0,q.Z)(function*(M){const k=M,{installationEntry:ee,registrationPromise:he}=yield Cn(k);return he?he.catch(console.error):ti(k).catch(console.error),ee.fid})).apply(this,arguments)}function on(){return(on=(0,q.Z)(function*(M,k=!1){const ee=M;return yield Mn(ee),(yield ti(ee,k)).token})).apply(this,arguments)}function Mn(M){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,q.Z)(function*(M){const{registrationPromise:k}=yield Cn(M);k&&(yield k)})).apply(this,arguments)}function Ol(M){return X.create("missing-app-config-values",{valueName:M})}const Ml="installations",ls=M=>{const k=M.getProvider("app").getImmediate(),ee=function as(M){if(!M||!M.options)throw Ol("App Configuration");if(!M.name)throw Ol("App Name");const k=["projectId","apiKey","appId"];for(const ee of k)if(!M.options[ee])throw Ol(ee);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(k);return{app:k,appConfig:ee,heartbeatServiceProvider:(0,Q._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Bu=M=>{const k=M.getProvider("app").getImmediate(),ee=(0,Q._getProvider)(k,Ml).getImmediate();return{getId:()=>function ke(M){return yt.apply(this,arguments)}(ee),getToken:Ae=>function Wt(M){return on.apply(this,arguments)}(ee,Ae)}};(function Nl(){(0,Q._registerComponent)(new j.wA(Ml,ls,"PUBLIC")),(0,Q._registerComponent)(new j.wA("installations-internal",Bu,"PRIVATE"))})(),(0,Q.registerVersion)(I,v),(0,Q.registerVersion)(I,v,"esm2017");const ba="@firebase/remote-config",Bn=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ki{constructor(k,ee,he,Ae){this.client=k,this.storage=ee,this.storageCache=he,this.logger=Ae}isCachedDataFresh(k,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-ee,Ae=he<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ae}.`),Ae}fetch(k){var ee=this;return(0,q.Z)(function*(){const[he,Ae]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Ae&&ee.isCachedDataFresh(k.cacheMaxAgeMillis,he))return Ae;k.eTag=Ae&&Ae.eTag;const Pe=yield ee.client.fetch(k),We=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&We.push(ee.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(We),Pe})()}}function Fr(M=navigator){return M.languages&&M.languages[0]||M.language}class Qn{constructor(k,ee,he,Ae,Pe,We){this.firebaseInstallations=k,this.sdkVersion=ee,this.namespace=he,this.projectId=Ae,this.apiKey=Pe,this.appId=We}fetch(k){var ee=this;return(0,q.Z)(function*(){const[he,Ae]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},wt={sdk_version:ee.sdkVersion,app_instance_id:he,app_instance_id_token:Ae,app_id:ee.appId,language_code:Fr()},St={method:"POST",headers:ht,body:JSON.stringify(wt)},Kt=fetch(We,St),At=new Promise((bn,yi)=>{k.signal.addEventListener(()=>{const ra=new Error("The operation was aborted.");ra.name="AbortError",yi(ra)})});let Hn;try{yield Promise.race([Kt,At]),Hn=yield Kt}catch(bn){let yi="fetch-client-network";throw"AbortError"===bn?.name&&(yi="fetch-timeout"),Bn.create(yi,{originalErrorMessage:bn?.message})}let tr=Hn.status;const zn=Hn.headers.get("ETag")||void 0;let Qa,zo;if(200===Hn.status){let bn;try{bn=yield Hn.json()}catch(yi){throw Bn.create("fetch-client-parse",{originalErrorMessage:yi?.message})}Qa=bn.entries,zo=bn.state}if("INSTANCE_STATE_UNSPECIFIED"===zo?tr=500:"NO_CHANGE"===zo?tr=304:("NO_TEMPLATE"===zo||"EMPTY_CONFIG"===zo)&&(Qa={}),304!==tr&&200!==tr)throw Bn.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:zn,config:Qa}})()}}class Gn{constructor(k,ee){this.client=k,this.storage=ee}fetch(k){var ee=this;return(0,q.Z)(function*(){const he=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(k,he)})()}attemptFetch(k,{throttleEndTimeMillis:ee,backoffCount:he}){var Ae=this;return(0,q.Z)(function*(){yield function Oo(M,k){return new Promise((ee,he)=>{const Ae=Math.max(k-Date.now(),0),Pe=setTimeout(ee,Ae);M.addEventListener(()=>{clearTimeout(Pe),he(Bn.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,ee);try{const Pe=yield Ae.client.fetch(k);return yield Ae.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function On(M){if(!(M instanceof B.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Pe))throw Pe;const We={throttleEndTimeMillis:Date.now()+(0,B.$s)(he),backoffCount:he+1};return yield Ae.storage.setThrottleMetadata(We),Ae.attemptFetch(k,We)}})()}}class Ta{constructor(k,ee,he,Ae,Pe){this.app=k,this._client=ee,this._storageCache=he,this._storage=Ae,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zi(M,k){const ee=M.target.error||void 0;return Bn.create(k,{originalErrorMessage:ee&&ee?.message})}const oi="app_namespace_store";class ai{constructor(k,ee,he,Ae=function si(){return new Promise((M,k)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=he=>{k(Zi(he,"storage-open"))},ee.onsuccess=he=>{M(he.target.result)},ee.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(oi,{keyPath:"compositeKey"})}}catch(ee){k(Bn.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=k,this.appName=ee,this.namespace=he,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var ee=this;return(0,q.Z)(function*(){const he=yield ee.openDbPromise;return new Promise((Ae,Pe)=>{const ht=he.transaction([oi],"readonly").objectStore(oi),wt=ee.createCompositeKey(k);try{const St=ht.get(wt);St.onerror=Kt=>{Pe(Zi(Kt,"storage-get"))},St.onsuccess=Kt=>{const At=Kt.target.result;Ae(At?At.value:void 0)}}catch(St){Pe(Bn.create("storage-get",{originalErrorMessage:St?.message}))}})})()}set(k,ee){var he=this;return(0,q.Z)(function*(){const Ae=yield he.openDbPromise;return new Promise((Pe,We)=>{const wt=Ae.transaction([oi],"readwrite").objectStore(oi),St=he.createCompositeKey(k);try{const Kt=wt.put({compositeKey:St,value:ee});Kt.onerror=At=>{We(Zi(At,"storage-set"))},Kt.onsuccess=()=>{Pe()}}catch(Kt){We(Bn.create("storage-set",{originalErrorMessage:Kt?.message}))}})})()}delete(k){var ee=this;return(0,q.Z)(function*(){const he=yield ee.openDbPromise;return new Promise((Ae,Pe)=>{const ht=he.transaction([oi],"readwrite").objectStore(oi),wt=ee.createCompositeKey(k);try{const St=ht.delete(wt);St.onerror=Kt=>{Pe(Zi(Kt,"storage-delete"))},St.onsuccess=()=>{Ae()}}catch(St){Pe(Bn.create("storage-delete",{originalErrorMessage:St?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Yi{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,q.Z)(function*(){const ee=k.storage.getLastFetchStatus(),he=k.storage.getLastSuccessfulFetchTimestampMillis(),Ae=k.storage.getActiveConfig(),Pe=yield ee;Pe&&(k.lastFetchStatus=Pe);const We=yield he;We&&(k.lastSuccessfulFetchTimestampMillis=We);const ht=yield Ae;ht&&(k.activeConfig=ht)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function bh(){return Da.apply(this,arguments)}function Da(){return(Da=(0,q.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}!function qs(){(0,Q._registerComponent)(new j.wA("remote-config",function M(k,{instanceIdentifier:ee}){const he=k.getProvider("app").getImmediate(),Ae=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!(0,B.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:Pe,apiKey:We,appId:ht}=he.options;if(!Pe)throw Bn.create("registration-project-id");if(!We)throw Bn.create("registration-api-key");if(!ht)throw Bn.create("registration-app-id");const wt=new ai(ht,he.name,ee=ee||"firebase"),St=new Yi(wt),Kt=new U.Yd(ba);Kt.logLevel=U.in.ERROR;const At=new Qn(Ae,Q.SDK_VERSION,ee,Pe,We,ht),Hn=new Gn(At,wt),tr=new Ki(Hn,wt,St,Kt),zn=new Ta(he,tr,St,wt,Kt);return function xn(M){const k=(0,B.m9)(M);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(zn),zn},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(ba,"0.4.3"),(0,Q.registerVersion)(ba,"0.4.3","esm2017")}();const Qi="/firebase-messaging-sw.js",ds="/firebase-cloud-messaging-push-scope",Gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ju="google.c.a.c_id",wh="google.c.a.c_l",Ih="google.c.a.ts",zs="google.c.a.e";var Ui=(()=>{return(M=Ui||(Ui={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Ui;var M})();function Mo(M){const k=new Uint8Array(M);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Th(M){const ee=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(ee),Ae=new Uint8Array(he.length);for(let Pe=0;Pe<he.length;++Pe)Ae[Pe]=he.charCodeAt(Pe);return Ae}const Dr="fcm_token_details_db",Ca="fcm_token_object_Store";function Hu(M){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,q.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(Dr))return null;let k=null;return(yield(0,A.X3)(Dr,5,{upgrade:(he=(0,q.Z)(function*(Ae,Pe,We,ht){var wt;if(Pe<2||!Ae.objectStoreNames.contains(Ca))return;const St=ht.objectStore(Ca),Kt=yield St.index("fcmSenderId").get(M);if(yield St.clear(),Kt)if(2===Pe){const At=Kt;if(!At.auth||!At.p256dh||!At.endpoint)return;k={token:At.fcmToken,createTime:null!==(wt=At.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Mo(At.vapidKey)}}}else if(3===Pe){const At=Kt;k={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Mo(At.auth),p256dh:Mo(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Mo(At.vapidKey)}}}else if(4===Pe){const At=Kt;k={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Mo(At.auth),p256dh:Mo(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Mo(At.vapidKey)}}}}),function(Pe,We,ht,wt){return he.apply(this,arguments)})})).close(),yield(0,A.Lj)(Dr),yield(0,A.Lj)("fcm_vapid_details_db"),yield(0,A.Lj)("undefined"),$u(k)?k:null;var he}),Sa.apply(this,arguments)}function $u(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:k}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const fs="firebase-messaging-store";let hs=null;function ps(){return hs||(hs=(0,A.X3)("firebase-messaging-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(fs)}})),hs}function Aa(M){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,q.Z)(function*(M){const k=Po(M),he=yield(yield ps()).transaction(fs).objectStore(fs).get(k);if(he)return he;{const Ae=yield Hu(M.appConfig.senderId);if(Ae)return yield gs(M,Ae),Ae}})).apply(this,arguments)}function gs(M,k){return xa.apply(this,arguments)}function xa(){return(xa=(0,q.Z)(function*(M,k){const ee=Po(M),Ae=(yield ps()).transaction(fs,"readwrite");return yield Ae.objectStore(fs).put(k,ee),yield Ae.done,k})).apply(this,arguments)}function Oa(M){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,q.Z)(function*(M){const k=Po(M),he=(yield ps()).transaction(fs,"readwrite");yield he.objectStore(fs).delete(k),yield he.done})).apply(this,arguments)}function Po({appConfig:M}){return M.appId}const jn=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kl(M,k){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,q.Z)(function*(M,k){const ee=yield Ji(M),he=Ra(k),Ae={method:"POST",headers:ee,body:JSON.stringify(he)};let Pe;try{Pe=yield(yield fetch(Na(M.appConfig),Ae)).json()}catch(We){throw jn.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(Pe.error)throw jn.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw jn.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function Ma(M,k){return ho.apply(this,arguments)}function ho(){return(ho=(0,q.Z)(function*(M,k){const ee=yield Ji(M),he=Ra(k.subscriptionOptions),Ae={method:"PATCH",headers:ee,body:JSON.stringify(he)};let Pe;try{Pe=yield(yield fetch(`${Na(M.appConfig)}/${k.token}`,Ae)).json()}catch(We){throw jn.create("token-update-failed",{errorInfo:We?.toString()})}if(Pe.error)throw jn.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw jn.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function ur(M,k){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,q.Z)(function*(M,k){const he={method:"DELETE",headers:yield Ji(M)};try{const Pe=yield(yield fetch(`${Na(M.appConfig)}/${k}`,he)).json();if(Pe.error)throw jn.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(Ae){throw jn.create("token-unsubscribe-failed",{errorInfo:Ae?.toString()})}})).apply(this,arguments)}function Na({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Ji(M){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,q.Z)(function*({appConfig:M,installations:k}){const ee=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Ra({p256dh:M,auth:k,endpoint:ee,vapidKey:he}){const Ae={web:{endpoint:ee,auth:k,p256dh:M}};return he!==Gs&&(Ae.web.applicationPubKey=he),Ae}const ko=6048e5;function Dd(M){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,q.Z)(function*(M){const k=yield Sd(M.swRegistration,M.vapidKey),ee={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:k.endpoint,auth:Mo(k.getKey("auth")),p256dh:Mo(k.getKey("p256dh"))},he=yield Aa(M.firebaseDependencies);if(he){if(qu(he.subscriptionOptions,ee))return Date.now()>=he.createTime+ko?$t(M,{token:he.token,createTime:Date.now(),subscriptionOptions:ee}):he.token;try{yield ur(M.firebaseDependencies,he.token)}catch(Ae){console.warn(Ae)}return Cd(M.firebaseDependencies,ee)}return Cd(M.firebaseDependencies,ee)})).apply(this,arguments)}function Ll(M){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,q.Z)(function*(M){const k=yield Aa(M.firebaseDependencies);k&&(yield ur(M.firebaseDependencies,k.token),yield Oa(M.firebaseDependencies));const ee=yield M.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function $t(M,k){return ms.apply(this,arguments)}function ms(){return(ms=(0,q.Z)(function*(M,k){try{const ee=yield Ma(M.firebaseDependencies,k),he=Object.assign(Object.assign({},k),{token:ee,createTime:Date.now()});return yield gs(M.firebaseDependencies,he),ee}catch(ee){throw yield Ll(M),ee}})).apply(this,arguments)}function Cd(M,k){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,q.Z)(function*(M,k){const he={token:yield kl(M,k),createTime:Date.now(),subscriptionOptions:k};return yield gs(M,he),he.token})).apply(this,arguments)}function Sd(M,k){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,q.Z)(function*(M,k){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Th(k)})})).apply(this,arguments)}function qu(M,k){return k.vapidKey===M.vapidKey&&k.endpoint===M.endpoint&&k.auth===M.auth&&k.p256dh===M.p256dh}function Fl(M){const k={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function Ad(M,k){if(!k.notification)return;M.notification={};const ee=k.notification.title;ee&&(M.notification.title=ee);const he=k.notification.body;he&&(M.notification.body=he);const Ae=k.notification.image;Ae&&(M.notification.image=Ae);const Pe=k.notification.icon;Pe&&(M.notification.icon=Pe)}(k,M),function Be(M,k){k.data&&(M.data=k.data)}(k,M),function sn(M,k){var ee,he,Ae,Pe,We;if(!(k.fcmOptions||null!==(ee=k.notification)&&void 0!==ee&&ee.click_action))return;M.fcmOptions={};const ht=null!==(Ae=null===(he=k.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Ae?Ae:null===(Pe=k.notification)||void 0===Pe?void 0:Pe.click_action;ht&&(M.fcmOptions.link=ht);const wt=null===(We=k.fcmOptions)||void 0===We?void 0:We.analytics_label;wt&&(M.fcmOptions.analyticsLabel=wt)}(k,M),k}function xd(M){return"object"==typeof M&&!!M&&ju in M}function Gu(M,k){const ee=[];for(let he=0;he<M.length;he++)ee.push(M.charAt(he)),he<k.length&&ee.push(k.charAt(he));return ee.join("")}function Vl(M){return jn.create("missing-app-config-values",{valueName:M})}Gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ys{constructor(k,ee,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function er(M){if(!M||!M.options)throw Vl("App Configuration Object");if(!M.name)throw Vl("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=M;for(const he of k)if(!ee[he])throw Vl(he);return{appName:M.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ae,installations:ee,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Si(M){return vs.apply(this,arguments)}function vs(){return(vs=(0,q.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Qi,{scope:ds}),M.swRegistration.update().catch(()=>{})}catch(k){throw jn.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function zu(M,k){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,q.Z)(function*(M,k){if(!k&&!M.swRegistration&&(yield Si(M)),k||!M.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");M.swRegistration=k}})).apply(this,arguments)}function Od(M,k){return _s.apply(this,arguments)}function _s(){return(_s=(0,q.Z)(function*(M,k){k?M.vapidKey=k:M.vapidKey||(M.vapidKey=Gs)})).apply(this,arguments)}function Cr(){return(Cr=(0,q.Z)(function*(M,k){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield Od(M,k?.vapidKey),yield zu(M,k?.serviceWorkerRegistration),Dd(M)})).apply(this,arguments)}function bs(M,k,ee){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,q.Z)(function*(M,k,ee){const he=po(k);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:ee[ju],message_name:ee[wh],message_time:ee[Ih],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function po(M){switch(M){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Es(){return(Es=(0,q.Z)(function*(M,k){const ee=k.data;if(!ee.isFirebaseMessaging)return;M.onMessageHandler&&ee.messageType===Ui.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Fl(ee)):M.onMessageHandler.next(Fl(ee)));const he=ee.data;xd(he)&&"1"===he[zs]&&(yield bs(M,ee.messageType,he))})).apply(this,arguments)}const Ul="@firebase/messaging",go=M=>{const k=new ys(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function Wu(M,k){return Es.apply(this,arguments)}(k,ee)),k},Qs=M=>{const k=M.getProvider("messaging").getImmediate();return{getToken:he=>function mr(M,k){return Cr.apply(this,arguments)}(k,he)}};function Bl(){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,q.Z)(function*(){try{yield(0,B.eu)()}catch{return!1}return typeof window<"u"&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nd(){(0,Q._registerComponent)(new j.wA("messaging",go,"PUBLIC")),(0,Q._registerComponent)(new j.wA("messaging-internal",Qs,"PRIVATE")),(0,Q.registerVersion)(Ul,"0.12.3"),(0,Q.registerVersion)(Ul,"0.12.3","esm2017")}();const Yu="analytics",Ur="firebase_id",Qu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pd="https://www.googletagmanager.com/gtag/js",yr=new U.Yd("@firebase/analytics");function kd(M){return Promise.all(M.map(k=>k.catch(ee=>ee)))}function xh(M,k){const ee=document.createElement("script");ee.src=`${Pd}?l=${M}&id=${k}`,ee.async=!0,document.head.appendChild(ee)}function Js(M,k,ee,he,Ae,Pe){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,q.Z)(function*(M,k,ee,he,Ae,Pe){const We=he[Ae];try{if(We)yield k[We];else{const wt=(yield kd(ee)).find(St=>St.measurementId===Ae);wt&&(yield k[wt.appId])}}catch(ht){yr.error(ht)}M("config",Ae,Pe)})).apply(this,arguments)}function Fo(M,k,ee,he,Ae){return mo.apply(this,arguments)}function mo(){return(mo=(0,q.Z)(function*(M,k,ee,he,Ae){try{let Pe=[];if(Ae&&Ae.send_to){let We=Ae.send_to;Array.isArray(We)||(We=[We]);const ht=yield kd(ee);for(const wt of We){const St=ht.find(At=>At.measurementId===wt),Kt=St&&k[St.appId];if(!Kt){Pe=[];break}Pe.push(Kt)}}0===Pe.length&&(Pe=Object.values(k)),yield Promise.all(Pe),M("event",he,Ae||{})}catch(Pe){yr.error(Pe)}})).apply(this,arguments)}function to(M){const k=window.document.getElementsByTagName("script");for(const ee of Object.values(k))if(ee.src&&ee.src.includes(Pd)&&ee.src.includes(M))return ee;return null}const Sr=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xu=new class Oh{constructor(k={},ee=1e3){this.throttleMetadata=k,this.intervalMillis=ee}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,ee){this.throttleMetadata[k]=ee}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function yo(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function jl(M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,q.Z)(function*(M){var k;const{appId:ee,apiKey:he}=M,Ae={method:"GET",headers:yo(he)},Pe=Qu.replace("{app-id}",ee),We=yield fetch(Pe,Ae);if(200!==We.status&&304!==We.status){let ht="";try{const wt=yield We.json();null!==(k=wt.error)&&void 0!==k&&k.message&&(ht=wt.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:We.status,responseMessage:ht})}return We.json()})).apply(this,arguments)}function Fa(M){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,q.Z)(function*(M,k=Xu,ee){const{appId:he,apiKey:Ae,measurementId:Pe}=M.options;if(!he)throw Sr.create("no-app-id");if(!Ae){if(Pe)return{measurementId:Pe,appId:he};throw Sr.create("no-api-key")}const We=k.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ht=new Is;return setTimeout((0,q.Z)(function*(){ht.abort()}),void 0!==ee?ee:6e4),Va({appId:he,apiKey:Ae,measurementId:Pe},We,ht,k)})).apply(this,arguments)}function Va(M,k,ee){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,q.Z)(function*(M,{throttleEndTimeMillis:k,backoffCount:ee},he,Ae=Xu){var Pe;const{appId:We,measurementId:ht}=M;try{yield Ua(he,k)}catch(wt){if(ht)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:We,measurementId:ht};throw wt}try{const wt=yield jl(M);return Ae.deleteThrottleMetadata(We),wt}catch(wt){const St=wt;if(!Hl(St)){if(Ae.deleteThrottleMetadata(We),ht)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:We,measurementId:ht};throw wt}const Kt=503===Number(null===(Pe=St?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,B.$s)(ee,Ae.intervalMillis,30):(0,B.$s)(ee,Ae.intervalMillis),At={throttleEndTimeMillis:Date.now()+Kt,backoffCount:ee+1};return Ae.setThrottleMetadata(We,At),yr.debug(`Calling attemptFetch again in ${Kt} millis`),Va(M,At,he,Ae)}})).apply(this,arguments)}function Ua(M,k){return new Promise((ee,he)=>{const Ae=Math.max(k-Date.now(),0),Pe=setTimeout(ee,Ae);M.addEventListener(()=>{clearTimeout(Pe),he(Sr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function Hl(M){if(!(M instanceof B.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}class Is{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let $l,Ds;function Ts(){return(Ts=(0,q.Z)(function*(M,k,ee,he,Ae){if(Ae&&Ae.global)M("event",ee,he);else{const Pe=yield k;M("event",ee,Object.assign(Object.assign({},he),{send_to:Pe}))}})).apply(this,arguments)}function Gl(M){Ds=M}function ja(M){$l=M}function zl(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,q.Z)(function*(){if(!(0,B.hl)())return yr.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(M){return yr.warn(Sr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function $a(){return($a=(0,q.Z)(function*(M,k,ee,he,Ae,Pe,We){var ht;const wt=Fa(M);wt.then(tr=>{ee[tr.measurementId]=tr.appId,M.options.measurementId&&tr.measurementId!==M.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>yr.error(tr)),k.push(wt);const St=zl().then(tr=>{if(tr)return he.getId()}),[Kt,At]=yield Promise.all([wt,St]);to(Pe)||xh(Pe,Kt.measurementId),Ds&&(Ae("consent","default",Ds),Gl(void 0)),Ae("js",new Date);const Hn=null!==(ht=We?.config)&&void 0!==ht?ht:{};return Hn.origin="firebase",Hn.update=!0,null!=At&&(Hn[Ur]=At),Ae("config",Kt.measurementId,Hn),$l&&(Ae("set",$l),ja(void 0)),Kt.measurementId})).apply(this,arguments)}class qa{constructor(k){this.app=k}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},Fd=[];const Bo={};let Wl,li,ji="dataLayer",ro=!1;function Cs(M,k,ee){!function Kl(){const M=[];if((0,B.ru)()&&M.push("This is a browser extension environment."),(0,B.zI)()||M.push("Cookies are not available."),M.length>0){const k=M.map((he,Ae)=>`(${Ae+1}) ${he}`).join(" "),ee=Sr.create("invalid-analytics-context",{errorInfo:k});yr.warn(ee.message)}}();const he=M.options.appId;if(!he)throw Sr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Sr.create("no-api-key");yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[he])throw Sr.create("already-exists",{id:he});if(!ro){!function Ju(M){let k=[];Array.isArray(window[M])?k=window[M]:window[M]=k}(ji);const{wrappedGtag:Pe,gtagCore:We}=function Ld(M,k,ee,he,Ae){let Pe=function(...We){window[he].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Pe=window[Ae]),window[Ae]=function ws(M,k,ee,he){function Pe(){return(Pe=(0,q.Z)(function*(We,ht,wt){try{"event"===We?yield Fo(M,k,ee,ht,wt):"config"===We?yield Js(M,k,ee,he,ht,wt):"consent"===We?M("consent","update",wt):M("set",ht)}catch(St){yr.error(St)}})).apply(this,arguments)}return function Ae(We,ht,wt){return Pe.apply(this,arguments)}}(Pe,M,k,ee),{gtagCore:Pe,wrappedGtag:window[Ae]}}(xi,Fd,Bo,ji,"gtag");li=Pe,Wl=We,ro=!0}return xi[he]=function tc(M,k,ee,he,Ae,Pe,We){return $a.apply(this,arguments)}(M,Fd,Bo,k,Wl,ji,ee),new qa(M)}function ic(){return bo.apply(this,arguments)}function bo(){return(bo=(0,q.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}const gn="@firebase/analytics";!function ac(){(0,Q._registerComponent)(new j.wA(Yu,(k,{options:ee})=>Cs(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,Q._registerComponent)(new j.wA("analytics-internal",function M(k){try{const ee=k.getProvider(Yu).getImmediate();return{logEvent:(he,Ae,Pe)=>function Ud(M,k,ee,he){M=(0,B.m9)(M),function Vo(M,k,ee,he,Ae){return Ts.apply(this,arguments)}(li,xi[M.app.options.appId],k,ee,he).catch(Ae=>yr.error(Ae))}(ee,he,Ae,Pe)}}catch(ee){throw Sr.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,Q.registerVersion)(gn,"0.9.3"),(0,Q.registerVersion)(gn,"0.9.3","esm2017")}();var Nh=N(727);class za extends Nh.w0{constructor(k,ee){super()}schedule(k,ee=0){return this}}const jo={setInterval(M,k,...ee){const{delegate:he}=jo;return he?.setInterval?he.setInterval(M,k,...ee):setInterval(M,k,...ee)},clearInterval(M){const{delegate:k}=jo;return(k?.clearInterval||clearInterval)(M)},delegate:void 0};var Bd=N(8737);class Rh extends za{constructor(k,ee){super(k,ee),this.scheduler=k,this.work=ee,this.pending=!1}schedule(k,ee=0){var he;if(this.closed)return this;this.state=k;const Ae=this.id,Pe=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(Pe,Ae,ee)),this.pending=!0,this.delay=ee,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(Pe,this.id,ee),this}requestAsyncId(k,ee,he=0){return jo.setInterval(k.flush.bind(k,this),he)}recycleAsyncId(k,ee,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ee;null!=ee&&jo.clearInterval(ee)}execute(k,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(k,ee);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(k,ee){let Ae,he=!1;try{this.work(k)}catch(Pe){he=!0,Ae=Pe||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:k,scheduler:ee}=this,{actions:he}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Bd.P)(he,this),null!=k&&(this.id=this.recycleAsyncId(ee,k,null)),this.delay=null,super.unsubscribe()}}}var Ph=N(6063);class io{constructor(k,ee=io.now){this.schedulerActionCtor=k,this.now=ee}schedule(k,ee=0,he){return new this.schedulerActionCtor(this,k).schedule(he,ee)}}io.now=Ph.l.now;class Vn extends io{constructor(k,ee=io.now){super(k,ee),this.actions=[],this._active=!1}flush(k){const{actions:ee}=this;if(this._active)return void ee.push(k);let he;this._active=!0;do{if(he=k.execute(k.state,k.delay))break}while(k=ee.shift());if(this._active=!1,he){for(;k=ee.shift();)k.unsubscribe();throw he}}}const Wa=new class lc extends Vn{}(class As extends Rh{constructor(k,ee){super(k,ee),this.scheduler=k,this.work=ee}schedule(k,ee=0){return ee>0?super.schedule(k,ee):(this.delay=ee,this.state=k,this.scheduler.flush(this),this)}execute(k,ee){return ee>0||this.closed?super.execute(k,ee):this._execute(k,ee)}requestAsyncId(k,ee,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(k,ee,he):(k.flush(this),0)}}),jr=new Vn(Rh);var uc=N(9751),Zl=N(8505),Ho=N(9468),jd=N(5363);const Hd=new c.GfV("7.5.0"),cc="__angularfire_symbol__analyticsIsSupportedValue",Yl="__angularfire_symbol__analyticsIsSupported",cr="__angularfire_symbol__remoteConfigIsSupportedValue",Ka="__angularfire_symbol__remoteConfigIsSupported",dn="__angularfire_symbol__messagingIsSupportedValue",$o="__angularfire_symbol__messagingIsSupported";function Za(M,k,ee){if(k){if(1===k.length)return k[0];const Pe=k.filter(We=>We.app===ee);if(1===Pe.length)return Pe[0]}return ee.container.getProvider(M).getImmediate({optional:!0})}globalThis[Yl]||(globalThis[Yl]=ic().then(M=>globalThis[cc]=M).catch(()=>globalThis[cc]=!1)),globalThis[$o]||(globalThis[$o]=Bl().then(M=>globalThis[dn]=M).catch(()=>globalThis[dn]=!1)),globalThis[Ka]||(globalThis[Ka]=bh().then(M=>globalThis[cr]=M).catch(()=>globalThis[cr]=!1));const Oi=(M,k)=>{const ee=k?[k]:(0,z.C6)(),he=[];return ee.forEach(Ae=>{Ae.container.getProvider(M).instances.forEach(We=>{he.includes(We)||he.push(We)})}),he};function qo(){}class na{constructor(k,ee=Wa){this.zone=k,this.delegate=ee}now(){return this.delegate.now()}schedule(k,ee,he){const Ae=this.zone;return this.delegate.schedule(function(We){Ae.runGuarded(()=>{k.apply(this,[We])})},ee,he)}}class Ya{constructor(k){this.zone=k,this.task=null}call(k,ee){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),ee.pipe((0,Zl.b)({next:he,complete:he,error:he})).subscribe(k).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ql=(()=>{class M{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new na(Zone.current)),this.insideAngular=ee.run(()=>new na(Zone.current,jr)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(ee){return new(ee||M)(c.LFG(c.R0b))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Hr(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function fc(M){return Hr().ngZone.runOutsideAngular(()=>M())}function $r(M){return Hr().ngZone.run(()=>M())}function Os(M){return Hr(),function Go(M){return function(ee){return(ee=ee.lift(new Ya(M.ngZone))).pipe((0,Ho.R)(M.outsideAngular),(0,jd.Q)(M.insideAngular))}}(Hr())(M)}const Jl=(M,k)=>function(){const he=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),$r(()=>M.apply(void 0,he))},vr=(M,k)=>function(){let ee;const he=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof he[Pe]&&(k&&(ee||(ee=$r(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)))),he[Pe]=Jl(he[Pe],ee));const Ae=fc(()=>M.apply(this,he));if(!k){if(Ae instanceof uc.y){const Pe=Hr();return Ae.pipe((0,Ho.R)(Pe.outsideAngular),(0,jd.Q)(Pe.insideAngular))}return $r(()=>Ae)}return Ae instanceof uc.y?Ae.pipe(Os):Ae instanceof Promise?$r(()=>new Promise((Pe,We)=>Ae.then(ht=>$r(()=>Pe(ht)),ht=>$r(()=>We(ht))))):"function"==typeof Ae&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Ae.apply(this,arguments)}:$r(()=>Ae)}},2722:(Tt,ge,N)=>{"use strict";N.d(ge,{$:()=>Na,A:()=>C,B:()=>S,G:()=>Bu,H:()=>Nn,J:()=>Gn,L:()=>Ee,M:()=>Da,N:()=>Eh,P:()=>Ph,Q:()=>ju,R:()=>sc,T:()=>wh,U:()=>Gs,V:()=>Ui,W:()=>Mo,X:()=>Hu,Y:()=>Vr,Z:()=>kl,_:()=>Ma,a:()=>ea,a0:()=>Dd,a1:()=>Ll,a2:()=>$t,a3:()=>Cd,a4:()=>Sd,a5:()=>qu,a6:()=>Ad,a7:()=>Be,a8:()=>xd,a9:()=>Gu,aA:()=>ve,aB:()=>M,aC:()=>Oi,aD:()=>Za,aE:()=>sr,aI:()=>yo,aL:()=>zs,aa:()=>Si,ab:()=>zu,ac:()=>Od,af:()=>bs,ag:()=>po,ah:()=>Wu,ak:()=>fs,al:()=>ka,an:()=>Pd,ao:()=>Xs,ap:()=>ne,aq:()=>Gt,ar:()=>Mn,as:()=>Z,at:()=>Ko,au:()=>St,av:()=>ni,aw:()=>Y,ax:()=>F,ay:()=>Pe,az:()=>me,b:()=>Sr,c:()=>Zl,d:()=>cc,e:()=>jd,f:()=>Ya,g:()=>$d,h:()=>fc,i:()=>Ha,j:()=>Jl,k:()=>Yd,l:()=>Eo,m:()=>A_,n:()=>Xd,o:()=>A,r:()=>Nh,s:()=>om,u:()=>Rh});var c=N(5861),z=N(2090),q=N(9681),Q=N(1877),B=N(655),j=N(4859);const A={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},C={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const S=function D(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},x=function R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),L=new Q.Yd("@firebase/auth");function X(b,...p){L.logLevel<=Q.in.ERROR&&L.error(`Auth (${q.SDK_VERSION}): ${b}`,...p)}function Z(b,...p){throw H(b,...p)}function Y(b,...p){return H(b,...p)}function re(b,p,m){const E=Object.assign(Object.assign({},x()),{[p]:m});return new z.LL("auth","Firebase",E).create(p,{appName:b.name})}function G(b,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Z(b,"argument-error"),re(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H(b,...p){if("string"!=typeof b){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(m,...E)}return V.create(b,...p)}function F(b,p,...m){if(!b)throw H(p,...m)}function K(b){const p="INTERNAL ASSERTION FAILED: "+b;throw X(p),new Error(p)}function ne(b,p){b||K(p)}const fe=new Map;function me(b){ne(b instanceof Function,"Expected a class definition");let p=fe.get(b);return p?(ne(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,fe.set(b,p),p)}function ue(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function oe(){return"http:"===J()||"https:"===J()}function J(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ye{constructor(p,m){this.shortDelay=p,this.longDelay=m,ne(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(b,p){ne(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ae{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ce=new ye(3e4,6e4);function Se(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Oe(b,p,m,E){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(b,p,m,E,te={}){return dt(b,te,(0,c.Z)(function*(){let de={},Me={};E&&("GET"===p?Me=E:de={body:JSON.stringify(E)});const ze=(0,z.xO)(Object.assign({key:b.config.apiKey},Me)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),ae.fetch()(Tn(b,b.config.apiHost,m,ze),Object.assign({method:p,headers:lt,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function dt(b,p,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(b,p,m){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},we),p);try{const te=new In(b),de=yield Promise.race([m(),te.promise]);te.clearNetworkTimeout();const Me=yield de.json();if("needConfirmation"in Me)throw Ve(b,"account-exists-with-different-credential",Me);if(de.ok&&!("errorMessage"in Me))return Me;{const ze=de.ok?Me.errorMessage:Me.error.message,[lt,_t]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Ve(b,"credential-already-in-use",Me);if("EMAIL_EXISTS"===lt)throw Ve(b,"email-already-in-use",Me);if("USER_DISABLED"===lt)throw Ve(b,"user-disabled",Me);const Jt=E[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw re(b,Jt,_t);Z(b,Jt)}}catch(te){if(te instanceof z.ZR)throw te;Z(b,"network-request-failed")}})).apply(this,arguments)}function mt(b,p,m,E){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(b,p,m,E,te={}){const de=yield Oe(b,p,m,E,te);return"mfaPendingCredential"in de&&Z(b,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Tn(b,p,m,E){const te=`${p}${m}?${E}`;return b.config.emulator?_e(b.config,te):`${b.config.apiScheme}://${te}`}class In{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Y(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(b,p,m){const E={appName:b.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const te=Y(b,p,E);return te.customData._tokenResponse=m,te}function nt(){return(nt=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Xe(b,p){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function et(b,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function xt(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function an(){return(an=(0,c.Z)(function*(b,p=!1){const m=(0,z.m9)(b),E=yield m.getIdToken(p),te=ot(E);F(te&&te.exp&&te.auth_time&&te.iat,m.auth,"internal-error");const de="object"==typeof te.firebase?te.firebase:void 0,Me=de?.sign_in_provider;return{claims:te,token:E,authTime:xt(Vt(te.auth_time)),issuedAtTime:xt(Vt(te.iat)),expirationTime:xt(Vt(te.exp)),signInProvider:Me||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(b){return 1e3*Number(b)}function ot(b){const[p,m,E]=b.split(".");if(void 0===p||void 0===m||void 0===E)return X("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,z.tV)(m);return te?JSON.parse(te):(X("Failed to decode base64 JWT payload"),null)}catch(te){return X("Caught error parsing JWT payload as JSON",te?.toString()),null}}function ir(b,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(b,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof z.ZR&&Un(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Un({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Di{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const te=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class hr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fo(b){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(b){var p;const m=b.auth,E=yield b.getIdToken(),te=yield ir(b,et(m,{idToken:E}));F(te?.users.length,m,"internal-error");const de=te.users[0];b._notifyReloadListener(de);const Me=null!==(p=de.providerUserInfo)&&void 0!==p&&p.length?Fi(de.providerUserInfo):[],ze=ti(b.providerData,Me),Jt=!!b.isAnonymous&&!(b.email&&de.passwordHash||ze?.length),Sn={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:ze,metadata:new hr(de.createdAt,de.lastLoginAt),isAnonymous:Jt};Object.assign(b,Sn)})).apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(b){const p=(0,z.m9)(b);yield fo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ti(b,p){return[...b.filter(E=>!p.some(te=>te.providerId===E.providerId)),...p]}function Fi(b){return b.map(p=>{var{providerId:m}=p,E=(0,B._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ge(){return(Ge=(0,c.Z)(function*(b,p){const m=yield dt(b,{},(0,c.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:te,apiKey:de}=b.config,Me=Tn(b,te,"/v1/token",`key=${de}`),ze=yield b._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Me,{method:"POST",headers:ze,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){F(p.idToken,"internal-error"),F(typeof p.idToken<"u","internal-error"),F(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Dt(b){const p=ot(b);return F(p,"internal-error"),F(typeof p.exp<"u","internal-error"),F(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,c.Z)(function*(){return F(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,c.Z)(function*(){const{accessToken:te,refreshToken:de,expiresIn:Me}=yield function it(b,p){return Ge.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(te,de,Number(Me))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:te,expirationTime:de}=m,Me=new ft;return E&&(F("string"==typeof E,"internal-error",{appName:p}),Me.refreshToken=E),te&&(F("string"==typeof te,"internal-error",{appName:p}),Me.accessToken=te),de&&(F("number"==typeof de,"internal-error",{appName:p}),Me.expirationTime=de),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return K("not implemented")}}function Ot(b,p){F("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Ht{constructor(p){var{uid:m,auth:E,stsTokenManager:te}=p,de=(0,B._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new hr(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const E=yield ir(m,m.stsTokenManager.getToken(m.auth,p));return F(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function Cn(b){return an.apply(this,arguments)}(this,p)}reload(){return function xo(b){return rn.apply(this,arguments)}(this)}_assign(p){this!==p&&(F(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Ht(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,c.Z)(function*(){let te=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),te=!0),m&&(yield fo(E)),yield E.auth._persistUserIfCurrent(E),te&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield ir(p,function je(b,p){return nt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,te,de,Me,ze,lt,_t,Jt;const Sn=null!==(E=m.displayName)&&void 0!==E?E:void 0,Gr=null!==(te=m.email)&&void 0!==te?te:void 0,so=null!==(de=m.phoneNumber)&&void 0!==de?de:void 0,Ns=null!==(Me=m.photoURL)&&void 0!==Me?Me:void 0,oa=null!==(ze=m.tenantId)&&void 0!==ze?ze:void 0,sa=null!==(lt=m._redirectEventId)&&void 0!==lt?lt:void 0,Xa=null!==(_t=m.createdAt)&&void 0!==_t?_t:void 0,ef=null!==(Jt=m.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:el,emailVerified:Fh,isAnonymous:Vh,providerData:tf,stsTokenManager:nu}=m;F(el&&nu,p,"internal-error");const cm=ft.fromJSON(this.name,nu);F("string"==typeof el,p,"internal-error"),Ot(Sn,p.name),Ot(Gr,p.name),F("boolean"==typeof Fh,p,"internal-error"),F("boolean"==typeof Vh,p,"internal-error"),Ot(so,p.name),Ot(Ns,p.name),Ot(oa,p.name),Ot(sa,p.name),Ot(Xa,p.name),Ot(ef,p.name);const nf=new Ht({uid:el,auth:p,email:Gr,emailVerified:Fh,displayName:Sn,isAnonymous:Vh,photoURL:Ns,phoneNumber:so,tenantId:oa,stsTokenManager:cm,createdAt:Xa,lastLoginAt:ef});return tf&&Array.isArray(tf)&&(nf.providerData=tf.map(Uh=>Object.assign({},Uh))),sa&&(nf._redirectEventId=sa),nf}static _fromIdTokenResponse(p,m,E=!1){return(0,c.Z)(function*(){const te=new ft;te.updateFromServerResponse(m);const de=new Ht({uid:m.localId,auth:p,stsTokenManager:te,isAnonymous:E});return yield fo(de),de})()}}const Ee=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,E){var te=this;return(0,c.Z)(function*(){te.storage[m]=E})()}_get(m){var E=this;return(0,c.Z)(function*(){const te=E.storage[m];return void 0===te?null:te})()}_remove(m){var E=this;return(0,c.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return b.type="NONE",b})();function ve(b,p,m){return`firebase:${b}:${p}:${m}`}class De{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:te,name:de}=this.auth;this.fullUserKey=ve(this.userKey,te.apiKey,de),this.fullPersistenceKey=ve("persistence",te.apiKey,de),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ht._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,c.Z)(function*(){if(!m.length)return new De(me(Ee),p,E);const te=(yield Promise.all(m.map(function(){var _t=(0,c.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let de=te[0]||me(Ee);const Me=ve(E,p.config.apiKey,p.name);let ze=null;for(const _t of m)try{const Jt=yield _t._get(Me);if(Jt){const Sn=Ht._fromJSON(p,Jt);_t!==de&&(ze=Sn),de=_t;break}}catch{}const lt=te.filter(_t=>_t._shouldAllowMigration);return de._shouldAllowMigration&&lt.length?(de=lt[0],ze&&(yield de._set(Me,ze.toJSON())),yield Promise.all(m.map(function(){var _t=(0,c.Z)(function*(Jt){if(Jt!==de)try{yield Jt._remove(Me)}catch{}});return function(Jt){return _t.apply(this,arguments)}}())),new De(de,p,E)):new De(de,p,E)})()}}function $e(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(on(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ke(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(or(p))return"Webos";if(yt(p))return"Safari";if((p.includes("chrome/")||Wt(p))&&!p.includes("edge/"))return"Chrome";if(Mn(p))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function ke(b=(0,z.z$)()){return/firefox\//i.test(b)}function yt(b=(0,z.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Wt(b=(0,z.z$)()){return/crios\//i.test(b)}function on(b=(0,z.z$)()){return/iemobile/i.test(b)}function Mn(b=(0,z.z$)()){return/android/i.test(b)}function Pt(b=(0,z.z$)()){return/blackberry/i.test(b)}function or(b=(0,z.z$)()){return/webos/i.test(b)}function Gt(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ni(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ss(b=(0,z.z$)()){return Gt(b)||Mn(b)||or(b)||Pt(b)||/windows phone/i.test(b)||on(b)}function as(b,p=[]){let m;switch(b){case"Browser":m=$e((0,z.z$)());break;case"Worker":m=`${$e((0,z.z$)())}-${b}`;break;default:m=b}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${q.SDK_VERSION}/${E}`}class Ol{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=de=>new Promise((Me,ze)=>{try{Me(p(de))}catch(lt){ze(lt)}});E.onAbort=m,this.queue.push(E);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const te of m.queue)yield te(p),te.onAbort&&E.push(te.onAbort)}catch(te){E.reverse();for(const de of E)try{de()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:te?.message})}})()}}class Ml{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new Ol(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=me(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var te,de;if(!E._deleted&&(E.persistenceManager=yield De.create(E,p),!E._deleted)){if(null!==(te=E._popupRedirectResolver)&&void 0!==te&&te._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(de=E.currentUser)||void 0===de?void 0:de.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var E;const te=yield m.assertedPersistence.getCurrentUser();let de=te,Me=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ze=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,lt=de?._redirectEventId,_t=yield m.tryRedirectSignIn(p);(!ze||ze===lt)&&_t?.user&&(de=_t.user,Me=!0)}if(!de)return m.directlySetCurrentUser(null);if(!de._redirectEventId){if(Me)try{yield m.beforeStateQueue.runMiddleware(de)}catch(ze){de=te,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ze))}return de?m.reloadAndSetCurrentUserOrClear(de):m.directlySetCurrentUser(null)}return F(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===de._redirectEventId?m.directlySetCurrentUser(de):m.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield fo(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const E=p?(0,z.m9)(p):null;return E&&F(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return p&&F(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(me(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new z.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,c.Z)(function*(){const te=yield E.getOrInitRedirectPersistenceManager(m);return null===p?te.removeCurrentUser():te.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&me(p)||m._popupRedirectResolver;F(E,m,"argument-error"),m.redirectPersistenceManager=yield De.create(m,[me(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var E,te;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(te=m.redirectUser)||void 0===te?void 0:te._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,te){if(this._deleted)return()=>{};const de="function"==typeof m?m:m.next.bind(m),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return F(Me,this,"internal-error"),Me.then(()=>de(this.currentUser)),"function"==typeof m?p.addObserver(m,E,te):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=as(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const te=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return te&&(E["X-Firebase-Client"]=te),E})()}}function sr(b){return(0,z.m9)(b)}class ls{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bu(b,p,m){const E=sr(b);F(E._canInitEmulator,E,"emulator-config-failed"),F(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const te=!!m?.disableWarnings,de=Nl(p),{host:Me,port:ze}=function ba(b){const p=Nl(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(E);if(te){const de=te[1];return{host:de,port:us(E.substr(de.length+1))}}{const[de,Me]=E.split(":");return{host:de,port:us(Me)}}}(p);E.config.emulator={url:`${de}//${Me}${null===ze?"":`:${ze}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Me,port:ze,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function cn(){function b(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Nl(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function us(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Nn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return K("not implemented")}_getIdTokenResponse(p){return K("not implemented")}_linkToIdToken(p,m){return K("not implemented")}_getReauthenticationResolver(p){return K("not implemented")}}function pr(b,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:resetPassword",Se(b,p))})).apply(this,arguments)}function Tr(b,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ct(b,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",Se(b,p))})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithPassword",Se(b,p))})).apply(this,arguments)}function Vi(b,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:sendOobCode",Se(b,p))})).apply(this,arguments)}function zi(b,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(b,p){return Vi(b,p)})).apply(this,arguments)}function Ea(b,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(b,p){return Vi(b,p)})).apply(this,arguments)}function Yt(b,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(b,p){return Vi(b,p)})).apply(this,arguments)}function cs(b,p){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(b,p){return Vi(b,p)})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}class Fr extends Nn{constructor(p,m,E,te=null){super("password",E),this._email=p,this._password=m,this._tenantId=te}static _fromEmailAndPassword(p,m){return new Fr(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Fr(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Pn(b,p){return gr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Wi(b,p){return ar.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Z(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return Tr(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function wa(b,p){return Ki.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Z(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qn(b,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithIdp",Se(b,p))})).apply(this,arguments)}class Gn extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Gn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Z("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:te}=m,de=(0,B._T)(m,["providerId","signInMethod"]);if(!E||!te)return null;const Me=new Gn(E,te);return Me.idToken=de.idToken||void 0,Me.accessToken=de.accessToken||void 0,Me.secret=de.secret,Me.nonce=de.nonce,Me.pendingToken=de.pendingToken||null,Me}_getIdTokenResponse(p){return Qn(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qn(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,z.xO)(m)}return p}}function Rl(b,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:sendVerificationCode",Se(b,p))})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(b,p){const m=yield mt(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p));if(m.temporaryProof)throw Ve(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const _h={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),_h)})).apply(this,arguments)}class Yi extends Nn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Yi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Yi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ta(b,p){return Zi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function oi(b,p){return lr.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function si(b,p){return ai.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:te}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:te}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:te,temporaryProof:de}=p;return E||m||te||de?new Yi({verificationId:m,verificationCode:E,phoneNumber:te,temporaryProof:de}):null}}class Jn{constructor(p){var m,E,te,de,Me,ze;const lt=(0,z.zd)((0,z.pd)(p)),_t=null!==(m=lt.apiKey)&&void 0!==m?m:null,Jt=null!==(E=lt.oobCode)&&void 0!==E?E:null,Sn=function qs(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=lt.mode)&&void 0!==te?te:null);F(_t&&Jt&&Sn,"argument-error"),this.apiKey=_t,this.operation=Sn,this.code=Jt,this.continueUrl=null!==(de=lt.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Me=lt.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(ze=lt.tenantId)&&void 0!==ze?ze:null}static parseLink(p){const m=function Pl(b){const p=(0,z.zd)((0,z.pd)(b)).link,m=p?(0,z.zd)((0,z.pd)(p)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||m||p||b}(p);try{return new Jn(m)}catch{return null}}}let Da=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,E){return Fr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const te=Jn.parseLink(E);return F(te,"argument-error"),Fr._fromEmailAndCode(m,te.code,te.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Qi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ds extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Gs extends ds{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return F("providerId"in m&&"signInMethod"in m,"argument-error"),Gn._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return F(p.idToken||p.accessToken,"argument-error"),Gn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Gs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Gs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:te,pendingToken:de,nonce:Me,providerId:ze}=p;if(!E&&!te&&!m&&!de||!ze)return null;try{return new Gs(ze)._credential({idToken:m,accessToken:E,nonce:Me,pendingToken:de})}catch{return null}}}let Eh=(()=>{class b extends ds{constructor(){super("facebook.com")}static credential(m){return Gn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ju=(()=>{class b extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Gn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:te}=m;if(!E&&!te)return null;try{return b.credential(E,te)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),wh=(()=>{class b extends ds{constructor(){super("github.com")}static credential(m){return Gn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class zs extends Nn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Qn(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qn(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:te,pendingToken:de}=m;return E&&te&&de&&E===te?new zs(E,de):null}static _create(p,m){return new zs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Qi{constructor(p){F(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=zs.fromJSON(p);return F(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return zs._create(E,m)}catch{return null}}}let Mo=(()=>{class b extends ds{constructor(){super("twitter.com")}static credential(m,E){return Gn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:te}=m;if(!E||!te)return null;try{return b.credential(E,te)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Th(b,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signUp",Se(b,p))})).apply(this,arguments)}class gi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,te=!1){return(0,c.Z)(function*(){const de=yield Ht._fromIdTokenResponse(p,E,te),Me=Ca(E);return new gi({user:de,providerId:Me,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const te=Ca(E);return new gi({user:p,providerId:te,_tokenResponse:E,operationType:m})})()}}function Ca(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Hu(b){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(b){var p;const m=sr(b);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new gi({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Th(m,{returnSecureToken:!0}),te=yield gi._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(te.user),te})).apply(this,arguments)}class $u extends z.ZR{constructor(p,m,E,te){var de;super(m.code,m.message),this.operationType=E,this.user=te,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:p.name,tenantId:null!==(de=p.tenantId)&&void 0!==de?de:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,te){return new $u(p,m,E,te)}}function Td(b,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?$u._fromErrorAndOperation(b,de,p,E):de})}function No(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function fs(b,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(b,p){const m=(0,z.m9)(b);yield Ro(!0,m,p);const{providerUserInfo:E}=yield Xe(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),te=No(E||[]);return m.providerData=m.providerData.filter(de=>te.has(de.providerId)),te.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ps(b,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(b,p,m=!1){const E=yield ir(b,p._linkToIdToken(b.auth,yield b.getIdToken()),m);return gi._forOperation(b,"link",E)})).apply(this,arguments)}function Ro(b,p,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(b,p,m){yield fo(p);const te=!1===b?"provider-already-linked":"no-such-provider";F(No(p.providerData).has(m)===b,p.auth,te)})).apply(this,arguments)}function xa(b,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(b,p,m=!1){const{auth:E}=b,te="reauthenticate";try{const de=yield ir(b,Td(E,te,p,b),m);F(de.idToken,E,"internal-error");const Me=ot(de.idToken);F(Me,E,"internal-error");const{sub:ze}=Me;return F(b.uid===ze,E,"user-mismatch"),gi._forOperation(b,te,de)}catch(de){throw"auth/user-not-found"===de?.code&&Z(E,"user-mismatch"),de}})).apply(this,arguments)}function Ws(b,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(b,p,m=!1){const E="signIn",te=yield Td(b,E,p),de=yield gi._fromIdTokenResponse(b,E,te);return m||(yield b._updateCurrentUser(de.user)),de})).apply(this,arguments)}function Vr(b,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(b,p){return Ws(sr(b),p)})).apply(this,arguments)}function kl(b,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(b,p){const m=(0,z.m9)(b);return yield Ro(!1,m,p.providerId),ps(m,p)})).apply(this,arguments)}function Ma(b,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(b,p){return xa((0,z.m9)(b),p)})).apply(this,arguments)}function ur(b,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(b,p){return mt(b,"POST","/v1/accounts:signInWithCustomToken",Se(b,p))})).apply(this,arguments)}function Na(b,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(b,p){const m=sr(b),E=yield ur(m,{token:p,returnSecureToken:!0}),te=yield gi._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(te.user),te})).apply(this,arguments)}class Xn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ra._fromServerResponse(p,m):Z(p,"internal-error")}}class Ra extends Xn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ra(m)}}function ko(b,p,m){var E;F((null===(E=m.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),F(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(F(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(F(m.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Dd(b,p,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b),te={requestType:"PASSWORD_RESET",email:p};m&&ko(E,te,m),yield Ea(E,te)})).apply(this,arguments)}function Ll(b,p,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(b,p,m){yield pr((0,z.m9)(b),{oobCode:p,newPassword:m})})).apply(this,arguments)}function $t(b,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(b,p){yield ct((0,z.m9)(b),{oobCode:p})})).apply(this,arguments)}function Cd(b,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(b,p){const m=(0,z.m9)(b),E=yield pr(m,{oobCode:p}),te=E.requestType;switch(F(te,m,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(E.mfaInfo,m,"internal-error");default:F(E.email,m,"internal-error")}let de=null;return E.mfaInfo&&(de=Xn._fromServerResponse(sr(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:de},operation:te}})).apply(this,arguments)}function Sd(b,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(b,p){const{data:m}=yield Cd((0,z.m9)(b),p);return m.email})).apply(this,arguments)}function qu(b,p,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(b,p,m){const E=sr(b),te=yield Th(E,{returnSecureToken:!0,email:p,password:m}),de=yield gi._fromIdTokenResponse(E,"signIn",te);return yield E._updateCurrentUser(de.user),de})).apply(this,arguments)}function Ad(b,p,m){return Vr((0,z.m9)(b),Da.credential(p,m))}function Be(b,p,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b),te={requestType:"EMAIL_SIGNIN",email:p};F(m.handleCodeInApp,E,"argument-error"),m&&ko(E,te,m),yield Yt(E,te)})).apply(this,arguments)}function xd(b,p){return"EMAIL_SIGNIN"===Jn.parseLink(p)?.operation}function Gu(b,p,m){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b),te=Da.credentialWithLink(p,m||ue());return F(te._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Vr(E,te)})).apply(this,arguments)}function Vl(b,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:createAuthUri",Se(b,p))})).apply(this,arguments)}function Si(b,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(b,p){const E={identifier:p,continueUri:oe()?ue():"http://localhost"},{signinMethods:te}=yield Vl((0,z.m9)(b),E);return te||[]})).apply(this,arguments)}function zu(b,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(b,p){const m=(0,z.m9)(b),te={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&ko(m.auth,te,p);const{email:de}=yield zi(m.auth,te);de!==b.email&&(yield b.reload())})).apply(this,arguments)}function Od(b,p,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};m&&ko(E.auth,de,m);const{email:Me}=yield cs(E.auth,de);Me!==b.email&&(yield b.reload())})).apply(this,arguments)}function mr(b,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(b,p){return Oe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bs(b,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(b,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,z.m9)(b),de={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Me=yield ir(E,mr(E.auth,de));E.displayName=Me.displayName||null,E.photoURL=Me.photoUrl||null;const ze=E.providerData.find(({providerId:lt})=>"password"===lt);ze&&(ze.displayName=E.displayName,ze.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Me)})).apply(this,arguments)}function po(b,p){return Es((0,z.m9)(b),p,null)}function Wu(b,p){return Es((0,z.m9)(b),null,p)}function Es(b,p,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(b,p,m){const{auth:E}=b,de={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(de.email=p),m&&(de.password=m);const Me=yield ir(b,Tr(E,de));yield b._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class go{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class Qs extends go{constructor(p,m,E,te){super(p,m,E),this.username=te}}class Nd extends go{constructor(p,m){super(p,"facebook.com",m)}}class Bl extends Qs{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ku extends go{constructor(p,m){super(p,"google.com",m)}}class Rd extends Qs{constructor(p,m,E){super(p,"twitter.com",m,E)}}function ka(b){const{user:p,_tokenResponse:m}=b;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Md(b){var p,m;if(!b)return null;const{providerId:E}=b,te=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},de=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const Me=null===(m=null===(p=ot(b.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Me)return new go(de,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!E)return null;switch(E){case"facebook.com":return new Nd(de,te);case"github.com":return new Bl(de,te);case"google.com":return new Ku(de,te);case"twitter.com":return new Rd(de,te,b.screenName||null);case"custom":case"anonymous":return new go(de,null);default:return new go(de,E,te)}}(m)}class _n{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new _n("enroll",p,m)}static _fromMfaPendingCredential(p){return new _n("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return _n._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return _n._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qu{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=sr(p),te=m.customData._serverResponse,de=(te.mfaInfo||[]).map(ze=>Xn._fromServerResponse(E,ze));F(te.mfaPendingCredential,E,"internal-error");const Me=_n._fromMfaPendingCredential(te.mfaPendingCredential);return new Qu(Me,de,function(){var ze=(0,c.Z)(function*(lt){const _t=yield lt._process(E,Me);delete te.mfaInfo,delete te.mfaPendingCredential;const Jt=Object.assign(Object.assign({},te),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(m.operationType){case"signIn":const Sn=yield gi._fromIdTokenResponse(E,m.operationType,Jt);return yield E._updateCurrentUser(Sn.user),Sn;case"reauthenticate":return F(m.user,E,"internal-error"),gi._forOperation(m.user,m.operationType,Jt);default:Z(E,"internal-error")}});return function(lt){return ze.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Pd(b,p){var m;const E=(0,z.m9)(b),te=p;return F(p.customData.operationType,E,"argument-error"),F(null===(m=te.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Qu._fromError(E,te)}function yr(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:start",Se(b,p))}class Ju{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Xn._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Ju(p)}getSession(){var p=this;return(0,c.Z)(function*(){return _n._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,c.Z)(function*(){const te=p,de=yield E.getSession(),Me=yield ir(E.user,te._process(E.user.auth,de,m));return yield E.user._updateTokensIfNecessary(Me),E.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const E="string"==typeof p?p:p.uid,te=yield m.user.getIdToken();try{const de=yield ir(m.user,function xh(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(b,p))}(m.user.auth,{idToken:te,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Me})=>Me!==E),yield m.user._updateTokensIfNecessary(de),yield m.user.reload()}catch(de){throw de}})()}}const Js=new WeakMap;function Xs(b){const p=(0,z.m9)(b);return Js.has(p)||Js.set(p,Ju._fromUser(p)),Js.get(p)}const Fo="__sak";class mo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sr=(()=>{class b extends mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ws(){const b=(0,z.z$)();return yt(b)||Gt(b)}()&&function vh(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const te=this.storage.getItem(E),de=this.localCache[E];te!==de&&m(E,de,te)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ze,lt,_t)=>{this.notifyListeners(ze,_t)});const te=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(te);if(m.newValue!==ze)null!==m.newValue?this.storage.setItem(te,m.newValue):this.storage.removeItem(te);else if(this.localCache[te]===m.newValue&&!E)return}const de=()=>{const ze=this.storage.getItem(te);!E&&this.localCache[te]===ze||this.notifyListeners(te,ze)},Me=this.storage.getItem(te);!function Ir(){return(0,z.w1)()&&10===document.documentMode}()||Me===m.newValue||m.newValue===m.oldValue?de():setTimeout(de,10)}notifyListeners(m,E){this.localCache[m]=E;const te=this.listeners[m];if(te)for(const de of Array.from(te))de(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var te=()=>super._set,de=this;return(0,c.Z)(function*(){yield te().call(de,m,E),de.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,te=this;return(0,c.Z)(function*(){const de=yield E().call(te,m);return te.localCache[m]=JSON.stringify(de),de})()}_remove(m){var E=()=>super._remove,te=this;return(0,c.Z)(function*(){yield E().call(te,m),delete te.localCache[m]})()}}return b.type="LOCAL",b})(),ea=(()=>{class b extends mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return b.type="SESSION",b})();let Xu=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(de=>de.isListeningto(m));if(E)return E;const te=new b(m);return this.receivers.push(te),te}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,c.Z)(function*(){const te=m,{eventId:de,eventType:Me,data:ze}=te.data,lt=E.handlersMap[Me];if(!lt?.size)return;te.ports[0].postMessage({status:"ack",eventId:de,eventType:Me});const _t=Array.from(lt).map(function(){var Sn=(0,c.Z)(function*(Gr){return Gr(te.origin,ze)});return function(Gr){return Sn.apply(this,arguments)}}()),Jt=yield function Oh(b){return Promise.all(b.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(_t);te.ports[0].postMessage({status:"done",eventId:de,eventType:Me,response:Jt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function yo(b="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return b+m}class jl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var te=this;return(0,c.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Me,ze;return new Promise((lt,_t)=>{const Jt=yo("",20);de.port1.start();const Sn=setTimeout(()=>{_t(new Error("unsupported_event"))},E);ze={messageChannel:de,onMessage(Gr){const so=Gr;if(so.data.eventId===Jt)switch(so.data.status){case"ack":clearTimeout(Sn),Me=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),lt(so.data.response);break;default:clearTimeout(Sn),clearTimeout(Me),_t(new Error("invalid_response"))}}},te.handlers.add(ze),de.port1.addEventListener("message",ze.onMessage),te.target.postMessage({eventType:p,eventId:Jt,data:m},[de.port2])}).finally(()=>{ze&&te.removeMessageHandler(ze)})})()}}function Fn(){return window}function Bi(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function Ai(){return(Ai=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Is="firebaseLocalStorageDb",Vo="firebaseLocalStorage",Ts="fbase_key";class vo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Uo(b,p){return b.transaction([Vo],p?"readwrite":"readonly").objectStore(Vo)}function _o(){const b=indexedDB.open(Is,1);return new Promise((p,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(Vo,{keyPath:Ts})}catch(te){m(te)}}),b.addEventListener("success",(0,c.Z)(function*(){const E=b.result;E.objectStoreNames.contains(Vo)?p(E):(E.close(),yield function ql(){const b=indexedDB.deleteDatabase(Is);return new vo(b).toPromise()}(),p(yield _o()))}))})}function Ba(b,p,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(b,p,m){const E=Uo(b,!0).put({[Ts]:p,value:m});return new vo(E).toPromise()})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(b,p){const m=Uo(b,!1).get(p),E=yield new vo(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ds(b,p){const m=Uo(b,!0).delete(p);return new vo(m).toPromise()}const Ha=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield _o()),m.db})()}_withRetries(m){var E=this;return(0,c.Z)(function*(){let te=0;for(;;)try{const de=yield E._openDb();return yield m(de)}catch(de){if(te++>3)throw de;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Bi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Xu._getInstance(function Hl(){return Bi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(te,de){return{keyProcessed:(yield m._poll()).includes(de.key)}});return function(te,de){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(te,de){return["keyChanged"]});return function(te,de){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var E,te;if(m.activeServiceWorker=yield function Va(){return Ai.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new jl(m.activeServiceWorker);const de=yield m.sender._send("ping",{},800);de&&null!==(E=de[0])&&void 0!==E&&E.fulfilled&&null!==(te=de[0])&&void 0!==te&&te.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ua(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield _o();return yield Ba(m,Fo,"1"),yield Ds(m,Fo),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var te=this;return(0,c.Z)(function*(){return te._withPendingWrite((0,c.Z)(function*(){return yield te._withRetries(de=>Ba(de,m,E)),te.localCache[m]=E,te.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,c.Z)(function*(){const te=yield E._withRetries(de=>function ec(b,p){return no.apply(this,arguments)}(de,m));return E.localCache[m]=te,te})()}_remove(m){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(te=>Ds(te,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const E=yield m._withRetries(Me=>{const ze=Uo(Me,!1).getAll();return new vo(ze).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const te=[],de=new Set;for(const{fbase_key:Me,value:ze}of E)de.add(Me),JSON.stringify(m.localCache[Me])!==JSON.stringify(ze)&&(m.notifyListeners(Me,ze),te.push(Me));for(const Me of Object.keys(m.localCache))m.localCache[Me]&&!de.has(Me)&&(m.notifyListeners(Me,null),te.push(Me));return te})()}notifyListeners(m,E){this.localCache[m]=E;const te=this.listeners[m];if(te)for(const de of Array.from(te))de(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function tc(b,p){return Oe(b,"POST","/v2/accounts/mfaSignIn:start",Se(b,p))}function xi(){return(xi=(0,c.Z)(function*(b){return(yield Oe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bo(b){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=p,E.onerror=te=>{const de=Y("internal-error");de.customData=te,m(de)},E.type="text/javascript",E.charset="UTF-8",function Fd(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(E)})}function ji(b){return`__${b}${Math.floor(1e6*Math.random())}`}const li=1e12;class ro{constructor(p){this.auth=p,this.counter=li,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Mh(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||li;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||li))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var E;return null===(E=m._widgets.get(p||li))||void 0===E||E.execute(),""})()}}class Mh{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof p?document.getElementById(p):p;F(te,"argument-error",{appName:m}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kl(b){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cs=ji("rcb"),Vd=new ye(3e4,6e4);class ic{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Fn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return F(function bo(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Fn().grecaptcha):new Promise((E,te)=>{const de=Fn().setTimeout(()=>{te(Y(p,"network-request-failed"))},Vd.get());Fn()[Cs]=()=>{Fn().clearTimeout(de),delete Fn()[Cs];const ze=Fn().grecaptcha;if(!ze)return void te(Y(p,"internal-error"));const lt=ze.render;ze.render=(_t,Jt)=>{const Sn=lt(_t,Jt);return this.counter++,Sn},this.hostLanguage=m,E(ze)},Bo(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Cs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(de),te(Y(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Fn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ga{load(p){return(0,c.Z)(function*(){return new ro(p)})()}clearedOneInstance(){}}const Ss="recaptcha",oc={theme:"light",type:"image"};class sc{constructor(p,m=Object.assign({},oc),E){this.parameters=m,this.type=Ss,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sr(E),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof p?document.getElementById(p):p;F(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ga:new ic,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(de=>{const Me=ze=>{ze&&(p.tokenChangeListeners.delete(Me),de(ze))};p.tokenChangeListeners.add(Me),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=Fn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){F(oe()&&!Bi(),p.auth,"internal-error"),yield function ta(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function qa(b){return xi.apply(this,arguments)}(p.auth);F(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ud{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Yi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function om(b,p,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(b,p,m){const E=sr(b),te=yield jo(E,p,(0,z.m9)(m));return new Ud(te,de=>Vr(E,de))})).apply(this,arguments)}function Eo(b,p,m){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b);yield Ro(!1,E,"phone");const te=yield jo(E.auth,p,(0,z.m9)(m));return new Ud(te,de=>kl(E,de))})).apply(this,arguments)}function Nh(b,p,m){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b),te=yield jo(E.auth,p,(0,z.m9)(m));return new Ud(te,de=>Ma(E,de))})).apply(this,arguments)}function jo(b,p,m){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,c.Z)(function*(b,p,m){var E;const te=yield m.verify();try{let de;if(F("string"==typeof te,b,"argument-error"),F(m.type===Ss,b,"argument-error"),de="string"==typeof p?{phoneNumber:p}:p,"session"in de){const Me=de.session;if("phoneNumber"in de)return F("enroll"===Me.type,b,"internal-error"),(yield yr(b,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{F("signin"===Me.type,b,"internal-error");const ze=(null===(E=de.multiFactorHint)||void 0===E?void 0:E.uid)||de.multiFactorUid;return F(ze,b,"missing-multi-factor-info"),(yield tc(b,{mfaPendingCredential:Me.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield Rl(b,{phoneNumber:de.phoneNumber,recaptchaToken:te});return Me}}finally{m._reset()}})).apply(this,arguments)}function Rh(b,p){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(b,p){yield ps((0,z.m9)(b),p)})).apply(this,arguments)}let Ph=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=sr(m)}verifyPhoneNumber(m,E){return jo(this.auth,m,(0,z.m9)(E))}static credential(m,E){return Yi._fromVerification(m,E)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:te}=m;return E&&te?Yi._fromTokenResponse(E,te):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function io(b,p){return p?me(p):(F(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Vn extends Nn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Qn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Qn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function lc(b){return Ws(b.auth,new Vn(b),b.bypassAuthState)}function Wa(b){const{auth:p,user:m}=b;return F(m,p,"internal-error"),xa(m,new Vn(b),b.bypassAuthState)}function sm(b){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(b){const{auth:p,user:m}=b;return F(m,p,"internal-error"),ps(m,new Vn(b),b.bypassAuthState)})).apply(this,arguments)}class xs{constructor(p,m,E,te,de=!1){this.auth=p,this.resolver=E,this.user=te,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(E,te){p.pendingPromise={resolve:E,reject:te};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(de){p.reject(de)}});return function(E,te){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:te,postBody:de,tenantId:Me,error:ze,type:lt}=p;if(ze)return void m.reject(ze);const _t={auth:m.auth,requestUri:E,sessionId:te,tenantId:Me||void 0,postBody:de||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(lt)(_t))}catch(Jt){m.reject(Jt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return lc;case"linkViaPopup":case"linkViaRedirect":return sm;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:Z(this.auth,"internal-error")}}resolve(p){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uc=new ye(2e3,1e4);function Zl(b,p,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(b,p,m){const E=sr(b);G(b,p,Qi);const te=io(E,m);return new cr(E,"signInViaPopup",p,te).executeNotNull()})).apply(this,arguments)}function jd(b,p,m){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b);G(E.auth,p,Qi);const te=io(E.auth,m);return new cr(E.auth,"reauthViaPopup",p,te,E).executeNotNull()})).apply(this,arguments)}function cc(b,p,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b);G(E.auth,p,Qi);const te=io(E.auth,m);return new cr(E.auth,"linkViaPopup",p,te,E).executeNotNull()})).apply(this,arguments)}let cr=(()=>{class b extends xs{constructor(m,E,te,de,Me){super(m,E,de,Me),this.provider=te,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const E=yield m.execute();return F(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,c.Z)(function*(){ne(1===m.filter.length,"Popup operations only handle one event");const E=yo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(te=>{m.reject(te)}),m.resolver._isIframeWebStorageSupported(m.auth,te=>{te||m.reject(Y(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,te;this.pollId=null!==(te=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==te&&te.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Y(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,uc.get())};m()}}return b.currentPopupAction=null,b})();const dn=new Map;class $o extends xs{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let E=dn.get(m.auth._key());if(!E){try{const de=(yield function Et(b,p){return Hi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(de)}catch(te){E=()=>Promise.reject(te)}dn.set(m.auth._key(),E)}return m.bypassAuthState||dn.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const te=yield E.auth._redirectUserForId(p.eventId);if(te)return E.user=te,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Hi(){return(Hi=(0,c.Z)(function*(b,p){const m=na(p),E=qo(b);if(!(yield E._isAvailable()))return!1;const te="true"===(yield E._get(m));return yield E._remove(m),te})).apply(this,arguments)}function mi(b,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(b,p){return qo(b)._set(na(p),"true")})).apply(this,arguments)}function Za(){dn.clear()}function Oi(b,p){dn.set(b._key(),p)}function qo(b){return me(b._redirectPersistence)}function na(b){return ve("pendingRedirect",b.config.apiKey,b.name)}function Ya(b,p,m){return function Ql(b,p,m){return Hr.apply(this,arguments)}(b,p,m)}function Hr(){return(Hr=(0,c.Z)(function*(b,p,m){const E=sr(b);G(b,p,Qi),yield E._initializationPromise;const te=io(E,m);return yield mi(te,E),te._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function fc(b,p,m){return function $r(b,p,m){return Bt.apply(this,arguments)}(b,p,m)}function Bt(){return(Bt=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b);G(E.auth,p,Qi),yield E.auth._initializationPromise;const te=io(E.auth,m);yield mi(te,E.auth);const de=yield ee(E);return te._openRedirect(E.auth,p,"reauthViaRedirect",de)})).apply(this,arguments)}function $d(b,p,m){return function Os(b,p,m){return Go.apply(this,arguments)}(b,p,m)}function Go(){return(Go=(0,c.Z)(function*(b,p,m){const E=(0,z.m9)(b);G(E.auth,p,Qi),yield E.auth._initializationPromise;const te=io(E.auth,m);yield Ro(!1,E,p.providerId),yield mi(te,E.auth);const de=yield ee(E);return te._openRedirect(E.auth,p,"linkViaRedirect",de)})).apply(this,arguments)}function Jl(b,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(b,p){return yield sr(b)._initializationPromise,M(b,p,!1)})).apply(this,arguments)}function M(b,p){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(b,p,m=!1){const E=sr(b),te=io(E,p),Me=yield new $o(E,te,m).execute();return Me&&!m&&(delete Me.user._redirectEventId,yield E._persistUserIfCurrent(Me.user),yield E._setRedirectUser(null,p)),Me})).apply(this,arguments)}function ee(b){return he.apply(this,arguments)}function he(){return(he=(0,c.Z)(function*(b){const p=yo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Pe{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function wt(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ht(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!ht(p)){const te=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Y(this.auth,te))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(We(p))}saveEventToCache(p){this.cachedEventUids.add(We(p)),this.lastProcessedEventTime=Date.now()}}function We(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function ht({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function St(b){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(b,p={}){return Oe(b,"GET","/v1/projects",p)})).apply(this,arguments)}const At=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hn=/^https?/;function zn(){return(zn=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield St(b);for(const m of p)try{if(Qa(m))return}catch{}Z(b,"unauthorized-domain")})).apply(this,arguments)}function Qa(b){const p=ue(),{protocol:m,hostname:E}=new URL(p);if(b.startsWith("chrome-extension://")){const Me=new URL(b);return""===Me.hostname&&""===E?"chrome-extension:"===m&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Me.hostname===E}if(!Hn.test(m))return!1;if(At.test(b))return E===b;const te=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(E)}const zo=new ye(3e4,6e4);function bn(){const b=Fn().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let ra=null;function $i(b){return ra=ra||function yi(b){return new Promise((p,m)=>{var E,te,de;function Me(){bn(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{bn(),m(Y(b,"network-request-failed"))},timeout:zo.get()})}if(null!==(te=null===(E=Fn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==te&&te.Iframe)p(gapi.iframes.getContext());else{if(null===(de=Fn().gapi)||void 0===de||!de.load){const ze=ji("iframefcb");return Fn()[ze]=()=>{gapi.load?Me():m(Y(b,"network-request-failed"))},Bo(`https://apis.google.com/js/api.js?onload=${ze}`).catch(lt=>m(lt))}Me()}}).catch(p=>{throw ra=null,p})}(b),ra}const vi=new ye(5e3,15e3),S_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ms=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ia(b){const p=b.config;F(p.authDomain,b,"auth-domain-config-required");const m=p.emulator?_e(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:b.name,v:q.SDK_VERSION},te=Ms.get(b.config.apiHost);te&&(E.eid=te);const de=b._getFrameworks();return de.length&&(E.fw=de.join(",")),`${m}?${(0,z.xO)(E).slice(1)}`}function Wo(){return Wo=(0,c.Z)(function*(b){const p=yield $i(b),m=Fn().gapi;return F(m,b,"internal-error"),p.open({where:document.body,url:ia(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S_,dontclear:!0},E=>new Promise(function(){var te=(0,c.Z)(function*(de,Me){yield E.restyle({setHideOnLeave:!1});const ze=Y(b,"network-request-failed"),lt=Fn().setTimeout(()=>{Me(ze)},vi.get());function _t(){Fn().clearTimeout(lt),de(E)}E.ping(_t).then(_t,()=>{Me(ze)})});return function(de,Me){return te.apply(this,arguments)}}()))}),Wo.apply(this,arguments)}const am={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ko(b,p,m,E,te,de){F(b.config.authDomain,b,"auth-domain-config-required"),F(b.config.apiKey,b,"invalid-api-key");const Me={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:E,v:q.SDK_VERSION,eventId:te};if(p instanceof Qi){p.setDefaultLanguage(b.languageCode),Me.providerId=p.providerId||"",(0,z.xb)(p.getCustomParameters())||(Me.customParameters=JSON.stringify(p.getCustomParameters()));for(const[lt,_t]of Object.entries(de||{}))Me[lt]=_t}if(p instanceof ds){const lt=p.getScopes().filter(_t=>""!==_t);lt.length>0&&(Me.scopes=lt.join(","))}b.tenantId&&(Me.tid=b.tenantId);const ze=Me;for(const lt of Object.keys(ze))void 0===ze[lt]&&delete ze[lt];return`${function Kd({config:b}){return b.emulator?_e(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,z.xO)(ze).slice(1)}`}const Zd="webStorageSupport",Yd=class wo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ea,this._completeRedirectFn=M,this._overrideRedirectResult=Oi}_openPopup(p,m,E,te){var de=this;return(0,c.Z)(function*(){var Me;ne(null===(Me=de.eventManagers[p._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const ze=Ko(p,m,E,ue(),te);return function qi(b,p,m,E=500,te=600){const de=Math.max((window.screen.availHeight-te)/2,0).toString(),Me=Math.max((window.screen.availWidth-E)/2,0).toString();let ze="";const lt=Object.assign(Object.assign({},am),{width:E.toString(),height:te.toString(),top:de,left:Me}),_t=(0,z.z$)().toLowerCase();m&&(ze=Wt(_t)?"_blank":m),ke(_t)&&(p=p||"http://localhost",lt.scrollbars="yes");const Jt=Object.entries(lt).reduce((Gr,[so,Ns])=>`${Gr}${so}=${Ns},`,"");if(function os(b=(0,z.z$)()){var p;return Gt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(_t)&&"_self"!==ze)return function zt(b,p){const m=document.createElement("a");m.href=b,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",ze),new Wd(null);const Sn=window.open(p||"",ze,Jt);F(Sn,b,"popup-blocked");try{Sn.focus()}catch{}return new Wd(Sn)}(p,ze,yo())})()}_openRedirect(p,m,E,te){var de=this;return(0,c.Z)(function*(){return yield de._originValidation(p),function Fa(b){Fn().location.href=b}(Ko(p,m,E,ue(),te)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:te,promise:de}=this.eventManagers[m];return te?Promise.resolve(te):(ne(de,"If manager is not set, promise should be"),de)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const E=yield function qr(b){return Wo.apply(this,arguments)}(p),te=new Pe(p);return E.register("authEvent",de=>(F(de?.authEvent,p,"invalid-auth-event"),{status:te.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:te},m.iframes[p._key()]=E,te})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Zd,{type:Zd},te=>{var de;const Me=null===(de=te?.[0])||void 0===de?void 0:de[Zd];void 0!==Me&&m(!!Me),Z(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function tr(b){return zn.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ss()||yt()||Gt()}};class Qd{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return K("unexpected MultiFactorSessionType")}}}class pc extends Qd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new pc(p)}_finalizeEnroll(p,m,E){return function kd(b,p){return Oe(b,"POST","/v2/accounts/mfaEnrollment:finalize",Se(b,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function $a(b,p){return Oe(b,"POST","/v2/accounts/mfaSignIn:finalize",Se(b,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let A_=(()=>{class b{constructor(){}static assertion(m){return pc._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var yn="@firebase/auth";class tu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lh=(0,z.Pz)("authIdTokenMaxAge")||300;let gc=null;const um=b=>function(){var p=(0,c.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),te=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(te&&te>Lh)return;const de=E?.token;gc!==de&&(gc=de,yield fetch(b,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function Xd(b=(0,q.getApp)()){const p=(0,q._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const m=function Ie(b,p){const m=(0,q._getProvider)(b,"auth");if(m.isInitialized()){const te=m.getImmediate(),de=m.getOptions();if((0,z.vZ)(de,p??{}))return te;Z(te,"already-initialized")}return m.initialize({options:p})}(b,{popupRedirectResolver:Yd,persistence:[Ha,Sr,ea]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const de=um(E);(function Sh(b,p,m){(0,z.m9)(b).beforeAuthStateChanged(p,m)})(m,de,()=>de(m.currentUser)),function Ch(b,p,m,E){(0,z.m9)(b).onIdTokenChanged(p,m,E)}(m,Me=>de(Me))}const te=(0,z.q4)("auth");return te&&Bu(m,`http://${te}`),m}!function Ar(b){(0,q._registerComponent)(new j.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),te=p.getProvider("heartbeat"),{apiKey:de,authDomain:Me}=E.options;return((ze,lt)=>{F(de&&!de.includes(":"),"invalid-api-key",{appName:ze.name}),F(!Me?.includes(":"),"argument-error",{appName:ze.name});const _t={apiKey:de,authDomain:Me,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:as(b)},Jt=new Ml(ze,lt,_t);return function Ne(b,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(me);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(E,p?.popupRedirectResolver)}(Jt,m),Jt})(E,te)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new j.wA("auth-internal",p=>{const m=sr(p.getProvider("auth").getImmediate());return new tu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(yn,"0.21.3",function Jd(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,q.registerVersion)(yn,"0.21.3","esm2017")}("Browser")},2090:(Tt,ge,N)=>{"use strict";N.d(ge,{$s:()=>ft,BH:()=>re,L:()=>A,LL:()=>we,P0:()=>X,Pz:()=>Y,Sg:()=>G,UG:()=>K,US:()=>j,ZB:()=>C,ZR:()=>ae,aH:()=>Z,b$:()=>me,eu:()=>ce,hl:()=>se,jU:()=>ne,m9:()=>ln,ne:()=>an,pd:()=>pn,q4:()=>L,r3:()=>In,ru:()=>fe,tV:()=>I,uI:()=>F,vZ:()=>Xe,w1:()=>Ne,xO:()=>Rt,xb:()=>je,z$:()=>H,zI:()=>ye,zd:()=>xt});const Q=function(Ee){const ve=[];let De=0;for(let $e=0;$e<Ee.length;$e++){let ke=Ee.charCodeAt($e);ke<128?ve[De++]=ke:ke<2048?(ve[De++]=ke>>6|192,ve[De++]=63&ke|128):55296==(64512&ke)&&$e+1<Ee.length&&56320==(64512&Ee.charCodeAt($e+1))?(ke=65536+((1023&ke)<<10)+(1023&Ee.charCodeAt(++$e)),ve[De++]=ke>>18|240,ve[De++]=ke>>12&63|128,ve[De++]=ke>>6&63|128,ve[De++]=63&ke|128):(ve[De++]=ke>>12|224,ve[De++]=ke>>6&63|128,ve[De++]=63&ke|128)}return ve},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,ve){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[];for(let ke=0;ke<Ee.length;ke+=3){const yt=Ee[ke],Wt=ke+1<Ee.length,on=Wt?Ee[ke+1]:0,Mn=ke+2<Ee.length,Pt=Mn?Ee[ke+2]:0;let ni=(15&on)<<2|Pt>>6,os=63&Pt;Mn||(os=64,Wt||(ni=64)),$e.push(De[yt>>2],De[(3&yt)<<4|on>>4],De[ni],De[os])}return $e.join("")},encodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ee):this.encodeByteArray(Q(Ee),ve)},decodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ee):function(Ee){const ve=[];let De=0,$e=0;for(;De<Ee.length;){const ke=Ee[De++];if(ke<128)ve[$e++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const yt=Ee[De++];ve[$e++]=String.fromCharCode((31&ke)<<6|63&yt)}else if(ke>239&&ke<365){const Mn=((7&ke)<<18|(63&Ee[De++])<<12|(63&Ee[De++])<<6|63&Ee[De++])-65536;ve[$e++]=String.fromCharCode(55296+(Mn>>10)),ve[$e++]=String.fromCharCode(56320+(1023&Mn))}else{const yt=Ee[De++],Wt=Ee[De++];ve[$e++]=String.fromCharCode((15&ke)<<12|(63&yt)<<6|63&Wt)}}return ve.join("")}(this.decodeStringToByteArray(Ee,ve))},decodeStringToByteArray(Ee,ve){this.init_();const De=ve?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[];for(let ke=0;ke<Ee.length;){const yt=De[Ee.charAt(ke++)],on=ke<Ee.length?De[Ee.charAt(ke)]:0;++ke;const Pt=ke<Ee.length?De[Ee.charAt(ke)]:64;++ke;const Gt=ke<Ee.length?De[Ee.charAt(ke)]:64;if(++ke,null==yt||null==on||null==Pt||null==Gt)throw Error();$e.push(yt<<2|on>>4),64!==Pt&&($e.push(on<<4&240|Pt>>2),64!==Gt&&$e.push(Pt<<6&192|Gt))}return $e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},A=function(Ee){return function(Ee){const ve=Q(Ee);return j.encodeByteArray(ve,!0)}(Ee).replace(/\./g,"")},I=function(Ee){try{return j.decodeString(Ee,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function C(Ee,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return ve}for(const De in ve)!ve.hasOwnProperty(De)||!D(De)||(Ee[De]=C(Ee[De],ve[De]));return Ee}function D(Ee){return"__proto__"!==Ee}const w=()=>{try{return function R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ee=process.env.__FIREBASE_DEFAULTS__;return Ee?JSON.parse(Ee):void 0})()||(()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Ee&&I(Ee[1]);return ve&&JSON.parse(ve)})()}catch(Ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`)}},L=Ee=>{var ve,De;return null===(De=null===(ve=w())||void 0===ve?void 0:ve.emulatorHosts)||void 0===De?void 0:De[Ee]},X=Ee=>{const ve=L(Ee);if(!ve)return;const De=ve.lastIndexOf(":");if(De<=0||De+1===ve.length)throw new Error(`Invalid host ${ve} with no separate hostname and port!`);const $e=parseInt(ve.substring(De+1),10);return"["===ve[0]?[ve.substring(1,De-1),$e]:[ve.substring(0,De),$e]},Z=()=>{var Ee;return null===(Ee=w())||void 0===Ee?void 0:Ee.config},Y=Ee=>{var ve;return null===(ve=w())||void 0===ve?void 0:ve[`_${Ee}`]};class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,De)=>{this.resolve=ve,this.reject=De})}wrapCallback(ve){return(De,$e)=>{De?this.reject(De):this.resolve($e),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(De):ve(De,$e))}}}function G(Ee,ve){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $e=ve||"demo-project",ke=Ee.iat||0,yt=Ee.sub||Ee.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${$e}`,aud:$e,iat:ke,exp:ke+3600,auth_time:ke,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(Wt)),""].join(".")}function H(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())}function K(){var Ee;const ve=null===(Ee=w())||void 0===Ee?void 0:Ee.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ne(){return"object"==typeof self&&self.self===self}function fe(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){const Ee=H();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((Ee,ve)=>{try{let De=!0;const $e="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open($e);ke.onsuccess=()=>{ke.result.close(),De||self.indexedDB.deleteDatabase($e),Ee(!0)},ke.onupgradeneeded=()=>{De=!1},ke.onerror=()=>{var yt;ve((null===(yt=ke.error)||void 0===yt?void 0:yt.message)||"")}}catch(De){ve(De)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ae extends Error{constructor(ve,De,$e){super(De),this.code=ve,this.customData=$e,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(ve,De,$e){this.service=ve,this.serviceName=De,this.errors=$e}create(ve,...De){const $e=De[0]||{},ke=`${this.service}/${ve}`,yt=this.errors[ve],Wt=yt?function Ce(Ee,ve){return Ee.replace(Se,(De,$e)=>{const ke=ve[$e];return null!=ke?String(ke):`<${$e}?>`})}(yt,$e):"Error";return new ae(ke,`${this.serviceName}: ${Wt} (${ke}).`,$e)}}const Se=/\{\$([^}]+)}/g;function In(Ee,ve){return Object.prototype.hasOwnProperty.call(Ee,ve)}function je(Ee){for(const ve in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ve))return!1;return!0}function Xe(Ee,ve){if(Ee===ve)return!0;const De=Object.keys(Ee),$e=Object.keys(ve);for(const ke of De){if(!$e.includes(ke))return!1;const yt=Ee[ke],Wt=ve[ke];if(qe(yt)&&qe(Wt)){if(!Xe(yt,Wt))return!1}else if(yt!==Wt)return!1}for(const ke of $e)if(!De.includes(ke))return!1;return!0}function qe(Ee){return null!==Ee&&"object"==typeof Ee}function Rt(Ee){const ve=[];for(const[De,$e]of Object.entries(Ee))Array.isArray($e)?$e.forEach(ke=>{ve.push(encodeURIComponent(De)+"="+encodeURIComponent(ke))}):ve.push(encodeURIComponent(De)+"="+encodeURIComponent($e));return ve.length?"&"+ve.join("&"):""}function xt(Ee){const ve={};return Ee.replace(/^\?/,"").split("&").forEach($e=>{if($e){const[ke,yt]=$e.split("=");ve[decodeURIComponent(ke)]=decodeURIComponent(yt)}}),ve}function pn(Ee){const ve=Ee.indexOf("?");if(!ve)return"";const De=Ee.indexOf("#",ve);return Ee.substring(ve,De>0?De:void 0)}function an(Ee,ve){const De=new Vt(Ee,ve);return De.subscribe.bind(De)}class Vt{constructor(ve,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{ve(this)}).catch($e=>{this.error($e)})}next(ve){this.forEachObserver(De=>{De.next(ve)})}error(ve){this.forEachObserver(De=>{De.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,De,$e){let ke;if(void 0===ve&&void 0===De&&void 0===$e)throw new Error("Missing Observer.");ke=function Dt(Ee,ve){if("object"!=typeof Ee||null===Ee)return!1;for(const De of ve)if(De in Ee&&"function"==typeof Ee[De])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:De,complete:$e},void 0===ke.next&&(ke.next=ir),void 0===ke.error&&(ke.error=ir),void 0===ke.complete&&(ke.complete=ir);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),yt}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,ve)}sendOne(ve,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{De(this.observers[ve])}catch($e){typeof console<"u"&&console.error&&console.error($e)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}function ft(Ee,ve=1e3,De=2){const $e=ve*Math.pow(De,Ee),ke=Math.round(.5*$e*(Math.random()-.5)*2);return Math.min(144e5,$e+ke)}function ln(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},9313:(Tt,ge,N)=>{"use strict";var c=N(4650);let z=null;function q(){return z}class B{}const j=new c.OlP("DocumentToken");let U=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function A(){return(0,c.LFG)(v)}()},providedIn:"platform"}),n})();const I=new c.OlP("Location Initialized");let v=(()=>{class n extends U{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(t){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){C()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){C()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function D(){return new v((0,c.LFG)(j))}()},providedIn:"platform"}),n})();function C(){return!!window.history.pushState}function R(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function S(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function x(n){return n&&"?"!==n[0]?"?"+n:n}let V=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(L)},providedIn:"root"}),n})();const w=new c.OlP("appBaseHref");let L=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return R(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+x(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+x(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+x(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(U),c.LFG(w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=R(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+x(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+x(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(U),c.LFG(w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Z=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function H(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(S(G(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+x(r))}normalize(t){return n.stripTrailingSlash(function re(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,G(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=x,n.joinWithSlash=R,n.stripTrailingSlash=S,n.\u0275fac=function(t){return new(t||n)(c.LFG(V))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Y(){return new Z((0,c.LFG)(V))}()},providedIn:"root"}),n})();function G(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Format=0]="Format",fe[fe.Standalone=1]="Standalone",fe))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Ie=(()=>((Ie=Ie||{})[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function we(n,e){return Xe((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Ce(n,e){return Xe((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Se(n,e){return Xe((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function Oe(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Ne.CurrencyDecimal)return t[c.wAp.NumberSymbols][Ne.Decimal];if(e===Ne.CurrencyGroup)return t[c.wAp.NumberSymbols][Ne.Group]}return r}function In(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xe(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function qe(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const pn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cn={},an=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function ir(n,e,t,r){let o=function yt(n){if(on(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,d=1]=n.split("-").map(g=>+g);return wr(o,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(pn))return function Wt(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,g=Number(n[5]||0)-r,_=Number(n[6]||0),P=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,g,_,P),e}(r)}const e=new Date(n);if(!on(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Un(t,e)||e;let g,d=[];for(;e;){if(g=an.exec(e),!g){d.push(e);break}{d=d.concat(g.slice(1));const W=d.pop();if(!W)break;e=W}}let _=o.getTimezoneOffset();r&&(_=De(r,_),o=function ke(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function $e(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(De(e,o)-o))}(o,r,!0));let P="";return d.forEach(W=>{const le=function ve(n){if(Ee[n])return Ee[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(Dt.Eras,me.Abbreviated);break;case"GGGG":e=rn(Dt.Eras,me.Wide);break;case"GGGGG":e=rn(Dt.Eras,me.Narrow);break;case"y":e=Dn(ot.FullYear,1,0,!1,!0);break;case"yy":e=Dn(ot.FullYear,2,0,!0,!0);break;case"yyy":e=Dn(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=Dn(ot.FullYear,4,0,!1,!0);break;case"Y":e=ln(1);break;case"YY":e=ln(2,!0);break;case"YYY":e=ln(3);break;case"YYYY":e=ln(4);break;case"M":case"L":e=Dn(ot.Month,1,1);break;case"MM":case"LL":e=Dn(ot.Month,2,1);break;case"MMM":e=rn(Dt.Months,me.Abbreviated);break;case"MMMM":e=rn(Dt.Months,me.Wide);break;case"MMMMM":e=rn(Dt.Months,me.Narrow);break;case"LLL":e=rn(Dt.Months,me.Abbreviated,fe.Standalone);break;case"LLLL":e=rn(Dt.Months,me.Wide,fe.Standalone);break;case"LLLLL":e=rn(Dt.Months,me.Narrow,fe.Standalone);break;case"w":e=Ht(1);break;case"ww":e=Ht(2);break;case"W":e=Ht(1,!0);break;case"d":e=Dn(ot.Date,1);break;case"dd":e=Dn(ot.Date,2);break;case"c":case"cc":e=Dn(ot.Day,1);break;case"ccc":e=rn(Dt.Days,me.Abbreviated,fe.Standalone);break;case"cccc":e=rn(Dt.Days,me.Wide,fe.Standalone);break;case"ccccc":e=rn(Dt.Days,me.Narrow,fe.Standalone);break;case"cccccc":e=rn(Dt.Days,me.Short,fe.Standalone);break;case"E":case"EE":case"EEE":e=rn(Dt.Days,me.Abbreviated);break;case"EEEE":e=rn(Dt.Days,me.Wide);break;case"EEEEE":e=rn(Dt.Days,me.Narrow);break;case"EEEEEE":e=rn(Dt.Days,me.Short);break;case"a":case"aa":case"aaa":e=rn(Dt.DayPeriods,me.Abbreviated);break;case"aaaa":e=rn(Dt.DayPeriods,me.Wide);break;case"aaaaa":e=rn(Dt.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=rn(Dt.DayPeriods,me.Abbreviated,fe.Standalone,!0);break;case"bbbb":e=rn(Dt.DayPeriods,me.Wide,fe.Standalone,!0);break;case"bbbbb":e=rn(Dt.DayPeriods,me.Narrow,fe.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(Dt.DayPeriods,me.Abbreviated,fe.Format,!0);break;case"BBBB":e=rn(Dt.DayPeriods,me.Wide,fe.Format,!0);break;case"BBBBB":e=rn(Dt.DayPeriods,me.Narrow,fe.Format,!0);break;case"h":e=Dn(ot.Hours,1,-12);break;case"hh":e=Dn(ot.Hours,2,-12);break;case"H":e=Dn(ot.Hours,1);break;case"HH":e=Dn(ot.Hours,2);break;case"m":e=Dn(ot.Minutes,1);break;case"mm":e=Dn(ot.Minutes,2);break;case"s":e=Dn(ot.Seconds,1);break;case"ss":e=Dn(ot.Seconds,2);break;case"S":e=Dn(ot.FractionalSeconds,1);break;case"SS":e=Dn(ot.FractionalSeconds,2);break;case"SSS":e=Dn(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Fi(Vt.Short);break;case"ZZZZZ":e=Fi(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fi(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fi(Vt.Long);break;default:return null}return Ee[n]=e,e}(W);P+=le?le(o,t,_):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),P}function wr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Un(n,e){const t=function oe(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Cn[t]=Cn[t]||{},Cn[t][e])return Cn[t][e];let r="";switch(e){case"shortDate":r=we(n,Ie.Short);break;case"mediumDate":r=we(n,Ie.Medium);break;case"longDate":r=we(n,Ie.Long);break;case"fullDate":r=we(n,Ie.Full);break;case"shortTime":r=Ce(n,Ie.Short);break;case"mediumTime":r=Ce(n,Ie.Medium);break;case"longTime":r=Ce(n,Ie.Long);break;case"fullTime":r=Ce(n,Ie.Full);break;case"short":const o=Un(n,"shortTime"),l=Un(n,"shortDate");r=Di(Se(n,Ie.Short),[o,l]);break;case"medium":const d=Un(n,"mediumTime"),g=Un(n,"mediumDate");r=Di(Se(n,Ie.Medium),[d,g]);break;case"long":const _=Un(n,"longTime"),P=Un(n,"longDate");r=Di(Se(n,Ie.Long),[_,P]);break;case"full":const W=Un(n,"fullTime"),le=Un(n,"fullDate");r=Di(Se(n,Ie.Full),[W,le])}return r&&(Cn[t][e]=r),r}function Di(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function hr(n,e,t="-",r,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),l+d}function Dn(n,e,t=0,r=!1,o=!1){return function(l,d){let g=function xo(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||g>-t)&&(g+=t),n===ot.Hours)0===g&&-12===t&&(g=12);else if(n===ot.FractionalSeconds)return function fo(n,e){return hr(n,3).substring(0,e)}(g,e);const _=Oe(d,Ne.MinusSign);return hr(g,e,_,r,o)}}function rn(n,e,t=fe.Format,r=!1){return function(o,l){return function ti(n,e,t,r,o,l){switch(t){case Dt.Months:return function ce(n,e,t){const r=(0,c.cg1)(n),l=Xe([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return Xe(l,t)}(e,o,r)[n.getMonth()];case Dt.Days:return function se(n,e,t){const r=(0,c.cg1)(n),l=Xe([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return Xe(l,t)}(e,o,r)[n.getDay()];case Dt.DayPeriods:const d=n.getHours(),g=n.getMinutes();if(l){const P=function Ve(n){const e=(0,c.cg1)(n);return In(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?qe(r):[qe(r[0]),qe(r[1])])}(e),W=function je(n,e,t){const r=(0,c.cg1)(n);In(r);const l=Xe([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return Xe(l,t)||[]}(e,o,r),le=P.findIndex(be=>{if(Array.isArray(be)){const[xe,Le]=be,Ze=d>=xe.hours&&g>=xe.minutes,rt=d<Le.hours||d===Le.hours&&g<Le.minutes;if(xe.hours<Le.hours){if(Ze&&rt)return!0}else if(Ze||rt)return!0}else if(be.hours===d&&be.minutes===g)return!0;return!1});if(-1!==le)return W[le]}return function J(n,e,t){const r=(0,c.cg1)(n),l=Xe([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return Xe(l,t)}(e,o,r)[d<12?0:1];case Dt.Eras:return function ye(n,e){return Xe((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,l,n,e,t,r)}}function Fi(n){return function(e,t,r){const o=-1*r,l=Oe(t,Ne.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Vt.Short:return(o>=0?"+":"")+hr(d,2,l)+hr(Math.abs(o%60),2,l);case Vt.ShortGMT:return"GMT"+(o>=0?"+":"")+hr(d,1,l);case Vt.Long:return"GMT"+(o>=0?"+":"")+hr(d,2,l)+":"+hr(Math.abs(o%60),2,l);case Vt.Extended:return 0===r?"Z":(o>=0?"+":"")+hr(d,2,l)+":"+hr(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ot(n){return wr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ht(n,e=!1){return function(t,r){let o;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();o=1+Math.floor((d+l)/7)}else{const l=Ot(t),d=function ft(n){const e=wr(n,0,1).getDay();return wr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),g=l.getTime()-d.getTime();o=1+Math.round(g/6048e5)}return hr(o,n,Oe(r,Ne.MinusSign))}}function ln(n,e=!1){return function(t,r){return hr(Ot(t).getFullYear(),n,Oe(r,Ne.MinusSign),e)}}const Ee={};function De(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function on(n){return n instanceof Date&&!isNaN(n.valueOf())}function Tr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}const ri=/\s+/,ct=[];let kt=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this.initialClasses=ct,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ri):ct}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ri):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ri).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Yn{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Yn(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const g=r.get(l);r.move(g,d),xn(g,o)}});for(let o=0,l=r.length;o<l;o++){const g=r.get(o).context;g.index=o,g.count=l,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{xn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xn(n,e){n.context.$implicit=e.item}let ii=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Qn=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split("."),d=-1===o.indexOf("-")?void 0:c.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,l?`${r}${l}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,o,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Oo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:d}=this;this._viewRef=r.createEmbeddedView(o,l,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();function Gn(n,e){return new c.vHH(2100,!1)}class Rl{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Ia{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ta=new Ia,Zi=new Rl;let oi=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Ta;if((0,c.F4k)(t))return Zi;throw Gn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const qs=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pl=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Jn=(()=>{class n{constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,l){if(null==t||""===t||t!=t)return null;try{return ir(t,r??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw Gn()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(qs,24),c.Y36(Pl,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let ps=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Aa((0,c.LFG)(j),window)}),n})();class Aa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ro(this.window.history)||Ro(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ro(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Oa{}class Fo extends B{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mo extends Fo{static makeCurrent(){!function Q(n){z||(z=n)}(new mo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ld(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==t?null:function La(n){to=to||document.createElement("a"),to.setAttribute("href",n);const e=to.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tr(document.cookie,e)}}let to,ws=null;const Sr=new c.OlP("TRANSITION_ID"),ea=[{provide:c.ip1,useFactory:function im(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=q(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Sr,j,c.zs3],multi:!0}];let Xu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yo=new c.OlP("EventManagerPlugins");let jl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Fn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=q().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Bi=(()=>{class n extends Fa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Va),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Va))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Va(n){q().remove(n)}const Ai={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ua=/%COMP%/g;function Uo(n,e){return e.flat(100).map(t=>t.replace(Ua,n))}function ql(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _o=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ba(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ds(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case c.ifc.ShadowDom:return new Gl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Uo(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jl),c.LFG(Bi),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ba{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ai[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(no(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(no(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Ai[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ai[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ql(r)):this.eventManager.addEventListener(e,t,ql(r))}}function no(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ds extends Ba{constructor(e,t,r,o){super(e),this.component=r;const l=Uo(o+"-"+r.id,r.styles);t.addStyles(l),this.contentAttr=function Ts(n){return"_ngcontent-%COMP%".replace(Ua,n)}(o+"-"+r.id),this.hostAttr=function vo(n){return"_nghost-%COMP%".replace(Ua,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Gl extends Ba{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Uo(o.id,o.styles);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ja=(()=>{class n extends Fn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zl=["alt","control","meta","shift"],Ha={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $a=(()=>{class n extends Fn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),zl.forEach(P=>{const W=r.indexOf(P);W>-1&&(r.splice(W,1),d+=P+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=Ha[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),zl.forEach(d=>{d!==o&&(0,tc[d])(t)&&(l+=d+".")}),l+=o,l===r)}static eventCallback(t,r,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Mh=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function nc(){mo.makeCurrent()},multi:!0},{provide:j,useFactory:function li(){return(0,c.RDi)(document),document},deps:[]}]),Kl=new c.OlP(""),Cs=[{provide:c.rWj,useClass:class Oh{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const g=function(_){d=d||_,l--,0==l&&r(d)};o.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?q().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Vd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Wl(){return new c.qLn},deps:[]},{provide:yo,useClass:ja,multi:!0,deps:[j,c.R0b,c.Lbi]},{provide:yo,useClass:$a,multi:!0,deps:[j]},{provide:_o,useClass:_o,deps:[jl,Bi,c.AFp]},{provide:c.FYo,useExisting:_o},{provide:Fa,useExisting:Bi},{provide:Bi,useClass:Bi,deps:[j]},{provide:jl,useClass:jl,deps:[yo,c.R0b]},{provide:Oa,useClass:Xu,deps:[]},[]];let rc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Sr,useExisting:c.AFp},ea]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Vd,...Cs],imports:[Dr,c.hGG]}),n})(),oc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ss(){return new oc((0,c.LFG)(j))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var dn=N(8996),$o=N(7669);function Et(...n){const e=(0,$o.yG)(n);return(0,dn.D)(n,e)}var Hi=N(7579);class mi extends Hi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Za=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Oi=N(9751);const{isArray:qo}=Array,{getPrototypeOf:na,prototype:Ya,keys:Ql}=Object;function Hr(n){if(1===n.length){const e=n[0];if(qo(e))return{args:e,keys:null};if(function fc(n){return n&&"object"==typeof n&&na(n)===Ya}(e)){const t=Ql(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var $r=N(4671),Bt=N(4004);const{isArray:$d}=Array;function Go(n){return(0,Bt.U)(e=>function Os(n,e){return $d(e)?n(...e):n(e)}(n,e))}function Jl(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var vr=N(5403),M=N(9672);function k(...n){const e=(0,$o.yG)(n),t=(0,$o.jO)(n),{args:r,keys:o}=Hr(n);if(0===r.length)return(0,dn.D)([],e);const l=new Oi.y(function ee(n,e,t=$r.y){return r=>{he(e,()=>{const{length:o}=n,l=new Array(o);let d=o,g=o;for(let _=0;_<o;_++)he(e,()=>{const P=(0,dn.D)(n[_],e);let W=!1;P.subscribe((0,vr.x)(r,le=>{l[_]=le,W||(W=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Jl(o,d):$r.y));return t?l.pipe(Go(t)):l}function he(n,e,t){n?(0,M.f)(t,n,e):e()}var Ae=N(8189);function We(...n){return function Pe(){return(0,Ae.J)(1)}()((0,dn.D)(n,(0,$o.yG)(n)))}var ht=N(8421);function wt(n){return new Oi.y(e=>{(0,ht.Xf)(n()).subscribe(e)})}var St=N(9635),Kt=N(576);function At(n,e){const t=(0,Kt.m)(n)?n:()=>n,r=o=>o.error(t());return new Oi.y(e?o=>e.schedule(r,0,o):r)}var Hn=N(515),tr=N(727),zn=N(4482);function Qa(){return(0,zn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,vr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zo extends Oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,zn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,vr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tr.w0.EMPTY)}return e}refCount(){return Qa()(this)}}function bn(n,e){return(0,zn.e)((t,r)=>{let o=null,l=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,vr.x)(r,_=>{o?.unsubscribe();let P=0;const W=l++;(0,ht.Xf)(n(_,W)).subscribe(o=(0,vr.x)(r,le=>r.next(e?e(_,le,W,P++):le),()=>{o=null,g()}))},()=>{d=!0,g()}))})}function yi(n){return n<=0?()=>Hn.E:(0,zn.e)((e,t)=>{let r=0;e.subscribe((0,vr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function $i(n,e){return(0,zn.e)((t,r)=>{let o=0;t.subscribe((0,vr.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var vi=N(5577);function qd(n){return(0,zn.e)((e,t)=>{let r=!1;e.subscribe((0,vr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function hc(n=S_){return(0,zn.e)((e,t)=>{let r=!1;e.subscribe((0,vr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function S_(){return new Za}function Ms(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((o,l)=>n(o,l,r)):$r.y,yi(1),t?qd(e):hc(()=>new Za))}function ia(n,e){return(0,Kt.m)(e)?(0,vi.z)(n,e,1):(0,vi.z)(n,1)}var qr=N(8505);function Wo(n){return(0,zn.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,vr.x)(t,void 0,void 0,d=>{l=(0,ht.Xf)(n(d,Wo(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function am(n,e,t,r,o){return(l,d)=>{let g=t,_=e,P=0;l.subscribe((0,vr.x)(d,W=>{const le=P++;_=g?n(_,W,le):(g=!0,W),r&&d.next(_)},o&&(()=>{g&&d.next(_),d.complete()})))}}function Gd(n,e){return(0,zn.e)(am(n,e,arguments.length>=2,!0))}function Xl(n){return n<=0?()=>Hn.E:(0,zn.e)((e,t)=>{let r=[];e.subscribe((0,vr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function zd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((o,l)=>n(o,l,r)):$r.y,Xl(1),t?qd(e):hc(()=>new Za))}function qi(n){return(0,zn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",eu=Symbol("RouteTitle");class lm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ko(n){return new lm(n)}function Kd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function wo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Yd(n[o],e[o]))return!1;return!0}function Yd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function Qd(n){return Array.prototype.concat.apply([],n)}function pc(n){return n.length>0?n[n.length-1]:null}function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function oo(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Et(n)}const tu=!1,Jd={exact:function gc(n,e,t){if(!Me(n.segments,e.segments)||!p(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gc(n.children[r],e.children[r],t))return!1;return!0},subset:Xd},Ar={exact:function Lh(n,e){return wo(n,e)},subset:function um(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yd(n[t],e[t]))},ignored:()=>!0};function Ja(n,e,t){return Jd[t.paths](n.root,e.root,t.matrixParams)&&Ar[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Xd(n,e,t){return b(n,e,e.segments,t)}function b(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Me(o,t)||e.hasChildren()||!p(o,t,r))}if(n.segments.length===t.length){if(!Me(n.segments,t)||!p(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Xd(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Me(n.segments,o)&&p(n.segments,o,r)&&n.children[zt])&&b(n.children[zt],e,l,r)}}function p(n,e,t){return e.every((r,o)=>Ar[t](n[o].parameters,r.parameters))}class m{constructor(e=new E([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return Jt.serialize(this)}}class E{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sn(this)}}class te{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ko(this.parameters)),this._parameterMap}toString(){return el(this)}}function Me(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new _t},providedIn:"root"}),n})();class _t{parse(e){const t=new x_(e);return new m(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gr(e.root,!0)}`,r=function Vh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ns(t)}=${Ns(o)}`).join("&"):`${Ns(t)}=${Ns(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function oa(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jt=new _t;function Sn(n){return n.segments.map(e=>el(e)).join("/")}function Gr(n,e){if(!n.hasChildren())return Sn(n);if(e){const t=n.children[zt]?Gr(n.children[zt],!1):"",r=[];return yn(n.children,(o,l)=>{l!==zt&&r.push(`${l}:${Gr(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ze(n,e){let t=[];return yn(n.children,(r,o)=>{o===zt&&(t=t.concat(e(r,o)))}),yn(n.children,(r,o)=>{o!==zt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===zt?[Gr(n.children[zt],!1)]:[`${o}:${Gr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Sn(n)}/${t[0]}`:`${Sn(n)}/(${t.join("//")})`}}function so(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ns(n){return so(n).replace(/%3B/gi,";")}function sa(n){return so(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xa(n){return decodeURIComponent(n)}function ef(n){return Xa(n.replace(/\+/g,"%20"))}function el(n){return`${sa(n.path)}${function Fh(n){return Object.keys(n).map(e=>`;${sa(e)}=${sa(n[e])}`).join("")}(n.parameters)}`}const tf=/^[^\/()?;=#]+/;function nu(n){const e=n.match(tf);return e?e[0]:""}const cm=/^[^=?&#]+/,Uh=/^[^&#]+/;class x_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new E(e,t)),r}parseSegment(){const e=nu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,tu);return this.capture(e),new te(Xa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=nu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=nu(this.remaining);o&&(r=o,this.capture(r))}e[Xa(t)]=Xa(r)}parseQueryParam(e){const t=function nf(n){const e=n.match(cm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function dm(n){const e=n.match(Uh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ef(t),l=ef(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nu(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,tu);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=zt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[zt]:new E([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,tu)}}function rf(n){return n.segments.length>0?new E([],{[zt]:n}):n}function Bh(n){const e={};for(const r of Object.keys(n.children)){const l=Bh(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Qw(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new E(n.segments.concat(e.segments),e.children)}return n}(new E(n.segments,e))}function tl(n){return n instanceof m}function Jw(n,e,t,r,o){if(0===t.length)return yc(e.root,e.root,e.root,r,o);const l=function pm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return yn(l.outlets,(_,P)=>{g[P]="string"==typeof _?_.split("/"):_}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new hm(t,e,r)}(t);return l.toRoot()?yc(e.root,e.root,new E([],{}),r,o):function d(_){const P=function $h(n,e,t,r){if(n.isAbsolute)return new rl(e.root,!0,0);if(-1===r)return new rl(t,t===e.root,0);return function sf(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new c.vHH(4005,!1);o=r.segments.length}return new rl(r,!1,o-l)}(t,r+(Hh(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),W=P.processChildren?il(P.segmentGroup,P.index,l.commands):af(P.segmentGroup,P.index,l.commands);return yc(e.root,P.segmentGroup,W,r,o)}(n.snapshot?._lastPathIndex)}function Hh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nl(n){return"object"==typeof n&&null!=n&&n.outlets}function yc(n,e,t,r,o){let d,l={};r&&yn(r,(_,P)=>{l[P]=Array.isArray(_)?_.map(W=>`${W}`):`${_}`}),d=n===e?t:fm(n,e,t);const g=rf(Bh(d));return new m(g,l,o)}function fm(n,e,t){const r={};return yn(n.children,(o,l)=>{r[l]=o===e?t:fm(o,e,t)}),new E(n.segments,r)}class hm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hh(r[0]))throw new c.vHH(4003,!1);const o=r.find(nl);if(o&&o!==pc(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function af(n,e,t){if(n||(n=new E([],{})),0===n.segments.length&&n.hasChildren())return il(n,e,t);const r=function gm(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],g=t[r];if(nl(g))break;const _=`${g}`,P=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&P&&"object"==typeof P&&void 0===P.outlets){if(!P_(_,P,d))return l;r+=2}else{if(!P_(_,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new E(n.segments.slice(0,r.pathIndex),{});return l.children[zt]=new E(n.segments.slice(r.pathIndex),n.children),il(l,0,o)}return r.match&&0===o.length?new E(n.segments,{}):r.match&&!n.hasChildren()?ru(n,e,t):r.match?il(n,0,o):ru(n,e,t)}function il(n,e,t){if(0===t.length)return new E(n.segments,{});{const r=function R_(n){return nl(n[0])?n[0].outlets:{[zt]:n}}(t),o={};return!r[zt]&&n.children[zt]&&1===n.numberOfChildren&&0===n.children[zt].segments.length?il(n.children[zt],e,t):(yn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=af(n.children[d],e,l))}),yn(n.children,(l,d)=>{void 0===r[d]&&(o[d]=l)}),new E(n.segments,o))}}function ru(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(nl(l)){const _=Xw(l.outlets);return new E(r,_)}if(0===o&&Hh(t[0])){r.push(new te(n.segments[e].path,mm(t[0]))),o++;continue}const d=nl(l)?l.outlets[zt]:`${l}`,g=o<t.length-1?t[o+1]:null;d&&g&&Hh(g)?(r.push(new te(d,mm(g))),o+=2):(r.push(new te(d,{})),o++)}return new E(r,{})}function Xw(n){const e={};return yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ru(new E([],{}),0,t))}),e}function mm(n){const e={};return yn(n,(t,r)=>e[r]=`${t}`),e}function P_(n,e,t){return n==t.path&&wo(e,t.parameters)}const lf="imperative";class Rs{constructor(e,t){this.id=e,this.url=t}}class qh extends Rs{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ol extends Rs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iu extends Rs{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gh extends Rs{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class sl extends Rs{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eI extends Rs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tI extends Rs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d1 extends Rs{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nI extends Rs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ym extends Rs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zh{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L_{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _m{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let iI=(()=>{class n{createUrlTree(t,r,o,l,d,g){return Jw(t||r.root,o,l,d,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return iI.\u0275fac(e)},providedIn:"root"}),n})();class U_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ps(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ps(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ou(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ou(e,this._root).map(t=>t.value)}}function Ps(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ps(n,t);if(r)return r}return null}function ou(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ou(n,t);if(r.length)return r.unshift(e),r}return[]}class aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sI extends U_{constructor(e,t){super(e),this.snapshot=t,Em(this,e)}toString(){return this.snapshot.toString()}}function aI(n,e){const t=function p1(n,e){const d=new Wh([],{},{},"",{},zt,e,null,n.root,-1,{});return new B_("",new aa(d,[]))}(n,e),r=new mi([new te("",{})]),o=new mi({}),l=new mi({}),d=new mi({}),g=new mi(""),_=new vc(r,o,d,g,l,zt,e,t.root);return _.snapshot=t.root,new sI(new aa(_,[]),t)}class vc{constructor(e,t,r,o,l,d,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,Bt.U)(P=>P[eu]))??Et(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.U)(e=>Ko(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.U)(e=>Ko(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function lI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wh{get title(){return this.data?.[eu]}constructor(e,t,r,o,l,d,g,_,P,W,le){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=g,this.routeConfig=_,this._urlSegment=P,this._lastPathIndex=W,this._resolve=le}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class B_ extends U_{constructor(e,t){super(t),this.url=e,Em(this,t)}toString(){return Kh(this._root)}}function Em(n,e){e.value._routerState=n,e.children.forEach(t=>Em(n,t))}function Kh(n){const e=n.children.length>0?` { ${n.children.map(Kh).join(", ")} } `:"";return`${n.value}${e}`}function Zo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wo(e.params,t.params)||n.params.next(t.params),function Zd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function su(n,e){const t=wo(n.params,e.params)&&function de(n,e){return Me(n,e)&&n.every((t,r)=>wo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||su(n.parent,e.parent))}function _c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function H_(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return _c(n,r,o);return _c(n,r)})}(n,e,t);return new aa(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>_c(n,g)),d}}const r=function g1(n){return new vc(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>_c(n,l));return new aa(r,o)}}const $_="ngNavigationCancelingError";function uI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=tl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Zh(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Zh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Yh(n){return cI(n)&&tl(n.url)}function cI(n){return n&&n[$_]}class m1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bc,this.attachRef=null}}let bc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new m1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qh=!1;let wm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(bc),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Qh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Qh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Qh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Qh);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new dI(t,g,o.injector);if(r&&function fI(n){return!!n.resolveComponentFactory}(r)){const P=r.resolveComponentFactory(d);this.activated=o.createComponent(P,o.length,_)}else this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class dI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vc?this.route:e===bc?this.childContexts:this.parent.get(e,t)}}let Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[wm],encapsulation:2}),n})();function cf(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Im(n){const e=n.children&&n.children.map(Im),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=Jh),t}function Io(n){return n.outlet||zt}function W_(n,e){const t=n.filter(r=>Io(r)===e);return t.push(...n.filter(r=>Io(r)!==e)),t}function df(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class _1{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=uf(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),yn(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=uf(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=uf(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=uf(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new F_(l.value.snapshot))}),e.children.length&&this.forwardEvent(new vm(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Zo(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Zo(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=df(o.snapshot),_=g?.get(c._Vd)??null;d.attachRef=null,d.route=o,d.resolver=_,d.injector=g,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class pI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class al{constructor(e,t){this.component=e,this.route=t}}function Tm(n,e,t){const r=n._root;return Ec(r,e?e._root:null,t,[r.value])}function au(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Ec(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=uf(e);return n.children.forEach(d=>{(function gI(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function mI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Me(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Me(n.url,e.url)||!wo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!su(n,e)||!wo(n.queryParams,e.queryParams);default:return!su(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new pI(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Ec(n,e,l.component?g?g.children:null:t,r,o),_&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new al(g.outlet.component,d))}else d&&wc(e,g,o),o.canActivateChecks.push(new pI(r)),Ec(n,null,l.component?g?g.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),yn(l,(d,g)=>wc(d,t.getContext(g),o)),o}function wc(n,e,t){const r=uf(n),o=n.value;yn(r,(l,d)=>{wc(l,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new al(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Ic(n){return"function"==typeof n}function Am(n){return n instanceof Za||"EmptyError"===n?.name}const Tc=Symbol("INITIAL_VALUE");function la(){return bn(n=>k(n.map(e=>e.pipe(yi(1),function ra(...n){const e=(0,$o.yG)(n);return(0,zn.e)((t,r)=>{(e?We(n,t,e):We(n,t)).subscribe(r)})}(Tc)))).pipe((0,Bt.U)(e=>{for(const t of e)if(!0!==t){if(t===Tc)return Tc;if(!1===t||t instanceof m)return t}return!0}),$i(e=>e!==Tc),yi(1)))}function cu(n){return(0,St.z)((0,qr.b)(e=>{if(tl(e))throw uI(0,e)}),(0,Bt.U)(e=>!0===e))}const Mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X_(n,e,t,r,o){const l=ff(n,e,t);return l.matched?function wI(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Et(o.map(d=>{const g=au(d,n);return oo(function Y_(n){return n&&Ic(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(la(),cu()):Et(!0)}(r=cf(e,r),e,t).pipe((0,Bt.U)(d=>!0===d?l:{...Mm})):Et(l)}function ff(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Kd)(t,n,e);if(!o)return{...Mm};const l={};yn(o.posParams,(g,_)=>{l[_]=g.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function tp(n,e,t,r){if(t.length>0&&function t0(n,e,t){return t.some(r=>np(n,e,r)&&Io(r)!==zt)}(n,t,r)){const l=new E(e,function II(n,e,t,r){const o={};o[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Io(l)!==zt){const d=new E([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Io(l)]=d}return o}(n,e,r,new E(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function E1(n,e,t){return t.some(r=>np(n,e,r))}(n,t,r)){const l=new E(n.segments,function e0(n,e,t,r,o){const l={};for(const d of r)if(np(n,t,d)&&!o[Io(d)]){const g=new E([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,l[Io(d)]=g}return{...o,...l}}(n,e,t,r,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const o=new E(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function np(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Dc(n,e,t,r){return!!(Io(n)===r||r!==zt&&np(e,t,n))&&("**"===n.path||ff(e,n,t).matched)}function n0(n,e,t){return 0===e.length&&!n.children[t]}const ua=!1;class ll{constructor(e){this.segmentGroup=e||null}}class r0{constructor(e){this.urlTree=e}}function Cc(n){return At(new ll(n))}function o0(n){return At(new r0(n))}class a0{constructor(e,t,r,o,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const e=tp(this.urlTree.root,[],[],this.config).segmentGroup,t=new E(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,Bt.U)(l=>this.createUrlTree(Bh(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wo(l=>{if(l instanceof r0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ll?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,Bt.U)(o=>this.createUrlTree(Bh(o),e.queryParams,e.fragment))).pipe(Wo(o=>{throw o instanceof ll?this.noMatchError(o):o}))}noMatchError(e){return new c.vHH(4002,ua)}createUrlTree(e,t,r){const o=rf(e);return new m(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Bt.U)(l=>new E([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,dn.D)(o).pipe(ia(l=>{const d=r.children[l],g=W_(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,Bt.U)(_=>({segment:_,outlet:l})))}),Gd((l,d)=>(l[d.outlet]=d.segment,l),{}),zd())}expandSegment(e,t,r,o,l,d){return(0,dn.D)(r).pipe(ia(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,l,d).pipe(Wo(P=>{if(P instanceof ll)return Et(null);throw P}))),Ms(g=>!!g),Wo((g,_)=>{if(Am(g))return n0(t,o,l)?Et(new E([],{})):Cc(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,l,d,g){return Dc(o,t,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d):Cc(t):Cc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?o0(l):this.lineralizeSegments(r,l).pipe((0,vi.z)(d=>{const g=new E(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:g,consumedSegments:_,remainingSegments:P,positionalParamSegments:W}=ff(t,o,l);if(!g)return Cc(t);const le=this.applyRedirectCommands(_,o.redirectTo,W);return o.redirectTo.startsWith("/")?o0(le):this.lineralizeSegments(o,le).pipe((0,vi.z)(be=>this.expandSegment(e,t,r,be.concat(P),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){return"**"===r.path?(e=cf(r,e),r.loadChildren?(r._loadedRoutes?Et({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Bt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new E(o,{})))):Et(new E(o,{}))):X_(t,r,o,e).pipe(bn(({matched:d,consumedSegments:g,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,vi.z)(W=>{const le=W.injector??e,be=W.routes,{segmentGroup:xe,slicedSegments:Le}=tp(t,g,_,be),Ze=new E(xe.segments,xe.children);if(0===Le.length&&Ze.hasChildren())return this.expandChildren(le,be,Ze).pipe((0,Bt.U)(nn=>new E(g,nn)));if(0===be.length&&0===Le.length)return Et(new E(g,{}));const rt=Io(r)===l;return this.expandSegment(le,Ze,be,Le,rt?zt:l,!0).pipe((0,Bt.U)(Xt=>new E(g.concat(Xt.segments),Xt.children)))})):Cc(t)))}getChildConfig(e,t,r){return t.children?Et({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Et({routes:t._loadedRoutes,injector:t._loadedInjector}):function J_(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Et(!0):Et(o.map(d=>{const g=au(d,n);return oo(function b1(n){return n&&Ic(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(la(),cu())}(e,t,r).pipe((0,vi.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,qr.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function DI(n){return At(Zh(ua,3))}())):Et({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Et(r);if(o.numberOfChildren>1||!o.children[zt])return At(new c.vHH(4e3,ua));o=o.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new m(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=t[g]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return yn(t.children,(g,_)=>{d[_]=this.createSegmentGroup(e,g,r,o)}),new E(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new c.vHH(4001,ua);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class CI{}class SI{constructor(e,t,r,o,l,d,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.urlSerializer=g}recognize(){const e=tp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,Bt.U)(t=>{if(null===t)return null;const r=new Wh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new aa(r,t),l=new B_(this.url,o);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=bm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,dn.D)(Object.keys(r.children)).pipe(ia(o=>{const l=r.children[o],d=W_(t,o);return this.processSegmentGroup(e,d,l,o)}),Gd((o,l)=>o&&l?(o.push(...l),o):null),function kh(n,e=!1){return(0,zn.e)((t,r)=>{let o=0;t.subscribe((0,vr.x)(r,l=>{const d=n(l,o++);(d||e)&&r.next(l),!d&&r.complete()}))})}(o=>null!==o),qd(null),zd(),(0,Bt.U)(o=>{if(null===o)return null;const l=l0(o);return function AI(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,o,l){return(0,dn.D)(t).pipe(ia(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,l)),Ms(d=>!!d),Wo(d=>{if(Am(d))return n0(r,o,l)?Et([]):Et(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,l){if(t.redirectTo||!Dc(t,r,o,l))return Et(null);let d;if("**"===t.path){const g=o.length>0?pc(o).parameters:{},_=du(r)+o.length;d=Et({snapshot:new Wh(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,c0(t),Io(t),t.component??t._loadedComponent??null,t,u0(r),_,d0(t)),consumedSegments:[],remainingSegments:[]})}else d=X_(r,t,o,e).pipe((0,Bt.U)(({matched:g,consumedSegments:_,remainingSegments:P,parameters:W})=>{if(!g)return null;const le=du(r)+_.length;return{snapshot:new Wh(_,W,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,c0(t),Io(t),t.component??t._loadedComponent??null,t,u0(r),le,d0(t)),consumedSegments:_,remainingSegments:P}}));return d.pipe(bn(g=>{if(null===g)return Et(null);const{snapshot:_,consumedSegments:P,remainingSegments:W}=g;e=t._injector??e;const le=t._loadedInjector??e,be=function xI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:xe,slicedSegments:Le}=tp(r,P,W,be.filter(rt=>void 0===rt.redirectTo));if(0===Le.length&&xe.hasChildren())return this.processChildren(le,be,xe).pipe((0,Bt.U)(rt=>null===rt?null:[new aa(_,rt)]));if(0===be.length&&0===Le.length)return Et([new aa(_,[])]);const Ze=Io(t)===l;return this.processSegment(le,be,xe,Le,Ze?zt:l).pipe((0,Bt.U)(rt=>null===rt?null:[new aa(_,rt)]))}))}}function OI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l0(n){const e=[],t=new Set;for(const r of n){if(!OI(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=l0(r.children);e.push(new aa(r.value,o))}return e.filter(r=>!t.has(r))}function u0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function du(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function c0(n){return n.data||{}}function d0(n){return n.resolve||{}}function g0(n){return"string"==typeof n.title||null===n.title}function ip(n){return bn(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,Bt.U)(()=>e)):Et(e)})}const _i=new c.OlP("ROUTES");let Pm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=oo(t.loadComponent()).pipe((0,Bt.U)(v0),(0,qr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),qi(()=>{this.componentLoaders.delete(t)})),o=new zo(r,()=>new Hi.x).pipe(Qa());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Bt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,P,W=!1;Array.isArray(g)?P=g:(_=g.create(t).injector,P=Qd(_.get(_i,[],c.XFs.Self|c.XFs.Optional)));return{routes:P.map(Im),injector:_}}),qi(()=>{this.childrenLoaders.delete(r)})),d=new zo(l,()=>new Hi.x).pipe(Qa());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return oo(t()).pipe((0,Bt.U)(v0),(0,vi.z)(o=>o instanceof c.YKP||Array.isArray(o)?Et(o):(0,dn.D)(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v0(n){return function y0(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let sp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Hi.x,this.configLoader=(0,c.f3M)(Pm),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(lt),this.rootContexts=(0,c.f3M)(bc),this.navigationId=0,this.afterPreactivation=()=>Et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new k_(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new rI(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(r=>0!==r.id),(0,Bt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),bn(r=>{let o=!1,l=!1;return Et(r).pipe((0,qr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bn(d=>{const g=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const W="";return this.events.next(new Gh(d.id,t.serializeUrl(r.rawUrl),W,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Hn.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return _0(d.source)&&(t.browserUrlTree=d.extractedUrl),Et(d).pipe(bn(W=>{const le=this.transitions?.getValue();return this.events.next(new qh(W.id,this.urlSerializer.serialize(W.extractedUrl),W.source,W.restoredState)),le!==this.transitions?.getValue()?Hn.E:Promise.resolve(W)}),function Nm(n,e,t,r){return bn(o=>function s0(n,e,t,r,o){return new a0(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Bt.U)(l=>({...o,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,qr.b)(W=>{this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects},r.urlAfterRedirects=W.urlAfterRedirects}),function w1(n,e,t,r,o){return(0,vi.z)(l=>function hf(n,e,t,r,o,l,d="emptyOnly"){return new SI(n,e,t,r,o,d,l).recognize().pipe(bn(g=>null===g?function Rm(n){return new Oi.y(e=>e.error(n))}(new CI):Et(g)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,o).pipe((0,Bt.U)(d=>({...l,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,qr.b)(W=>{if(r.targetSnapshot=W.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!W.extras.skipLocationChange){const be=t.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);t.setBrowserUrl(be,W)}t.browserUrlTree=W.urlAfterRedirects}const le=new eI(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(le)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:W,extractedUrl:le,source:be,restoredState:xe,extras:Le}=d,Ze=new qh(W,this.urlSerializer.serialize(le),be,xe);this.events.next(Ze);const rt=aI(le,this.rootComponentType).snapshot;return Et(r={...d,targetSnapshot:rt,urlAfterRedirects:le,extras:{...Le,skipLocationChange:!1,replaceUrl:!1}})}{const W="";return this.events.next(new Gh(d.id,t.serializeUrl(r.extractedUrl),W,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Hn.E}}),(0,qr.b)(d=>{const g=new tI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),(0,Bt.U)(d=>r={...d,guards:Tm(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function _I(n,e){return(0,vi.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?Et({...t,guardsResult:!0}):function xm(n,e,t,r){return(0,dn.D)(n).pipe((0,vi.z)(o=>function EI(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Et(l.map(g=>{const _=df(e)??o,P=au(g,_);return oo(function Sm(n){return n&&Ic(n.canDeactivate)}(P)?P.canDeactivate(n,e,t,r):_.runInContext(()=>P(n,e,t,r))).pipe(Ms())})).pipe(la()):Et(!0)}(o.component,o.route,t,e,r)),Ms(o=>!0!==o,!0))}(d,r,o,n).pipe((0,vi.z)(g=>g&&function Dm(n){return"boolean"==typeof n}(g)?function ep(n,e,t,r){return(0,dn.D)(e).pipe(ia(o=>We(function Q_(n,e){return null!==n&&e&&e(new zh(n)),Et(!0)}(o.route.parent,r),function uu(n,e){return null!==n&&e&&e(new L_(n)),Et(!0)}(o.route,r),function bI(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Z_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>wt(()=>Et(d.guards.map(_=>{const P=df(d.node)??t,W=au(_,P);return oo(function yI(n){return n&&Ic(n.canActivateChild)}(W)?W.canActivateChild(r,n):P.runInContext(()=>W(r,n))).pipe(Ms())})).pipe(la())));return Et(l).pipe(la())}(n,o.path,t),function Om(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Et(!0);const o=r.map(l=>wt(()=>{const d=df(e)??t,g=au(l,d);return oo(function Cm(n){return n&&Ic(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Ms())}));return Et(o).pipe(la())}(n,o.route,t))),Ms(o=>!0!==o,!0))}(r,l,n,e):Et(g)),(0,Bt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,d=>this.events.next(d)),(0,qr.b)(d=>{if(r.guardsResult=d.guardsResult,tl(d.guardsResult))throw uI(0,d.guardsResult);const g=new d1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(g)}),$i(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),ip(d=>{if(d.guards.canActivateChecks.length)return Et(d).pipe((0,qr.b)(g=>{const _=new nI(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),bn(g=>{let _=!1;return Et(g).pipe(function I1(n,e){return(0,vi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Et(t);let l=0;return(0,dn.D)(o).pipe(ia(d=>function f0(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!g0(o)&&(l[eu]=o.title),function T1(n,e,t,r){const o=function h0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Et({});const l={};return(0,dn.D)(o).pipe((0,vi.z)(d=>function p0(n,e,t,r){const o=df(e)??r,l=au(n,o);return oo(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Ms(),(0,qr.b)(g=>{l[d]=g}))),Xl(1),function Wd(n){return(0,Bt.U)(()=>n)}(l),Wo(d=>Am(d)?Hn.E:At(d)))}(l,n,e,r).pipe((0,Bt.U)(d=>(n._resolvedData=d,n.data=bm(n,t).resolve,o&&g0(o)&&(n.data[eu]=o.title),null)))}(d.route,r,n,e)),(0,qr.b)(()=>l++),Xl(1),(0,vi.z)(d=>l===o.length?Et(t):Hn.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,qr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,qr.b)(g=>{const _=new ym(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),ip(d=>{const g=_=>{const P=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,qr.b)(W=>{_.component=W}),(0,Bt.U)(()=>{})));for(const W of _.children)P.push(...g(W));return P};return k(g(d.targetSnapshot.root)).pipe(qd(),yi(1))}),ip(()=>this.afterPreactivation()),(0,Bt.U)(d=>{const g=function j_(n,e,t){const r=_c(n,e._root,t?t._root:void 0);return new sI(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:g}}),(0,qr.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Bt.U)(r=>(new _1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,qr.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ol(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),qi(()=>{o||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wo(d=>{if(l=!0,cI(d)){Yh(d)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new iu(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(g),Yh(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),P={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||_0(r.source)};t.scheduleNavigation(_,lf,null,P,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new sl(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return Hn.E}))}))}cancelNavigationTransition(t,r,o){const l=new iu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _0(n){return n!==lf}let km=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[eu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(RI)},providedIn:"root"}),n})(),RI=(()=>{class n extends km{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Zt)},providedIn:"root"}),n})();class kI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zt=(()=>{class n extends kI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pf=new c.OlP("",{providedIn:"root",factory:()=>({})});let E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(LI)},providedIn:"root"}),n})(),LI=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I0(n){throw n}function FI(n,e,t){return e.parse("/")}const T0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(pf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||I0,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||FI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(E0),this.routeReuseStrategy=(0,c.f3M)(PI),this.urlCreationStrategy=(0,c.f3M)(oI),this.titleStrategy=(0,c.f3M)(km),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qd((0,c.f3M)(_i,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(sp),this.urlSerializer=(0,c.f3M)(lt),this.location=(0,c.f3M)(Z),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new m,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Im),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:_}=r,P=_?this.currentUrlTree.fragment:d;let W=null;switch(g){case"merge":W={...this.currentUrlTree.queryParams,...l};break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=l||null}return null!==W&&(W=this.removeEmptyProps(W)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,W,P??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=tl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,lf,null,r)}navigate(t,r={skipLocationChange:!1}){return function D1(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...T0}:!1===r?{...VI}:r,tl(t))return Ja(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Ja(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}scheduleNavigation(t,r,o,l,d){if(this.disposed)return Promise.resolve(!1);let g,_,P,W;return d?(g=d.resolve,_=d.reject,P=d.promise):P=new Promise((le,be)=>{g=le,_=be}),W="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:W,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:g,reject:_,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(le=>Promise.reject(le))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ca=(()=>{class n{constructor(t,r,o,l,d,g){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Hi.x;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(P=>{P instanceof ol&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,l,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||l||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,l=this.el.nativeElement;null!==r?o.setAttribute(l,t,r):o.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Or),c.Y36(vc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(V))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class C0{}let UI=(()=>{class n{constructor(t,r,o,l,d){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe($i(t=>t instanceof ol),ia(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,g=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,dn.D)(o).pipe((0,Ae.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Et(null);const l=o.pipe((0,vi.z)(d=>null===d?Et(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,dn.D)([l,d]).pipe((0,Ae.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Or),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(C0),c.LFG(Pm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x0=new c.OlP("");let BI=(()=>{class n{constructor(t,r,o,l,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ol&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _m&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _m(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Sc(n,e){return{\u0275kind:n,\u0275providers:e}}function mf(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Or),o=n.get(O0);1===n.get(ap)&&r.initialNavigation(),n.get(M0,null,c.XFs.Optional)?.setUpPreloading(),n.get(x0,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const O0=new c.OlP("",{factory:()=>new Hi.x}),ap=new c.OlP("",{providedIn:"root",factory:()=>1});const M0=new c.OlP("");function GI(n){return Sc(0,[{provide:M0,useExisting:UI},{provide:C0,useExisting:n}])}const lp=new c.OlP("ROUTER_FORROOT_GUARD"),x1=[Z,{provide:lt,useClass:_t},Or,bc,{provide:vc,useFactory:function Lm(n){return n.routerState.root},deps:[Or]},Pm,[]];function Vm(){return new c.PXZ("Router",Or)}let N0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[x1,[],{provide:_i,multi:!0,useValue:t},{provide:lp,useFactory:KI,deps:[[Or,new c.FiY,new c.tp0]]},{provide:pf,useValue:r||{}},r?.useHash?{provide:V,useClass:X}:{provide:V,useClass:L},{provide:x0,useFactory:()=>{const n=(0,c.f3M)(ps),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(pf),r=(0,c.f3M)(sp),o=(0,c.f3M)(lt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BI(o,r,n,e,t)}},r?.preloadingStrategy?GI(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Vm},r?.initialNavigation?P0(r):[],[{provide:k0,useFactory:mf},{provide:c.tb,multi:!0,useExisting:k0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_i,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lp,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jh]}),n})();function KI(n){return"guarded"}function P0(n){return["disabled"===n.initialNavigation?Sc(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Or);return()=>{e.setUpLocationChangeListener()}}},{provide:ap,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Sc(2,[{provide:ap,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(I,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const l=e.get(Or),d=e.get(O0);(function r(o){e.get(Or).events.pipe($i(d=>d instanceof ol||d instanceof iu||d instanceof sl),(0,Bt.U)(d=>d instanceof ol||d instanceof iu&&(0===d.code||1===d.code)&&null),$i(d=>null!==d),yi(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(sp).afterPreactivation=()=>(o(!0),d.closed?Et(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const k0=new c.OlP("");var Mc=N(6451),Nc=N(5363),yf=N(6063);class Bm extends Hi.x{constructor(e=1/0,t=1/0,r=yf.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)g=_;g&&r.splice(0,g+1)}}}var up=N(3099);function jm(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,up.B)({connector:()=>new Bm(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function cp(n,e){return(0,Kt.m)(e)?bn(()=>n,e):bn(()=>n)}var vf=N(9468),An=N(3069),cl=N(2011),ks=N(259);class Rc{constructor(e){return e}}class Hm{constructor(){return(0,ks.C6)()}}const dp=new c.OlP("angularfire2._apps"),L0={provide:Rc,useFactory:function QI(n){return n&&1===n.length?n[0]:new Rc((0,ks.Mq)())},deps:[[new c.FiY,dp]]},JI={provide:Hm,deps:[[new c.FiY,dp]]};function XI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rc(r)}}let ao=(()=>{class n{constructor(t){(0,ks.KN)("angularfire",An.q4.full,"core"),(0,ks.KN)("angularfire",An.q4.full,"app"),(0,ks.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[L0,JI]}),n})();const U0=(0,An.u3)(ks.ZF,!0);var gt=N(5861),da=N(9681),$m=N(4859),_r=N(2090),hu=N(1877);const qm=new Map,B0={activated:!1,tokenObservers:[]},eT={initialized:!1,enabled:!1};function ui(n){return qm.get(n)||Object.assign({},B0)}function Pc(){return eT}class zm{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,gt.Z)(function*(){t.stop();try{t.pending=new _r.BH,yield function iT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _r.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zr=new _r.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _f(n){if(!ui(n).activated)throw zr.create("use-before-activation",{appName:n.name})}function q0(n,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,gt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const le=yield o.getHeartbeatsHeader();le&&(r["X-Firebase-Client"]=le)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,g;try{d=yield fetch(n,l)}catch(le){throw zr.create("fetch-network-error",{originalErrorMessage:le?.message})}if(200!==d.status)throw zr.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(le){throw zr.create("fetch-parse-error",{originalErrorMessage:le?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const P=1e3*Number(_[1]),W=Date.now();return{token:g.token,expireTimeMillis:W+P,issuedAtTimeMillis:W}})).apply(this,arguments)}function W0(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const dl="firebase-app-check-store";let fl=null;function K0(){return fl||(fl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(zr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dl,{keyPath:"compositeKey"})}}catch(t){e(zr.create("storage-open",{originalErrorMessage:t?.message}))}}),fl)}function Km(){return(Km=(0,gt.Z)(function*(n,e){const r=(yield K0()).transaction(dl,"readwrite"),l=r.objectStore(dl).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var P;g(zr.create("storage-set",{originalErrorMessage:null===(P=_.target.error)||void 0===P?void 0:P.message}))}})})).apply(this,arguments)}const Ef=new hu.Yd("@firebase/app-check");function Qm(n,e){return(0,_r.hl)()?function Y0(n,e){return function Fc(n,e){return Km.apply(this,arguments)}(function Q0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ef.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pp(){return Pc().enabled}function J0(){return wf.apply(this,arguments)}function wf(){return(wf=(0,gt.Z)(function*(){const n=Pc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fT={error:"UNKNOWN_ERROR"};function hT(n){return _r.US.encodeString(JSON.stringify(n),!1)}function gp(n){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,gt.Z)(function*(n,e=!1){const t=n.app;_f(t);const r=ui(t);let l,o=r.token;if(o&&!If(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(If(_)?o=_:yield Qm(t,void 0))}if(!e&&o&&If(o))return{token:o.token};let g,d=!1;if(pp()){r.exchangeTokenPromise||(r.exchangeTokenPromise=q0(W0(t,yield J0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield Qm(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield ui(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ef.warn(_.message):Ef.error(_),l=_}return o?l?g=If(o)?{token:o.token,internalError:l}:ny(l):(g={token:o.token},r.token=o,yield Qm(t,o)):g=ny(l),d&&eb(t,g),g})).apply(this,arguments)}function ey(n,e){const t=ui(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ty(n){const{app:e}=n,t=ui(e);let r=t.tokenRefresher;r||(r=function X0(n){const{app:e}=n;return new zm((0,gt.Z)(function*(){let r;if(r=ui(e).token?yield gp(n,!0):yield gp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ui(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eb(n,e){const t=ui(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function If(n){return n.expireTimeMillis-Date.now()>0}function ny(n){return{token:hT(fT),error:n}}class mp{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ui(this.app);for(const t of e)ey(this.app,t.next);return Promise.resolve()}}const oy="app-check-internal";!function nb(){(0,da._registerComponent)(new $m.wA("app-check",n=>function pu(n,e){return new mp(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oy).initialize()})),(0,da._registerComponent)(new $m.wA(oy,n=>function k1(n){return{getToken:e=>gp(n,e),addTokenListener:e=>function Xm(n,e,t,r){const{app:o}=n,l=ui(o);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&If(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),ty(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ty(n))}(n,"INTERNAL",e),removeTokenListener:e=>ey(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,da.registerVersion)("@firebase/app-check","0.6.3")}();class Cf{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window,N(9260);const ab=new c.OlP("angularfire2.auth.use-emulator"),lb=new c.OlP("angularfire2.auth.settings"),fy=new c.OlP("angularfire2.auth.tenant-id"),ub=new c.OlP("angularfire2.auth.langugage-code"),IT=new c.OlP("angularfire2.auth.use-device-language"),cb=new c.OlP("angularfire.auth.persistence");let jc=(()=>{class n{constructor(t,r,o,l,d,g,_,P,W,le,be,xe){const Le=new Hi.x,Ze=Et(void 0).pipe((0,Nc.Q)(d.outsideAngular),bn(()=>l.runOutsideAngular(()=>N.e(568).then(N.bind(N,9568)))),(0,Bt.U)(()=>(0,cl.on)(t,l,r)),(0,Bt.U)(rt=>((n,e,t,r,o,l,d,g)=>(0,cl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,l&&_.useDeviceLanguage(),d)for(const[P,W]of Object.entries(d))_.settings[P]=W;return g&&_.setPersistence(g),_},[t,r,o,l,d,g]))(rt,l,g,P,W,le,_,be)),jm({bufferSize:1,refCount:!1}));if(function Td(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Et(null);else{Ze.pipe(Ms()).subscribe();const Lt=Ze.pipe(bn(en=>en.getRedirectResult().then(un=>un,()=>null)),An.iC,jm({bufferSize:1,refCount:!1})),Xt=Ze.pipe(bn(en=>new Oi.y(un=>({unsubscribe:l.runOutsideAngular(()=>en.onAuthStateChanged(hn=>un.next(hn),hn=>un.error(hn),()=>un.complete()))})))),nn=Ze.pipe(bn(en=>new Oi.y(un=>({unsubscribe:l.runOutsideAngular(()=>en.onIdTokenChanged(hn=>un.next(hn),hn=>un.error(hn),()=>un.complete()))}))));this.authState=Lt.pipe(cp(Xt),(0,vf.R)(d.outsideAngular),(0,Nc.Q)(d.insideAngular)),this.user=Lt.pipe(cp(nn),(0,vf.R)(d.outsideAngular),(0,Nc.Q)(d.insideAngular)),this.idToken=this.user.pipe(bn(en=>en?(0,dn.D)(en.getIdToken()):Et(null))),this.idTokenResult=this.user.pipe(bn(en=>en?(0,dn.D)(en.getIdTokenResult()):Et(null))),this.credential=(0,Mc.T)(Lt,Le,this.authState.pipe($i(en=>!en))).pipe((0,Bt.U)(en=>en?.user?en:null),(0,vf.R)(d.outsideAngular),(0,Nc.Q)(d.insideAngular))}return(0,cl.pX)(this,Ze,l,{spy:{apply:(rt,Lt,Xt)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&Xt.then(nn=>Le.next(nn))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cl.Dh),c.LFG(cl.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(ab,8),c.LFG(lb,8),c.LFG(fy,8),c.LFG(ub,8),c.LFG(IT,8),c.LFG(cb,8),c.LFG(Cf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const fb=["*"];let Wr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),hb=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[Wr.STARTS_WITH,Wr.CONTAINS,Wr.NOT_CONTAINS,Wr.ENDS_WITH,Wr.EQUALS,Wr.NOT_EQUALS],numeric:[Wr.EQUALS,Wr.NOT_EQUALS,Wr.LESS_THAN,Wr.LESS_THAN_OR_EQUAL_TO,Wr.GREATER_THAN,Wr.GREATER_THAN_OR_EQUAL_TO],date:[Wr.DATE_IS,Wr.DATE_IS_NOT,Wr.DATE_BEFORE,Wr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Hi.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:fb,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:fb,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),ha=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})(),$n=(()=>{class n{static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let o=r.trim().split(" ");for(let l=0;l<o.length;l++)t.classList.add(o[l])}else{let o=r.split(" ");for(let l=0;l<o.length;l++)t.className+=" "+o[l]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,o=0;for(var l=0;l<r.length;l++){if(r[l]==t)return o;1==r[l].nodeType&&o++}return-1}static indexWithinGroup(t,r){let o=t.parentNode?t.parentNode.childNodes:[],l=0;for(var d=0;d<o.length;d++){if(o[d]==t)return l;o[d].attributes&&o[d].attributes[r]&&1==o[d].nodeType&&l++}return-1}static appendOverlay(t,r,o="self"){"self"!==o&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,o="self",l=!0){t&&r&&(l&&(t.style.minWidth||(t.style.minWidth=n.getOuterWidth(r)+"px")),"self"===o?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const o=Ze=>{if(Ze)return"relative"===getComputedStyle(Ze).getPropertyValue("position")?Ze:o(Ze.parentElement)},l=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),d=r.offsetHeight,g=r.getBoundingClientRect(),_=this.getWindowScrollTop(),P=this.getWindowScrollLeft(),W=this.getViewport(),be=o(t)?.getBoundingClientRect()||{top:-1*_,left:-1*P};let xe,Le;g.top+d+l.height>W.height?(xe=g.top-be.top-l.height,t.style.transformOrigin="bottom",g.top+xe<0&&(xe=-1*g.top)):(xe=d+g.top-be.top,t.style.transformOrigin="top"),Le=l.width>W.width?-1*(g.left-be.left):g.left-be.left+l.width>W.width?-1*(g.left-be.left+l.width-W.width):g.left-be.left,t.style.top=xe+"px",t.style.left=Le+"px"}static absolutePosition(t,r){const o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),l=o.height,d=o.width,g=r.offsetHeight,_=r.offsetWidth,P=r.getBoundingClientRect(),W=this.getWindowScrollTop(),le=this.getWindowScrollLeft(),be=this.getViewport();let xe,Le;P.top+g+l>be.height?(xe=P.top+W-l,t.style.transformOrigin="bottom",xe<0&&(xe=W)):(xe=g+P.top+W,t.style.transformOrigin="top"),Le=P.left+d>be.width?Math.max(0,P.left+le+_-d):P.left+le,t.style.top=xe+"px",t.style.left=Le+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let o=this.getParents(t);const l=/(auto|scroll)/,d=g=>{let _=window.getComputedStyle(g,null);return l.test(_.getPropertyValue("overflow"))||l.test(_.getPropertyValue("overflowX"))||l.test(_.getPropertyValue("overflowY"))};for(let g of o){let _=1===g.nodeType&&g.dataset.scrollselectors;if(_){let P=_.split(",");for(let W of P){let le=this.findSingle(g,W);le&&d(le)&&r.push(le)}}9!==g.nodeType&&d(g)&&r.push(g)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let o=getComputedStyle(t).getPropertyValue("borderTopWidth"),l=o?parseFloat(o):0,d=getComputedStyle(t).getPropertyValue("paddingTop"),g=d?parseFloat(d):0,_=t.getBoundingClientRect(),W=r.getBoundingClientRect().top+document.body.scrollTop-(_.top+document.body.scrollTop)-l-g,le=t.scrollTop,be=t.clientHeight,xe=this.getOuterHeight(r);W<0?t.scrollTop=le+W:W+xe>be&&(t.scrollTop=le+W-be+xe)}static fadeIn(t,r){t.style.opacity=0;let o=+new Date,l=0,d=function(){l=+t.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,t.style.opacity=l,o=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(t,r){var o=1,g=50/r;let _=setInterval(()=>{(o-=g)<=0&&(o=0,clearInterval(_)),t.style.opacity=o},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(t,r)}static getOuterWidth(t,r){let o=t.offsetWidth;if(r){let l=getComputedStyle(t);o+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return o}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(t,r){let o=t.offsetHeight;if(r){let l=getComputedStyle(t);o+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return o}static getHeight(t){let r=t.offsetHeight,o=getComputedStyle(t);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,o=getComputedStyle(t);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let t=window,r=document,o=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||l.clientWidth,height:t.innerHeight||o.clientHeight||l.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let o=t.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,o){t[r].apply(t,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),o=[];for(let l of r)(l.offsetWidth||l.offsetHeight||l.getClientRects().length)&&o.push(l);return o}static getNextFocusableElement(t,r=!1){const o=n.getFocusableElements(t);let l=0;if(o&&o.length>0){const d=o.indexOf(o[0].ownerDocument.activeElement);r?l=-1==d||0===d?o.length-1:d-1:-1!=d&&d!==o.length-1&&(l=d+1)}return o[l]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const o=typeof t;if("string"===o)return document.querySelector(t);if("object"===o&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const d=(g=t)&&g.constructor&&g.call&&g.apply?t():t;return d&&9===d.nodeType||this.isExist(d)?d:null}var g}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})(),Ep=(()=>{class n{constructor(t,r,o){this.el=t,this.zone=r,this.config=o}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if($n.removeClass(r,"p-ink-active"),!$n.getHeight(r)&&!$n.getWidth(r)){let g=Math.max($n.getOuterWidth(this.el.nativeElement),$n.getOuterHeight(this.el.nativeElement));r.style.height=g+"px",r.style.width=g+"px"}let o=$n.getOffset(this.el.nativeElement),l=t.pageX-o.left+document.body.scrollTop-$n.getWidth(r)/2,d=t.pageY-o.top+document.body.scrollLeft-$n.getHeight(r)/2;r.style.top=d+"px",r.style.left=l+"px",$n.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let g=this.getInk();g&&$n.removeClass(g,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&$n.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),$n.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),$n.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(hb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),wp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})();class bu{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var l,d,g,r=Array.isArray(e),o=Array.isArray(t);if(r&&o){if((d=e.length)!=t.length)return!1;for(l=d;0!=l--;)if(!this.equalsByValue(e[l],t[l]))return!1;return!0}if(r!=o)return!1;var _=this.isDate(e),P=this.isDate(t);if(_!=P)return!1;if(_&&P)return e.getTime()==t.getTime();var W=e instanceof RegExp,le=t instanceof RegExp;if(W!=le)return!1;if(W&&le)return e.toString()==t.toString();var be=Object.keys(e);if((d=be.length)!==Object.keys(t).length)return!1;for(l=d;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,be[l]))return!1;for(l=d;0!=l--;)if(!this.equalsByValue(e[g=be[l]],t[g]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),o=e;for(let l=0,d=r.length;l<d;++l){if(null==o)return null;o=o[r[l]]}return o}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,o){if(r.length>0){let l=!1;for(let d=0;d<r.length;d++)if(this.findIndexInList(r[d],o)>t){r.splice(d,0,e),l=!0;break}l||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let o=0;o<t.length;o++)if(t[o]==e){r=o;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,o=1){let l=-1;const d=this.isEmpty(e),g=this.isEmpty(t);return l=d&&g?0:d?o:g?-o:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,l}static sort(e,t,r=1,o,l=1){return(1===l?r:l)*bu.compare(e,t,o,r)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}}function gb(n,e){1&n&&c.GkF(0)}!function PT(){let n=[];const o=l=>l&&parseInt(l.style.zIndex,10)||0}();const kT=function(n,e,t,r){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":e,"p-button-icon-top":t,"p-button-icon-bottom":r}};function Mr(n,e){if(1&n&&c._UZ(0,"span",4),2&n){const t=c.oxw();c.Tol(t.loading?"p-button-loading-icon "+t.loadingIcon:t.icon),c.Q6J("ngClass",c.l5B(4,kT,"left"===t.iconPos&&t.label,"right"===t.iconPos&&t.label,"top"===t.iconPos&&t.label,"bottom"===t.iconPos&&t.label)),c.uIk("aria-hidden",!0)}}function mb(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.uIk("aria-hidden",t.icon&&!t.label),c.xp6(1),c.Oqu(t.label)}}function LT(n,e){if(1&n&&(c.TgZ(0,"span",4),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.badgeClass),c.Q6J("ngClass",t.badgeStyleClass()),c.xp6(1),c.Oqu(t.badge)}}const FT=function(n,e,t,r,o){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":e,"p-disabled":t,"p-button-loading":r,"p-button-loading-label-only":o}},yb=["*"],Eu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let $c=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(Eu)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){$n.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[Eu.button,Eu.component];return this.icon&&!this.label&&bu.isEmpty(this.htmlElement.textContent)&&t.push(Eu.iconOnly),this.loading&&(t.push(Eu.disabled,Eu.loading),!this.icon&&this.label&&t.push(Eu.labelOnly)),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(this.label){let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(this.icon||this.loading){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&$n.addClass(t,r);let o=this.getIconClass();o&&$n.addMultipleClasses(t,o),this.htmlElement.insertBefore(t,this.htmlElement.firstChild)}}updateLabel(){let t=$n.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=$n.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():t&&this.htmlElement.removeChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),vb=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(t,r,o){if(1&t&&c.Suo(o,ha,4),2&t){let l;c.iGM(l=c.CRH())&&(r.templates=l)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:yb,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"button",0),c.NdJ("click",function(l){return r.onClick.emit(l)})("focus",function(l){return r.onFocus.emit(l)})("blur",function(l){return r.onBlur.emit(l)}),c.Hsn(1),c.YNc(2,gb,1,0,"ng-container",1),c.YNc(3,Mr,1,9,"span",2),c.YNc(4,mb,2,2,"span",3),c.YNc(5,LT,2,4,"span",2),c.qZA()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",c.qbA(11,FT,r.icon&&!r.label,("top"===r.iconPos||"bottom"===r.iconPos)&&r.label,r.disabled||r.loading,r.loading,r.loading&&!r.icon&&r.label)),c.uIk("type",r.type)("aria-label",r.ariaLabel),c.xp6(2),c.Q6J("ngTemplateOutlet",r.contentTemplate),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate&&(r.icon||r.loading)),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate&&r.label),c.xp6(1),c.Q6J("ngIf",!r.contentTemplate&&r.badge))},dependencies:[kt,ii,Oo,Qn,Ep],encapsulation:2,changeDetection:0}),n})(),gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr,wp]}),n})();function VT(n,e){1&n&&c._UZ(0,"button",3)}function UT(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",4),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.logout())}),c.qZA()}}class wu{constructor(e){this.angularFireAuth=e}ngOnInit(){}logout(){this.angularFireAuth.signOut()}}wu.\u0275fac=function(e){return new(e||wu)(c.Y36(jc))},wu.\u0275cmp=c.Xpm({type:wu,selectors:[["app-home"]],decls:5,vars:6,consts:[["pButton","","class","mt-2 ml-2","routerLink","/login","type","button","label","Sign In",4,"ngIf"],["pButton","","class","mt-2 ml-2","type","button","label","Sign Out",3,"click",4,"ngIf"],["pButton","","type","button","routerLink","/diary","label","Diary",1,"mt-2","ml-2"],["pButton","","routerLink","/login","type","button","label","Sign In",1,"mt-2","ml-2"],["pButton","","type","button","label","Sign Out",1,"mt-2","ml-2",3,"click"]],template:function(e,t){1&e&&(c.YNc(0,VT,1,0,"button",0),c.ALo(1,"async"),c.YNc(2,UT,1,0,"button",1),c.ALo(3,"async"),c._UZ(4,"button",2)),2&e&&(c.Q6J("ngIf",!c.lcZ(1,2,t.angularFireAuth.user)),c.xp6(2),c.Q6J("ngIf",c.lcZ(3,4,t.angularFireAuth.user)))},dependencies:[ii,ca,$c,oi],styles:["button[_ngcontent-%COMP%]{margin-top:5px;margin-right:5px}div[_ngcontent-%COMP%]{margin-top:5px}"]});let py=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),qc=(()=>{class n extends py{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const lo=new c.OlP("NgValueAccessor"),jT={provide:lo,useExisting:(0,c.Gpc)(()=>Gi),multi:!0},Vs=new c.OlP("CompositionEventMode");let Gi=(()=>{class n extends py{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _b(){const n=q()?q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Vs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([jT]),c.qOj]}),n})();function pa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function my(n){return null!=n&&"number"==typeof n.length}const bi=new c.OlP("NgValidators"),ml=new c.OlP("NgAsyncValidators"),HT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yy{static min(e){return function Ip(n){return e=>{if(pa(e.value)||pa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Gc(n){return e=>{if(pa(e.value)||pa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bb(n){return pa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vy(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Eb(n){return pa(n.value)||HT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function _y(n){return e=>pa(e.value)||!my(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function by(n){return e=>my(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Sf(n){if(!n)return Tp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pa(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Ty(e)}static composeAsync(e){return Dy(e)}}function Tp(n){return null}function Ey(n){return null!=n}function wy(n){return(0,c.QGY)(n)?(0,dn.D)(n):n}function Dp(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Af(n,e){return e.map(t=>t(n))}function Iy(n){return n.map(e=>function wb(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ty(n){if(!n)return null;const e=n.filter(Ey);return 0==e.length?null:function(t){return Dp(Af(t,e))}}function Cp(n){return null!=n?Ty(Iy(n)):null}function Dy(n){if(!n)return null;const e=n.filter(Ey);return 0==e.length?null:function(t){return function BT(...n){const e=(0,$o.jO)(n),{args:t,keys:r}=Hr(n),o=new Oi.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let _=d,P=d;for(let W=0;W<d;W++){let le=!1;(0,ht.Xf)(t[W]).subscribe((0,vr.x)(l,be=>{le||(le=!0,P--),g[W]=be},()=>_--,void 0,()=>{(!_||!le)&&(P||l.next(r?Jl(r,g):g),l.complete())}))}});return e?o.pipe(Go(e)):o}(Af(t,e).map(wy)).pipe((0,Bt.U)(Dp))}}function Sp(n){return null!=n?Dy(Iy(n)):null}function Cy(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sy(n){return n._rawValidators}function Ib(n){return n._rawAsyncValidators}function Ay(n){return n?Array.isArray(n)?n:[n]:[]}function Ap(n,e){return Array.isArray(n)?n.includes(e):n===e}function Tb(n,e){const t=Ay(e);return Ay(n).forEach(o=>{Ap(t,o)||t.push(o)}),t}function Db(n,e){return Ay(e).filter(t=>!Ap(n,t))}class Cb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mi extends Cb{get formDirective(){return null}get path(){return null}}class yl extends Cb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sb{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xp=(()=>{class n extends Sb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yl,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Op=(()=>{class n extends Sb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const xf="VALID",ga="INVALID",Of="PENDING",Tu="DISABLED";function Mb(n){return(Mt(n)?n.validators:n)||null}function Np(n,e){return(Mt(e)?e.asyncValidators:n)||null}function Mt(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xf}get invalid(){return this.status===ga}get pending(){return this.status==Of}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Db(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Db(e,this._rawAsyncValidators))}hasValidator(e){return Ap(this._rawValidators,e)}hasAsyncValidator(e){return Ap(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Of,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xf||this.status===Of)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:xf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Of,this._hasOwnPendingAsyncValidator=!0;const t=wy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?ga:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Of)?Of:this._anyControlsHaveStatus(ga)?ga:xf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Nb(n){return Array.isArray(n)?Cp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function q1(n){return Array.isArray(n)?Sp(n):n||null}(this._rawAsyncValidators)}}class Jo extends kb{constructor(e,t,r){super(Mb(t),Np(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Pb(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Rb(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const zc=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wc}),Wc="always";function Mf(n,e){return[...e.path,n]}function Nf(n,e,t=Wc){Pp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function JT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Kc(n,e)})}(n,e),function eD(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function XT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Kc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Rf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pp(n,e){const t=Sy(n);null!==e.validator?n.setValidators(Cy(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ib(n);null!==e.asyncValidator?n.setAsyncValidators(Cy(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Pf(e._rawValidators,o),Pf(e._rawAsyncValidators,o)}function kp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Sy(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=Ib(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Pf(e._rawValidators,r),Pf(e._rawAsyncValidators,r),t}function Kc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Du(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function ky(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===Gi?t=l:function kf(n){return Object.getPrototypeOf(n.constructor)===qc}(l)?r=l:o=l}),o||r||t||null}function Fy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xo=class extends kb{constructor(e=null,t,r){super(Mb(t),Np(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jb(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Lf={provide:yl,useExisting:(0,c.Gpc)(()=>By)},Hb=(()=>Promise.resolve())();let By=(()=>{class n extends yl{constructor(t,r,o,l,d,g){super(),this._changeDetectorRef=d,this.callSetDisabledState=g,this.control=new Xo,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ky(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Du(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Hb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,c.D6c)(r);Hb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Mf(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mi,9),c.Y36(bi,10),c.Y36(ml,10),c.Y36(lo,10),c.Y36(c.sBO,8),c.Y36(zc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Lf]),c.qOj,c.TTD]}),n})(),Fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Hy=new c.OlP("NgModelWithFormControlWarning"),zb={provide:Mi,useExisting:(0,c.Gpc)(()=>Qc)};let Qc=(()=>{class n extends Mi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Nf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Rf(t.control||null,t,!1),function rD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Ub(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Rf(r||null,t),(n=>n instanceof Xo)(o)&&(Nf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Fb(n,e){Pp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function tD(n,e){return kp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pp(this.form,this),this._oldForm&&kp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(ml,10),c.Y36(zc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([zb]),c.qOj,c.TTD]}),n})();const pD={provide:yl,useExisting:(0,c.Gpc)(()=>Ff)};let Ff=(()=>{class n extends yl{set isDisabled(t){}constructor(t,r,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ky(0,l)}ngOnChanges(t){this._added||this._setUpControl(),Du(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Mf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Mi,13),c.Y36(bi,10),c.Y36(ml,10),c.Y36(lo,10),c.Y36(Hy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([pD]),c.qOj,c.TTD]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$b]}),n})(),nE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zc,useValue:t.callSetDisabledState??Wc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Bp]}),n})(),OD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hy,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zc,useValue:t.callSetDisabledState??Wc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Bp]}),n})();class Su{constructor(e,t){this.router=e,this.angularFireAuth=t,this.userLoggedIn=!1,this.angularFireAuth.onAuthStateChanged(r=>{r?(this.userLoggedIn=!0,sessionStorage.setItem("user_uid",r.uid)):this.userLoggedIn=!1})}loginUser(e,t){return this.angularFireAuth.signInWithEmailAndPassword(e,t).then(()=>{console.log("loginUser: success")}).catch(r=>{console.log("Auth service: login error"),console.log("Error code ",r.code),console.log("Error ",r)})}}Su.\u0275fac=function(e){return new(e||Su)(c.LFG(Or),c.LFG(jc))},Su.\u0275prov=c.Yz7({token:Su,factory:Su.\u0275fac,providedIn:"root"});let MD=(()=>{class n{constructor(t,r,o){this.el=t,this.ngModel=r,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(By,8),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r.onInput(l)}),2&t&&c.ekj("p-filled",r.filled)}}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})();class Xc{constructor(e,t,r){this.authService=e,this.router=t,this.angularFireAuth=r,this.loginForm=new Jo({email:new Xo("",[yy.required,yy.email]),password:new Xo("",yy.required)}),this.firebaseErrorMessage=""}ngOnInit(){}loginUser(){this.loginForm.invalid||this.authService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(e=>{null==e?(console.log("logging in..."),this.router.navigate(["/home"])):e.isInvalid&&(console.log("login error",e),this.firebaseErrorMessage=e.message)})}}Xc.\u0275fac=function(e){return new(e||Xc)(c.Y36(Su),c.Y36(Or),c.Y36(jc))},Xc.\u0275cmp=c.Xpm({type:Xc,selectors:[["app-login"]],decls:12,vars:1,consts:[["pButton","","routerLink","/home","type","button","label","Home",1,"mt-2","ml-2"],[3,"formGroup","ngSubmit"],[1,"flex","mt-8","justify-content-center"],[1,"surface-card","p-4","shadow-2","border-round","w-full","lg:w-6"],["for","email",1,"block","text-900","font-medium","mb-2"],["formControlName","email","id","email","type","text","placeholder","Email address","pInputText","",1,"w-full","mb-3"],["for","password",1,"block","text-900","font-medium","mb-2"],["formControlName","password","id","password","type","password","placeholder","Password","pInputText","",1,"w-full","mb-3"],["pButton","","pRipple","","label","Sign In","icon","pi pi-user",1,"w-full"]],template:function(e,t){1&e&&(c._UZ(0,"button",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return t.loginUser()}),c.TgZ(2,"div",2)(3,"div",3)(4,"div")(5,"label",4),c._uU(6,"Email"),c.qZA(),c._UZ(7,"input",5),c.TgZ(8,"label",6),c._uU(9,"Password"),c.qZA(),c._UZ(10,"input",7),c.qZA(),c._UZ(11,"button",8),c.qZA()()()),2&e&&(c.xp6(1),c.Q6J("formGroup",t.loginForm))},dependencies:[ca,MD,$c,Fp,Gi,xp,Op,Qc,Ff,Ep]});class Au{constructor(e,t){this.router=e,this.angularFireAuth=t}canActivate(e,t){return new Promise((r,o)=>{this.angularFireAuth.onAuthStateChanged(l=>{l?r(!0):(console.log("user are not logged in"),this.router.navigate(["/home"]),r(!1))})})}}Au.\u0275fac=function(e){return new(e||Au)(c.LFG(Or),c.LFG(jc))},Au.\u0275prov=c.Yz7({token:Au,factory:Au.\u0275fac,providedIn:"root"});var rE=N(2722);class nv{constructor(e){return e}}class RD{constructor(){return(0,An.vb)("auth")}}const rv=new c.OlP("angularfire2.auth-instances");function PD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nv(r)}}const kD={provide:RD,deps:[[new c.FiY,rv]]},sE={provide:nv,useFactory:function oE(n,e){const t=(0,An.JM)("auth",n,e);return t&&new nv(t)},deps:[[new c.FiY,rv],Rc]};let aE=(()=>{class n{constructor(){(0,ks.KN)("angularfire",An.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[sE,kD]}),n})();const ix=(0,An.u3)(rE.n,!0);var It,tC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Us={},di=di||{},jt=tC||self;function qp(){}function Gp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wp="closure_uid_"+(1e9*Math.random()>>>0),yE=0;function Uf(n,e,t){return n.call.apply(n.bind,arguments)}function nC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uf:nC).apply(null,arguments)}function Kp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function vl(){this.s=this.s,this.o=this.o}vl.prototype.s=!1,vl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function bx(n){Object.prototype.hasOwnProperty.call(n,Wp)&&n[Wp]||(n[Wp]=++yE)}(this)},vl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Bf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gp(r)){const o=n.length||0,l=r.length||0;n.length=o+l;for(let d=0;d<l;d++)n[o+d]=r[d]}else n.push(r)}}function fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}fi.prototype.h=function(){this.defaultPrevented=!0};var Zp=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",qp,e),jt.removeEventListener("test",qp,e)}catch{}return n}();function ed(n){return/^[\s\xa0]*$/.test(n)}var iC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yp(n,e){return n<e?-1:n>e?1:0}function Qp(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function es(n){return-1!=Qp().indexOf(n)}function _l(n){return _l[" "](n),n}_l[" "]=qp;var Jp,n,_E=es("Opera"),bl=es("Trident")||es("MSIE"),sC=es("Edge"),av=sC||bl,aC=es("Gecko")&&!(-1!=Qp().toLowerCase().indexOf("webkit")&&!es("Edge"))&&!(es("Trident")||es("MSIE"))&&!es("Edge"),lC=-1!=Qp().toLowerCase().indexOf("webkit")&&!es("Edge");function bE(){var n=jt.document;return n?n.documentMode:void 0}e:{var Xp="",eg=(n=Qp(),aC?/rv:([^\);]+)(\)|;)/.exec(n):sC?/Edge\/([\d\.]+)/.exec(n):bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lC?/WebKit\/(\S+)/.exec(n):_E?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(eg&&(Xp=eg?eg[1]:""),bl){var lv=bE();if(null!=lv&&lv>parseFloat(Xp)){Jp=String(lv);break e}}Jp=Xp}var EE={};var TE=jt.document&&bl&&(bE()||parseInt(Jp,10))||void 0;function jf(n,e){if(fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aC){e:{try{_l(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:DE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jf.X.h.call(this)}}Zr(jf,fi);var DE={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),CE=0;function SE(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++CE,this.ba=this.ea=!1}function tg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uC(n){const e={};for(const t in n)e[t]=n[t];return e}const dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<dv.length;l++)t=dv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fv(n){this.src=n,this.g={},this.h=0}function AE(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=vE(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(tg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xE(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return o}return-1}fv.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=xE(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new SE(e,this.src,l,!!r,o)).ea=t,n.push(e)),e};var OE="closure_lm_"+(1e6*Math.random()|0),ME={};function dC(n,e,t,r,o){if(r&&r.once)return hC(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)dC(n,e[l],t,r,o);return null}return t=rg(t),n&&n[td]?n.N(e,t,zp(r)?!!r.capture:!!r,o):fC(n,e,t,!1,r,o)}function fC(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=zp(o)?!!o.capture:!!o,g=RE(n);if(g||(n[OE]=g=new fv(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function ng(){const e=NE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zp||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(pv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hC(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hC(n,e[l],t,r,o);return null}return t=rg(t),n&&n[td]?n.O(e,t,zp(r)?!!r.capture:!!r,o):fC(n,e,t,!0,r,o)}function hv(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)hv(n,e[l],t,r,o);else r=zp(r)?!!r.capture:!!r,t=rg(t),n&&n[td]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xE(l=n.g[e],t,r,o))&&(tg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=RE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xE(e,t,r,o)),(t=-1<n?e[n]:null)&&nd(t))}function nd(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[td])AE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=RE(e))?(AE(t,n),0==t.h&&(t.src=null,e[OE]=null)):tg(n)}}}function pv(n){return n in ME?ME[n]:ME[n]="on"+n}function NE(n,e){if(n.ba)n=!0;else{e=new jf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&nd(n),n=t.call(r,e)}return n}function RE(n){return(n=n[OE])instanceof fv?n:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function rg(n){return"function"==typeof n?n:(n[Hf]||(n[Hf]=function(e){return n.handleEvent(e)}),n[Hf])}function Yr(){vl.call(this),this.i=new fv(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new fi(e,n);else if(e instanceof fi)e.target=e.target||n;else{var o=e;cC(e=new fi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=gv(d,r,!0,e)&&o}if(o=gv(d=e.g=n,r,!0,e)&&o,o=gv(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=gv(d=e.g=t[l],r,!1,e)&&o}function gv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,_=d.ha||d.src;d.ea&&AE(n.i,d),o=!1!==g.call(_,r)&&o}}return o&&!r.defaultPrevented}Zr(Yr,vl),Yr.prototype[td]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){hv(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)tg(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var PE=jt.JSON.stringify;function pC(){var n=LE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kE,$f=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mC,n=>n.reset());class mC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ex(n){jt.setTimeout(()=>{throw n},0)}function yC(n,e){kE||function vC(){var n=jt.Promise.resolve(void 0);kE=function(){n.then(wx)}}(),mv||(kE(),mv=!0),LE.add(n,e)}var mv=!1,LE=new class gC{constructor(){this.h=this.g=null}add(e,t){const r=$f.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wx(){for(var n;n=pC();){try{n.h.call(n.g)}catch(t){Ex(t)}var e=$f;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}mv=!1}function ig(n,e){Yr.call(this),this.h=n||1,this.g=e||jt,this.j=Kr(this.lb,this),this.l=Date.now()}function og(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function sg(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function _C(n){n.g=sg(()=>{n.g=null,n.i&&(n.i=!1,_C(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(ig,Yr),(It=ig.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qr(this,"tick"),this.ca&&(og(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){ig.X.M.call(this),og(this),delete this.g};class ts extends vl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_C(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qf(n){vl.call(this),this.h=n,this.g={}}Zr(qf,vl);var ag=[];function FE(n,e,t,r){Array.isArray(t)||(t&&(ag[0]=t.toString()),t=ag);for(var o=0;o<t.length;o++){var l=dC(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function bC(n){cv(n.g,function(e,t){this.g.hasOwnProperty(t)&&nd(e)},n),n.g={}}function Ni(){this.g=!0}function rd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return PE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}qf.prototype.M=function(){qf.X.M.call(this),bC(this)},qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ni.prototype.Aa=function(){this.g=!1},Ni.prototype.info=function(){};var El={},_v=null;function lg(){return _v=_v||new Yr}function bv(n){fi.call(this,El.Pa,n)}function id(n){const e=lg();Qr(e,new bv(e))}function VE(n,e){fi.call(this,El.STAT_EVENT,n),this.stat=e}function Ei(n){const e=lg();Qr(e,new VE(e,n))}function UE(n,e){fi.call(this,El.Qa,n),this.size=e}function xu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}El.Pa="serverreachability",Zr(bv,fi),El.STAT_EVENT="statevent",Zr(VE,fi),El.Qa="timingevent",Zr(UE,fi);var ns={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ev={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gf(){}function BE(){}Gf.prototype.h=null;var Tv,ug={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wv(){fi.call(this,"d")}function Iv(){fi.call(this,"c")}function cg(){}function od(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new qf(this),this.O=jE,this.T=new ig(n=av?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new IC}function IC(){this.i=null,this.g="",this.h=!1}Zr(wv,fi),Zr(Iv,fi),Zr(cg,Gf),cg.prototype.g=function(){return new XMLHttpRequest},cg.prototype.i=function(){return{}},Tv=new cg;var jE=45e3,Dv={},zf={};function HE(n,e,t){n.K=1,n.v=Mv(ya(e)),n.s=t,n.P=!0,dg(n,null)}function dg(n,e){n.F=Date.now(),sd(n),n.A=ya(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),mg(t.i,"t",r),n.C=0,t=n.l.H,n.h=new IC,n.g=Ft(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ts(Kr(n.La,n,n.g),n.N)),FE(n.S,n.g,"readystatechange",n.ib),e=n.H?uC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),id(),function EC(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),_=0;_<g.length;_++){var P=g[_].split("=");if(1<P.length){var W=P[0];P=P[1];var le=W.split("_");d=2<=le.length&&"type"==le[1]?d+(W+"=")+P+"&":d+(W+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Cv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Sv(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=$E(n,t),o==zf){4==e&&(n.o=4,Ei(14),r=!1),rd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Dv){n.o=4,Ei(15),rd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rd(n.j,n.m,o,null),xv(n,o)}Cv(n)&&o!=zf&&o!=Dv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ie(e),e.K=!0,Ei(11))):(rd(n.j,n.m,t,"[Invalid Chunked Response]"),Il(n),wl(n))}function $E(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zf:(t=Number(e.substring(t,r)),isNaN(t)?Dv:(r+=1)+t>e.length?zf:(e=e.substr(r,t),n.C=r+t,e))}function sd(n){n.V=Date.now()+n.O,Av(n,n.O)}function Av(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xu(Kr(n.gb,n),e)}function Ou(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function wl(n){0==n.l.G||n.I||Re(n.l,n)}function Il(n){Ou(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,og(n.T),bC(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Rv(t.h,n)))if(!n.J&&Rv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Te(t),s(t)}$(t),Ei(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=xu(Kr(t.cb,t),6e3));if(1>=ZE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Je(t,11)}else if((n.J||t.g==n)&&Te(t),!ed(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let P=o[e];if(t.T=P[0],P=P[1],2==t.G)if("c"==P[0]){t.I=P[1],t.ka=P[2];const W=P[3];null!=W&&(t.ma=W,t.j.info("VER="+t.ma));const le=P[4];null!=le&&(t.Ca=le,t.j.info("SVER="+t.Ca));const be=P[5];null!=be&&"number"==typeof be&&0<be&&(t.J=r=1.5*be,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const xe=n.g;if(xe){const Le=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var l=r.h;l.g||-1==Le.indexOf("spdy")&&-1==Le.indexOf("quic")&&-1==Le.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Pv(l,l.h),l.h=null))}if(r.D){const Ze=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(r.za=Ze,Wn(r.F,r.D,Ze))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=vt(r,r.H?r.ka:null,r.V),d.J){YE(r.h,d);var g=d,_=r.J;_&&g.setTimeout(_),g.B&&(Ou(g),sd(g)),r.g=d}else O(r);0<t.i.length&&u(t)}else"stop"!=P[0]&&"close"!=P[0]||Je(t,7);else 3==t.G&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Je(t,7):i(t):"noop"!=P[0]&&t.l&&t.l.wa(P),t.A=0)}id()}catch{}}function DC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ix(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}(It=od.prototype).setTimeout=function(n){this.O=n},It.ib=function(n){n=n.target;const e=this.L;e&&3==Tl(n)?e.l():this.La(n)},It.La=function(n){try{if(n==this.g)e:{const W=Tl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>W)&&(3!=W||av||this.g&&(this.h.h||this.g.fa()||FC(this.g)))){this.I||4!=W||7==e||id(),Ou(this);var t=this.g.aa();this.Y=t;t:if(Cv(this)){var r=FC(this.g);n="";var o=r.length,l=4==Tl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Il(this),wl(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function yv(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,W,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ed(g)){var P=g;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,Ei(12),Il(this),wl(this);break e}rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xv(this,t)}this.P?(Sv(this,W,d),av&&this.i&&3==W&&(FE(this.S,this.T,"tick",this.hb),this.T.start())):(rd(this.j,this.m,d,null),xv(this,d)),4==W&&Il(this),this.i&&!this.I&&(4==W?Re(this.l,this):(this.i=!1,sd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Il(this),wl(this)}}}catch{}},It.hb=function(){if(this.g){var n=Tl(this.g),e=this.g.fa();this.C<e.length&&(Ou(this),Sv(this,n,e),this.i&&4!=n&&sd(this))}},It.cancel=function(){this.I=!0,Il(this)},It.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function wC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(id(),Ei(17)),Il(this),this.o=2,wl(this)):Av(this,this.V-n)};var CC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Mu){this.h=void 0!==e?e:n.h,fg(this,n.j),this.s=n.s,this.g=n.g,Ov(this,n.m),this.l=n.l,e=n.i;var t=new Ru;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SC(this,t),this.o=n.o}else n&&(t=String(n).match(CC))?(this.h=!!e,fg(this,t[1]||"",!0),this.s=hg(t[2]||""),this.g=hg(t[3]||"",!0),Ov(this,t[4]),this.l=hg(t[5]||"",!0),SC(this,t[6]||"",!0),this.o=hg(t[7]||"")):(this.h=!!e,this.i=new Ru(null,this.h))}function ya(n){return new Mu(n)}function fg(n,e,t){n.j=t?hg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ov(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SC(n,e,t){e instanceof Ru?(n.i=e,function Tx(n,e){e&&!n.j&&(js(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(KE(this,r),mg(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wf(e,Nu)),n.i=new Ru(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function Mv(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wf(e,GE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wf(e,GE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wf(t,"/"==t.charAt(0)?zE:AC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wf(t,WE)),n.join("")};var GE=/[#\/\?@]/g,AC=/[#\?:]/g,zE=/[#\?]/g,Nu=/[#\?@]/g,WE=/#/g;function Ru(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function js(n){n.g||(n.g=new Map,n.h=0,n.i&&function qE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KE(n,e){js(n),e=va(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function gg(n,e){return js(n),e=va(n,e),n.g.has(e)}function mg(n,e,t){KE(n,e),0<t.length&&(n.i=null,n.g.set(va(n,e),Bf(t)),n.h+=t.length)}function va(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xC(n){this.l=n||Cx,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Ru.prototype).add=function(n,e){js(this),this.i=null,n=va(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){js(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},It.oa=function(){js(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let l=0;l<o.length;l++)t.push(e[r])}return t},It.W=function(n){js(this);let e=[];if("string"==typeof n)gg(this,n)&&(e=e.concat(this.g.get(va(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return js(this),this.i=null,gg(this,n=va(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=l;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var Cx=10;function Nv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZE(n){return n.h?1:n.g?n.g.size:0}function Rv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Pv(n,e){n.g?n.g.add(e):n.h=e}function YE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Bf(n.i)}function yg(){}function QE(){this.g=new yg}function OC(n,e,t){const r=t||"";try{DC(n,function(o,l){let d=o;zp(o)&&(d=PE(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Kf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Pu(n){this.l=n.ac||null,this.j=n.jb||!1}function Lv(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xC.prototype.cancel=function(){if(this.i=kv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yg.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},yg.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Zr(Pu,Gf),Pu.prototype.g=function(){return new Lv(this.l,this.j)},Pu.prototype.i=function(n){return function(){return n}}({}),Zr(Lv,Yr);var vg=0;function _g(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Zf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yf(n)}function Yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Lv.prototype).open=function(n,e){if(this.readyState!=vg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yf(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=vg},It.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yf(this)),this.g&&(this.readyState=3,Yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_g(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zf(this):Yf(this),3==this.readyState&&_g(this)}},It.Va=function(n){this.g&&(this.response=this.responseText=n,Zf(this))},It.Ua=function(n){this.g&&(this.response=n,Zf(this))},It.ga=function(){this.g&&Zf(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Sx=jt.JSON.parse;function fr(n){Yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JE,this.K=this.L=!1}Zr(fr,Yr);var JE="",NC=/^https?$/i,RC=["POST","PUT"];function PC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kC(n),Fv(n)}function kC(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function LC(n){if(n.h&&typeof di<"u"&&(!n.C[1]||4!=Tl(n)||2!=n.aa()))if(n.v&&4==Tl(n))sg(n.Ha,0,n);else if(Qr(n,"readystatechange"),4==Tl(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(CC)[1]||null;if(!o&&jt.self&&jt.self.location){var l=jt.self.location.protocol;o=l.substr(0,l.length-1)}r=!NC.test(o?o.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var d=2<Tl(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",kC(n)}}finally{Fv(n)}}}function Fv(n,e){if(n.g){XE(n);const t=n.g,r=n.C[0]?qp:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch{}}}function XE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Tl(n){return n.g?n.g.readyState:0}function FC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function VC(n){let e="";return cv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ew(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=VC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function bg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UC(n){this.Ca=0,this.i=[],this.j=new Ni,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bg("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bg("baseRetryDelayMs",5e3,n),this.bb=bg("retryDelaySeedMs",1e4,n),this.$a=bg("forwardChannelMaxRetries",2,n),this.ta=bg("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new xC(n&&n.concurrentRequestLimit),this.Fa=new QE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function i(n){if(a(n),3==n.G){var e=n.U++,t=ya(n.F);Wn(t,"SID",n.I),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),y(n,t),(e=new od(n,n.j,e,void 0)).K=2,e.v=Mv(ya(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ft(e.l,null),e.g.da(e.v)),e.F=Date.now(),sd(e)}st(n)}function s(n){n.g&&(ie(n),n.g.cancel(),n.g=null)}function a(n){s(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Te(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function u(n){Nv(n.h)||n.m||(n.m=!0,yC(n.Ja,n),n.C=0)}function h(n,e){var t;t=e?e.m:n.U++;const r=ya(n.F);Wn(r,"SID",n.I),Wn(r,"RID",t),Wn(r,"AID",n.T),y(n,r),n.o&&n.s&&ew(r,n.o,n.s),t=new od(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=T(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Pv(n.h,t),HE(t,r,e)}function y(n,e){n.ia&&cv(n.ia,function(t,r){Wn(e,r,t)}),n.l&&DC({},function(t,r){Wn(e,r,t)})}function T(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Kr(n.l.Ra,n.l,n):null;e:{var o=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let _=0;_<t;_++){let P=o[_].h;const W=o[_].g;if(P-=l,0>P)l=Math.max(0,o[_].h-100),g=!1;else try{OC(W,d,"req"+P+"_")}catch{r&&r(W)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function O(n){n.g||n.u||(n.Z=1,yC(n.Ia,n),n.A=0)}function $(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=xu(Kr(n.Ia,n),He(n,n.A)),n.A++,0))}function ie(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function pe(n){n.g=new od(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ya(n.sa);Wn(e,"RID","rpc"),Wn(e,"SID",n.I),Wn(e,"CI",n.L?"0":"1"),Wn(e,"AID",n.T),Wn(e,"TYPE","xmlhttp"),y(n,e),n.o&&n.s&&ew(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Mv(ya(e)),t.s=null,t.P=!0,dg(t,n)}function Te(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Re(n,e){var t=null;if(n.g==e){Te(n),ie(n),n.g=null;var r=2}else{if(!Rv(n.h,e))return;t=e.D,YE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Qr(r=lg(),new UE(r,t)),u(n)}else O(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function f(n,e){return!(ZE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=xu(Kr(n.Ja,n,e),He(n,n.C)),n.C++,0)))}(n,e)||2==r&&$(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Je(n,5);break;case 4:Je(n,10);break;case 3:Je(n,6);break;default:Je(n,2)}}function He(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Je(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Kr(n.kb,n);t||(t=new Mu("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||fg(t,"https"),Mv(t)),function MC(n,e){const t=new Ni;if(jt.Image){const r=new Image;r.onload=Kp(Kf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Kp(Kf,t,r,"TestLoadImage: error",!1,e),r.onabort=Kp(Kf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kp(Kf,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ei(2);n.G=0,n.l&&n.l.va(e),st(n),a(n)}function st(n){if(n.G=0,n.la=[],n.l){const e=kv(n.h);(0!=e.length||0!=n.i.length)&&(sv(n.la,e),sv(n.la,n.i),n.h.i.length=0,Bf(n.i),n.i.length=0),n.l.ua()}}function vt(n,e,t){var r=t instanceof Mu?ya(t):new Mu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ov(r,r.m);else{var o=jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new Mu(null,void 0);r&&fg(l,r),e&&(l.g=e),o&&Ov(l,o),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Wn(r,t,e),Wn(r,"VER",n.ma),y(n,r),r}function Ft(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fr(t&&n.Da&&!n.ra?new Pu({jb:!0}):n.ra)).Ka(n.H),e}function Ke(){}function qt(){if(bl&&!(10<=Number(TE)))throw Error("Environmental error: no available transport.")}function fn(n,e){Yr.call(this),this.g=new UC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ed(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ed(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eg(this)}function nr(n){wv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BC(){Iv.call(this),this.status=1}function Eg(n){this.g=n}(It=fr.prototype).Ka=function(n){this.L=n},It.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tv.g(),this.C=function Bs(n){return n.h||(n.h=n.i())}(this.u?this.u:Tv),this.g.onreadystatechange=Kr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void PC(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),o=jt.FormData&&n instanceof jt.FormData,!(0<=vE(RC,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XE(this),0<this.B&&((this.K=function Ax(n){return bl&&function wE(){return function oC(n){var e=EE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=iC(String(Jp)).split("."),t=iC("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",l=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Yp(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Yp(0==o[2].length,0==l[2].length)||Yp(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.qa,this)):this.A=sg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){PC(this,l)}},It.qa=function(){typeof di<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),Fv(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fv(this,!0)),fr.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?LC(this):this.fb())},It.fb=function(){LC(this)},It.aa=function(){try{return 2<Tl(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Sx(e)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=UC.prototype).ma=8,It.G=1,It.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new od(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=uC(l),cC(l,this.S)):l=this.S),null!==this.o||this.N||(o.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=T(this,o,e),Wn(t=ya(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),y(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(VC(l)))+"&"+e:this.o&&ew(t,this.o,l)),Pv(this.h,o),this.Ya&&Wn(t,"TYPE","init"),this.O?(Wn(t,"$req",e),Wn(t,"SID","null"),o.Z=!0,HE(o,t,null)):HE(o,t,e),this.G=2}}else 3==this.G&&(n?h(this,n):0==this.i.length||Nv(this.h)||h(this))},It.Ia=function(){if(this.u=null,pe(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=xu(Kr(this.eb,this),n)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ei(10),s(this),pe(this))},It.cb=function(){null!=this.v&&(this.v=null,s(this),$(this),Ei(19))},It.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(It=Ke.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},qt.prototype.g=function(n,e){return new fn(n,e)},Zr(fn,Yr),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ei(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=vt(n,null,n.V),u(n)},fn.prototype.close=function(){i(this.g)},fn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=PE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&u(e)},fn.prototype.M=function(){this.g.l=null,delete this.j,i(this.g),delete this.g,fn.X.M.call(this)},Zr(nr,wv),Zr(BC,Iv),Zr(Eg,Ke),Eg.prototype.xa=function(){Qr(this.g,"a")},Eg.prototype.wa=function(n){Qr(this.g,new nr(n))},Eg.prototype.va=function(n){Qr(this.g,new BC)},Eg.prototype.ua=function(){Qr(this.g,"b")},qt.prototype.createWebChannel=qt.prototype.g,fn.prototype.send=fn.prototype.u,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Ev.COMPLETE="complete",BE.EventType=ug,ug.OPEN="a",ug.CLOSE="b",ug.ERROR="c",ug.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.Oa,fr.prototype.getLastErrorCode=fr.prototype.Ea,fr.prototype.getStatus=fr.prototype.aa,fr.prototype.getResponseJson=fr.prototype.Sa,fr.prototype.getResponseText=fr.prototype.fa,fr.prototype.send=fr.prototype.da,fr.prototype.setWithCredentials=fr.prototype.Ka;var fR=Us.createWebChannelTransport=function(){return new qt},hR=Us.getStatEventTarget=function(){return lg()},jC=Us.ErrorCode=ns,pR=Us.EventType=Ev,gR=Us.Event=El,xx=Us.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mR=Us.FetchXmlHttpFactory=Pu,tw=Us.WebChannel=BE,yR=Us.XhrIo=fr;const Ox="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let wg="9.17.1";const ad=new hu.Yd("@firebase/firestore");function HC(){return ad.logLevel}function tt(n,...e){if(ad.logLevel<=hu.in.DEBUG){const t=e.map($C);ad.debug(`Firestore (${wg}): ${n}`,...t)}}function Nr(n,...e){if(ad.logLevel<=hu.in.ERROR){const t=e.map($C);ad.error(`Firestore (${wg}): ${n}`,...t)}}function Ig(n,...e){if(ad.logLevel<=hu.in.WARN){const t=e.map($C);ad.warn(`Firestore (${wg}): ${n}`,...t)}}function $C(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${wg}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function Ct(n,e){n||bt()}function ut(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends _r.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=P=>this.i!==o?(o=this.i,t(P)):Promise.resolve();let d=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new hi,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const P=d;e.enqueueRetryable((0,gt.Z)(function*(){yield P.promise,yield l(r.currentUser)}))},_=P=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(P=>_(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?_(P):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new hi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Mx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new wi(e)}}class ER{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wR{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new ER(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,tt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?o(l):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new Nx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Rx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=TR(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function Tg(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new qn(0,0))}static max(){return new Nt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vv{constructor(e,t,r){void 0===t?t=0:t>e.length&&bt(),void 0===r?r=e.length-t:r>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Vv{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new En(t)}static emptyPath(){return new En([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends Vv{construct(e,t,r){return new Rr(e,t,r)}static isValidIdentifier(e){return DR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ye(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Ye(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ye(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(l(),o++)}if(l(),d)throw new Ye(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(En.fromString(e))}static fromName(e){return new at(En.fromString(e).popFirst(5))}static empty(){return new at(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new En(e.slice()))}}function Lx(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rs(Nt.min(),at.empty(),-1)}static max(){return new rs(Nt.max(),at.empty(),-1)}}function GC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ld(n){return zC.apply(this,arguments)}function zC(){return zC=(0,gt.Z)(function*(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==Fx)throw n;tt("LocalStore","Unexpectedly lost primary lease")}),zC.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,r)=>{t(e)})}static reject(e){return new Fe((t,r)=>{r(e)})}static waitFor(e){return new Fe((t,r)=>{let o=0,l=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++l,d&&l===o&&t()},_=>r(_))}),d=!0,l===o&&t()})}static or(e){let t=Fe.resolve(!1);for(const r of e)t=t.next(o=>o?Fe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new Fe((r,o)=>{const l=e.length,d=new Array(l);let g=0;for(let _=0;_<l;_++){const P=_;t(e[P]).next(W=>{d[P]=W,++g,g===l&&r(d)},W=>o(W))}})}static doWhile(e,t){return new Fe((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}function ud(n){return"IndexedDbTransactionError"===n.name}let is=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class RR{constructor(e,t,r,o,l,d,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class Xf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}function Ux(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jv(n){return null==n}function Hv(n){return 0===n&&1/n==-1/0}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cd(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=PR.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function th(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}function KC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hx(n){const e=n.mapValue.fields.__previous_value__;return KC(e)?Hx(e):e}function $v(n){const e=cd(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}const dd_mapValue={fields:{__type__:{stringValue:"__max__"}}};function nh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?KC(n)?4:zx(n)?9007199254740991:10:bt()}function Dl(n,e){if(n===e)return!0;const t=nh(n);if(t!==nh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $v(n).isEqual($v(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=cd(r.timestampValue),d=cd(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,th(n.bytesValue).isEqual(th(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return br(r.geoPointValue.latitude)===br(o.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return br(r.integerValue)===br(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=br(r.doubleValue),d=br(o.doubleValue);return l===d?Hv(l)===Hv(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Tg(n.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Ux(l)!==Ux(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!Dl(l[g],d[g])))return!1;return!0}(n,e);default:return bt()}var o}function qv(n,e){return void 0!==(n.values||[]).find(t=>Dl(t,e))}function fd(n,e){if(n===e)return 0;const t=nh(n),r=nh(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=br(o.integerValue||o.doubleValue),g=br(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return $x(n.timestampValue,e.timestampValue);case 4:return $x($v(n),$v(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(o,l){const d=th(o),g=th(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),g=l.split("/");for(let _=0;_<d.length&&_<g.length;_++){const P=Qt(d[_],g[_]);if(0!==P)return P}return Qt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=Qt(br(o.latitude),br(l.latitude));return 0!==d?d:Qt(br(o.longitude),br(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],g=l.values||[];for(let _=0;_<d.length&&_<g.length;++_){const P=fd(d[_],g[_]);if(P)return P}return Qt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===dd_mapValue&&l===dd_mapValue)return 0;if(o===dd_mapValue)return 1;if(l===dd_mapValue)return-1;const d=o.fields||{},g=Object.keys(d),_=l.fields||{},P=Object.keys(_);g.sort(),P.sort();for(let W=0;W<g.length&&W<P.length;++W){const le=Qt(g[W],P[W]);if(0!==le)return le;const be=fd(d[g[W]],_[P[W]]);if(0!==be)return be}return Qt(g.length,P.length)}(n.mapValue,e.mapValue);default:throw bt()}}function $x(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=cd(n),r=cd(e),o=Qt(t.seconds,r.seconds);return 0!==o?o:Qt(t.nanos,r.nanos)}function Dg(n){return ZC(n)}function ZC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=cd(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?th(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=ZC(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of o)d?d=!1:l+=",",l+=`${g}:${ZC(r.fields[g])}`;return l+"}"}(n.mapValue):bt();var e}function rh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YC(n){return!!n&&"integerValue"in n}function Gv(n){return!!n&&"arrayValue"in n}function qx(n){return!!n&&"nullValue"in n}function Gx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sw(n){return!!n&&"mapValue"in n}function zv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class hd{constructor(e,t){this.position=e,this.inclusive=t}}function Zx(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?at.comparator(at.fromName(d.referenceValue),t.key):fd(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Yx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dl(n.position[t],e.position[t]))return!1;return!0}class Qx{}class mn extends Qx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FR(e,t,r):"array-contains"===t?new BR(e,r):"in"===t?new rO(e,r):"not-in"===t?new jR(e,r):"array-contains-any"===t?new HR(e,r):new mn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new VR(e,r):new UR(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fd(t,this.value)):null!==t&&nh(this.value)===nh(t)&&this.matchesComparison(fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends Qx{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Rn(e,t)}matches(e){return Cg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Cg(n){return"and"===n.op}function JC(n){return function Jx(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}(n)&&Cg(n)}function XC(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+Dg(n.value);if(JC(n))return n.filters.map(e=>XC(e)).join(",");{const e=n.filters.map(t=>XC(t)).join(",");return`${n.op}(${e})`}}function Xx(n,e){return n instanceof mn?(t=n,(r=e)instanceof mn&&t.op===r.op&&t.field.isEqual(r.field)&&Dl(t.value,r.value)):n instanceof Rn?function(t,r){return r instanceof Rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,l,d)=>o&&Xx(l,r.filters[d]),!0)}(n,e):void bt();var t,r}function tO(n){return n instanceof mn?`${(e=n).field.canonicalString()} ${e.op} ${Dg(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(tO).join(" ,")+"}"}(n):"Filter";var e}class FR extends mn{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class VR extends mn{constructor(e,t){super(e,"in",t),this.keys=nO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UR extends mn{constructor(e,t){super(e,"not-in",t),this.keys=nO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class BR extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gv(t)&&qv(t.arrayValue,this.value)}}class rO extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qv(this.value.arrayValue,t)}}class jR extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qv(this.value.arrayValue,t)}}class HR extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qv(this.value.arrayValue,r))}}class Sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function $R(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Er{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aw(this.root,e,this.comparator,!1)}getReverseIterator(){return new aw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aw(this.root,e,this.comparator,!0)}}class aw{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Ri.RED,this.left=o??Ri.EMPTY,this.right=l??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Ri(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ri.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iO(this.data.getIterator())}getIteratorFrom(e){return new iO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class iO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Co{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new Co([])}unionWith(e){let t=new kn(Rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zv(t)}setAll(e){let t=Rr.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=zv(d):o.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());sw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];sw(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){eh(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Pi(zv(this.value))}}function oO(n){const e=[];return eh(n.fields,(t,r)=>{const o=new Rr([t]);if(sw(r)){const l=oO(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Co(e)}class Kn{constructor(e,t,r,o,l,d,g){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Kn(e,0,Nt.min(),Nt.min(),Nt.min(),Pi.empty(),0)}static newFoundDocument(e,t,r,o){return new Kn(e,1,t,Nt.min(),r,o,0)}static newNoDocument(e,t){return new Kn(e,2,t,Nt.min(),Nt.min(),Pi.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Nt.min(),Nt.min(),Pi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qR{constructor(e,t=null,r=[],o=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=g,this.ft=null}}function eS(n,e=null,t=[],r=[],o=null,l=null,d=null){return new qR(n,e,t,r,o,l,d)}function ih(n){const e=ut(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>XC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dg(r)).join(",")),e.ft=t}return e.ft}function Wv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$R(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yx(n.startAt,e.startAt)&&Yx(n.endAt,e.endAt)}function lw(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ku{constructor(e,t=null,r=[],o=[],l=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=_,this.dt=null,this._t=null}}function xg(n){return new ku(n)}function uO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function nS(n){return null!==n.collectionGroup}function oh(n){const e=ut(n);if(null===e.dt){e.dt=[];const t=cw(e),r=tS(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Sg(t)),e.dt.push(new Sg(Rr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Sg(Rr.keyField(),l))}}}return e.dt}function uo(n){const e=ut(n);if(!e._t)if("F"===e.limitType)e._t=eS(e.path,e.collectionGroup,oh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of oh(e))t.push(new Sg(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new hd(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new hd(e.startAt.position,e.startAt.inclusive):null;e._t=eS(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function rS(n,e){e.getFirstInequalityField(),cw(n);const t=n.filters.concat([e]);return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dw(n,e,t){return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kv(n,e){return Wv(uo(n),uo(e))&&n.limitType===e.limitType}function cO(n){return`${ih(uo(n))}|lt:${n.limitType}`}function iS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>tO(r)).join(", ")}]`),jv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dg(r)).join(",")),`Target(${t})`}(uo(n))}; limitType=${n.limitType})`}function Zv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):at.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of oh(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const g=Zx(o,l,d);return o.inclusive?g<=0:g<0}(t.startAt,oh(t),r)||t.endAt&&!function(o,l,d){const g=Zx(o,l,d);return o.inclusive?g>=0:g>0}(t.endAt,oh(t),r)));var t,r}function fO(n){return(e,t)=>{let r=!1;for(const o of oh(n)){const l=GR(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function GR(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(o,l,d){const g=l.data.field(o),_=d.data.field(o);return null!==g&&null!==_?fd(g,_):bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}function hO(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hv(e)?"-0":e}}function pO(n){return{integerValue:""+n}}function gO(n,e){return function jx(n){return"number"==typeof n&&Number.isInteger(n)&&!Hv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?pO(e):hO(n,e)}class fw{constructor(){this._=void 0}}function zR(n,e,t){return n instanceof Og?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof sh?yO(n,e):n instanceof ah?vO(n,e):function(r,o){const l=mO(r,o),d=_O(l)+_O(r.gt);return YC(l)&&YC(r.gt)?pO(d):hO(r.yt,d)}(n,e)}function WR(n,e,t){return n instanceof sh?yO(n,e):n instanceof ah?vO(n,e):t}function mO(n,e){return n instanceof Mg?YC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Og extends fw{}class sh extends fw{constructor(e){super(),this.elements=e}}function yO(n,e){const t=bO(e);for(const r of n.elements)t.some(o=>Dl(o,r))||t.push(r);return{arrayValue:{values:t}}}class ah extends fw{constructor(e){super(),this.elements=e}}function vO(n,e){let t=bO(e);for(const r of n.elements)t=t.filter(o=>!Dl(o,r));return{arrayValue:{values:t}}}class Mg extends fw{constructor(e,t){super(),this.yt=e,this.gt=t}}function _O(n){return br(n.integerValue||n.doubleValue)}function bO(n){return Gv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ZR{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pw{}function EO(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rg(n.key,rr.none()):new Ng(n.key,n.data,rr.none());{const t=n.data,r=Pi.empty();let o=new kn(Rr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),o=o.add(l)}return new Lu(n.key,r,new Co(o.toArray()),rr.none())}}function YR(n,e,t){n instanceof Ng?function(r,o,l){const d=r.value.clone(),g=TO(r.fieldTransforms,o,l.transformResults);d.setAll(g),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Lu?function(r,o,l){if(!hw(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=TO(r.fieldTransforms,o,l.transformResults),g=o.data;g.setAll(IO(r)),g.setAll(d),o.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qv(n,e,t,r){return n instanceof Ng?function(o,l,d,g){if(!hw(o.precondition,l))return d;const _=o.value.clone(),P=DO(o.fieldTransforms,g,l);return _.setAll(P),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lu?function(o,l,d,g){if(!hw(o.precondition,l))return d;const _=DO(o.fieldTransforms,g,l),P=l.data;return P.setAll(IO(o)),P.setAll(_),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(W=>W.field))}(n,e,t,r):(d=t,hw(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function QR(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=mO(r.transform,o||null);null!=l&&(null===t&&(t=Pi.empty()),t.set(r.field,l))}return t||null}function wO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Tg(t,r,(o,l)=>function KR(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sh&&r instanceof sh||t instanceof ah&&r instanceof ah?Tg(t.elements,r.elements,Dl):t instanceof Mg&&r instanceof Mg?Dl(t.gt,r.gt):t instanceof Og&&r instanceof Og);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ng extends pw{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lu extends pw{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TO(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,g=e.data.field(l.field);r.set(l.field,WR(d,g,t[o]))}return r}function DO(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,zR(l,d,e))}return r}class Rg extends pw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oS extends pw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JR{constructor(e){this.count=e}}var Jr,wn;function CO(n){switch(n){default:return bt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function SO(n){if(void 0===n)return Nr("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Jr.OK:return Ue.OK;case Jr.CANCELLED:return Ue.CANCELLED;case Jr.UNKNOWN:return Ue.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Ue.INTERNAL;case Jr.UNAVAILABLE:return Ue.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Ue.NOT_FOUND;case Jr.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Jr.ABORTED:return Ue.ABORTED;case Jr.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Jr.DATA_LOSS:return Ue.DATA_LOSS;default:return bt()}}(wn=Jr||(Jr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){eh(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Bx(this.inner)}size(){return this.innerSize}}const XR=new Er(at.comparator);function So(){return XR}const AO=new Er(at.comparator);function Jv(...n){let e=AO;for(const t of n)e=e.insert(t.key,t);return e}function xO(n){let e=AO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Cl(){return Xv()}function OO(){return Xv()}function Xv(){return new pd(n=>n.toString(),(n,e)=>n.isEqual(e))}const eP=new Er(at.comparator),tP=new kn(at.comparator);function tn(...n){let e=tP;for(const t of n)e=e.add(t);return e}const nP=new kn(Qt);function gw(){return nP}class e_{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,t_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new e_(Nt.min(),o,gw(),So(),tn())}}class t_{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new t_(r,t,tn(),tn(),tn())}}class mw{constructor(e,t,r,o){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=o}}class MO{constructor(e,t){this.targetId=e,this.Et=t}}class NO{constructor(e,t,r=pi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class RO{constructor(){this.At=0,this.Rt=kO(),this.bt=pi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=tn(),t=tn(),r=tn();return this.Rt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:bt()}}),new t_(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=kO()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class rP{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=So(),this.qt=PO(),this.Ut=new kn(Qt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,o)=>{this.zt(o)&&t(o)})}Jt(e){const t=e.targetId,r=e.Et.count,o=this.Yt(t);if(o){const l=o.target;if(lw(l))if(0===r){const d=new at(l.path);this.Qt(t,d,Kn.newNoDocument(d,Nt.min()))}else Ct(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,d)=>{const g=this.Yt(d);if(g){if(l.current&&lw(g.target)){const _=new at(g.target.path);null!==this.Lt.get(_)||this.te(d,_)||this.Qt(d,_,Kn.newNoDocument(_,e))}l.St&&(t.set(d,l.Ct()),l.xt())}});let r=tn();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(_=>{const P=this.Yt(_);return!P||2===P.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Lt.forEach((l,d)=>d.setReadTime(e));const o=new e_(e,t,this.Ut,this.Lt,r);return this.Lt=So(),this.qt=PO(),this.Ut=new kn(Qt),o}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const o=this.Wt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new RO,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new kn(Qt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new RO),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function PO(){return new Er(at.comparator)}function kO(){return new Er(at.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},oP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sP={and:"AND",or:"OR"};class aP{constructor(e,t){this.databaseId=e,this.wt=t}}function Pg(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LO(n,e){return n.wt?e.toBase64():e.toUint8Array()}function lP(n,e){return Pg(n,e.toTimestamp())}function Pr(n){return Ct(!!n),Nt.fromTimestamp(function(e){const t=cd(e);return new qn(t.seconds,t.nanos)}(n))}function sS(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function FO(n){const e=En.fromString(n);return Ct(zO(e)),e}function n_(n,e){return sS(n.databaseId,e.path)}function Sl(n,e){const t=FO(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(UO(t))}function aS(n,e){return sS(n.databaseId,e)}function r_(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UO(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function BO(n,e,t){return{name:n_(n,e),fields:t.value.mapValue.fields}}function HO(n,e){return{documents:[aS(n,e.path)]}}function uS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=aS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=aS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return GO(Rn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(_){if(0!==_.length)return _.map(P=>{return{field:kg((W=P).field),direction:hP(W.dir)};var W})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(P=e.limit,n.wt||jv(P)?P:{value:P});var P,g,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function $O(n){let e=function VO(n){const e=FO(n);return 4===e.length?En.emptyPath():UO(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const W=t.from[0];W.allDescendants?o=W.collectionId:e=e.child(W.collectionId)}let l=[];t.where&&(l=function(W){const le=qO(W);return le instanceof Rn&&JC(le)?le.getFilters():[le]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(W=>{return new Sg(Lg((le=W).field),function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(le.direction));var le}));let g=null;t.limit&&(g=function(W){let le;return le="object"==typeof W?W.value:W,jv(le)?null:le}(t.limit));let _=null;var W;t.startAt&&(_=new hd((W=t.startAt).values||[],!!W.before));let P=null;return t.endAt&&(P=function(W){return new hd(W.values||[],!W.before)}(t.endAt)),function lO(n,e,t,r,o,l,d,g){return new ku(n,e,t,r,o,l,d,g)}(e,o,d,l,g,"F",_,P)}function qO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lg(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Lg(e.unaryFilter.field);return mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lg(e.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lg(e.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(n):void 0!==n.fieldFilter?mn.create(Lg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(t=>qO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return bt()}}(e.compositeFilter.op))}(n):bt();var e}function hP(n){return iP[n]}function pP(n){return oP[n]}function gP(n){return sP[n]}function kg(n){return{fieldPath:n.canonicalString()}}function Lg(n){return Rr.fromServerFormat(n.fieldPath)}function GO(n){return n instanceof mn?function(e){if("=="===e.op){if(Gx(e.value))return{unaryFilter:{field:kg(e.field),op:"IS_NAN"}};if(qx(e.value))return{unaryFilter:{field:kg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gx(e.value))return{unaryFilter:{field:kg(e.field),op:"IS_NOT_NAN"}};if(qx(e.value))return{unaryFilter:{field:kg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kg(e.field),op:pP(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const t=e.getFilters().map(r=>GO(r));return 1===t.length?t[0]:{compositeFilter:{op:gP(e.op),filters:t}}}(n):bt()}function mP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class dS{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&YR(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=OO();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(o.key)?null:g;const _=EO(d,g);null!==_&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&Tg(this.mutations,e.mutations,(t,r)=>wO(t,r))&&Tg(this.baseMutations,e.baseMutations,(t,r)=>wO(t,r))}}class fS{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=eP;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new fS(e,t,r,o)}}class hS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gd{constructor(e,t,r,o,l=Nt.min(),d=Nt.min(),g=pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class XO{constructor(e){this.ie=e}}function pS(n){const e=$O({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dw(e,e.limit,"L"):e}class dh{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Hv(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(th(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?zx(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):bt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const o of Object.keys(r))this.de(o,t),this.ce(r[o],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const o of r)this.ce(o,t)}me(e,t){this.he(t,37),at.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}dh.Ie=new dh;class $P{constructor(){this.Je=new bS}addToCollectionParentIndex(e,t){return this.Je.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return Fe.resolve(rs.min())}updateCollectionGroup(e,t,r){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class bS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new kn(En.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kn(En.comparator)).toArray()}}new Uint8Array(0);class Ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class hh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hh(0)}static vn(){return new hh(-1)}}class YP{constructor(){this.changes=new pd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Qv(r.mutation,o,Co.empty(),qn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tn()){const o=Cl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=Jv();return l.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Cl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tn()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,o){let l=So();const d=Xv(),g=Xv();return t.forEach((_,P)=>{const W=r.get(P.key);o.has(P.key)&&(void 0===W||W.mutation instanceof Lu)?l=l.insert(P.key,P):void 0!==W?(d.set(P.key,W.mutation.getFieldMask()),Qv(W.mutation,P,W.mutation.getFieldMask(),qn.now())):d.set(P.key,Co.empty())}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((P,W)=>d.set(P,W)),t.forEach((P,W)=>{var le;return g.set(P,new XP(W,null!==(le=d.get(P))&&void 0!==le?le:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Xv();let o=new Er((d,g)=>d-g),l=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(_=>{const P=t.get(_);if(null===P)return;let W=r.get(_)||Co.empty();W=g.applyToLocalView(P,W),r.set(_,W);const le=(o.get(g.batchId)||tn()).add(_);o=o.insert(g.batchId,le)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),P=_.key,W=_.value,le=OO();W.forEach(be=>{if(!l.has(be)){const xe=EO(t.get(be),r.get(be));null!==xe&&le.set(be,xe),l=l.add(be)}}),d.push(this.documentOverlayCache.saveOverlays(e,P,le))}return Fe.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):nS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):Fe.resolve(Cl());let g=-1,_=l;return d.next(P=>Fe.forEach(P,(W,le)=>(g<le.largestBatchId&&(g=le.largestBatchId),l.get(W)?Fe.resolve():this.remoteDocumentCache.getEntry(e,W).next(be=>{_=_.insert(W,be)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,_,P,tn())).next(W=>({batchId:g,changes:xO(W)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let o=Jv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=Jv();return this.indexManager.getCollectionParents(e,o).next(d=>Fe.forEach(d,g=>{const _=(P=t,W=g.child(o),new ku(W,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,W;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(P=>{P.forEach((W,le)=>{l=l.insert(W,le)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(l=>{o.forEach((g,_)=>{const P=_.getKey();null===l.get(P)&&(l=l.insert(P,Kn.newInvalidDocument(P)))});let d=Jv();return l.forEach((g,_)=>{const P=o.get(g);void 0!==P&&Qv(P.mutation,_,Co.empty(),qn.now()),Zv(t,_)&&(d=d.insert(g,_))}),d})}}class ek{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Fe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Pr(r.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:pS(r.bundledQuery),readTime:Pr(r.readTime)}),Fe.resolve();var r}}class tk{constructor(){this.overlays=new Er(at.comparator),this.es=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cl();return Fe.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.oe(e,t,l)}),Fe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),Fe.resolve()}getOverlaysForCollection(e,t,r){const o=Cl(),l=t.length+1,d=new at(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,P=_.getKey();if(!t.isPrefixOf(P.path))break;P.path.length===l&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Fe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Er((P,W)=>P-W);const d=this.overlays.getIterator();for(;d.hasNext();){const P=d.getNext().value;if(P.getKey().getCollectionGroup()===t&&P.largestBatchId>r){let W=l.get(P.largestBatchId);null===W&&(W=Cl(),l=l.insert(P.largestBatchId,W)),W.set(P.getKey(),P)}}const g=Cl(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((P,W)=>g.set(P,W)),!(g.size()>=o)););return Fe.resolve(g)}oe(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new hS(t,r));let l=this.es.get(t);void 0===l&&(l=tn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class ES{constructor(){this.ns=new kn(Ti.ss),this.rs=new kn(Ti.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ti(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new at(new En([])),r=new Ti(t,e),o=new Ti(t,e+1),l=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new at(new En([])),r=new Ti(t,e),o=new Ti(t,e+1);let l=tn();return this.rs.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ti(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return at.comparator(e.key,t.key)||Qt(e._s,t._s)}static os(e,t){return Qt(e._s,t._s)||at.comparator(e.key,t.key)}}class nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kn(Ti.ss)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.ws;this.ws++;const d=new dS(l,t,r,o);this.mutationQueue.push(d);for(const g of o)this.gs=this.gs.add(new Ti(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Fe.resolve(d)}lookupMutationBatch(e,t){return Fe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),l=o<0?0:o;return Fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),o=new Ti(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,o],d=>{const g=this.ys(d._s);l.push(g)}),Fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Qt);return t.forEach(o=>{const l=new Ti(o,0),d=new Ti(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),Fe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;at.isDocumentKey(l)||(l=l.child(""));const d=new Ti(new at(l),0);let g=new kn(Qt);return this.gs.forEachWhile(_=>{const P=_.key.path;return!!r.isPrefixOf(P)&&(P.length===o&&(g=g.add(_._s)),!0)},d),Fe.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Fe.forEach(t.mutations,o=>{const l=new Ti(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ti(t,0),o=this.gs.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Fe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rk{constructor(e){this.Es=e,this.docs=new Er(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Fe.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=So();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Kn.newInvalidDocument(o))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=So();const d=t.path,g=new at(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:P,value:{document:W}}=_.getNext();if(!d.isPrefixOf(P.path))break;P.path.length>d.length+1||GC(Lx(W),r)<=0||(o.has(W.key)||Zv(t,W))&&(l=l.insert(W.key,W.mutableCopy()))}return Fe.resolve(l)}getAllFromCollectionGroup(e,t,r,o){bt()}As(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ik(this)}getSize(e){return Fe.resolve(this.size)}}class ik extends YP{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ok{constructor(e){this.persistence=e,this.Rs=new pd(t=>ih(t),Wv),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ES,this.targetCount=0,this.vs=hh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Fe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new hh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Dn(t),Fe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Fe.waitFor(l).next(()=>o)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.Ps.containsKey(t))}}class TM{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new is(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ok(this),this.indexManager=new $P,this.remoteDocumentCache=new rk(r=>this.referenceDelegate.xs(r)),this.yt=new XO(t),this.Ns=new ek(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new nk(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){tt("MemoryPersistence","Starting transaction:",e);const o=new sk(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(l=>this.referenceDelegate.Os(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ms(e,t){return Fe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class sk extends AR{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Fs=new ES,this.$s=null}static Bs(e){return new Cw(e)}get Ls(){if(this.$s)return this.$s;throw bt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ls,r=>{const o=at.fromPath(r);return this.qs(e,o).next(l=>{l||t.removeEntry(o,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Fe.or([()=>Fe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class DS{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=tn(),o=tn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new DS(e,t.fromCache,r,o)}}class CM{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(l=>l||this.Oi(e,t,o,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(uO(t))return Fe.resolve(null);let r=uo(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=dw(t,null,"F"),r=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=tn(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const P=this.Fi(t,g);return this.$i(t,P,d,_.readTime)?this.ki(e,dw(t,null,"F")):this.Bi(e,P,t,_)}))})))}Oi(e,t,r,o){return uO(t)||o.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,o)?this.Mi(e,t):(HC()<=hu.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),iS(t)),this.Bi(e,d,t,function kx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new rs(o,at.empty(),e)}(o,-1)))})}Fi(e,t){let r=new kn(fO(e));return t.forEach((o,l)=>{Zv(e,l)&&(r=r.add(l))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Mi(e,t){return HC()<=hu.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",iS(t)),this.Ni.getDocumentsMatchingQuery(e,t,rs.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class lk{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.yt=o,this.qi=new Er(Qt),this.Ui=new pd(l=>ih(l),Wv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function AM(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,gt.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let _=tn();for(const P of o){d.push(P.batchId);for(const W of P.mutations)_=_.add(W.key)}for(const P of l){g.push(P.batchId);for(const W of P.mutations)_=_.add(W.key)}return t.localDocuments.getDocuments(r,_).next(P=>({ji:P,removedBatchIds:d,addedBatchIds:g}))})})}),CS.apply(this,arguments)}function uk(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,_,P){const W=_.batch,le=W.keys();let be=Fe.resolve();return le.forEach(xe=>{be=be.next(()=>P.getEntry(g,xe)).next(Le=>{const Ze=_.docVersions.get(xe);Ct(null!==Ze),Le.version.compareTo(Ze)<0&&(W.applyToRemoteDocument(Le,_),Le.isValidDocument()&&(Le.setReadTime(_.commitVersion),P.addEntry(Le)))})}),be.next(()=>d.mutationQueue.removeMutationBatch(g,W))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=tn();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function xM(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ck(n,e){const t=ut(n),r=e.snapshotVersion;let o=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.qi;const g=[];e.targetChanges.forEach((W,le)=>{const be=o.get(le);if(!be)return;g.push(t.Cs.removeMatchingKeys(l,W.removedDocuments,le).next(()=>t.Cs.addMatchingKeys(l,W.addedDocuments,le)));let xe=be.withSequenceNumber(l.currentSequenceNumber);var Le,Ze,rt;e.targetMismatches.has(le)?xe=xe.withResumeToken(pi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):W.resumeToken.approximateByteSize()>0&&(xe=xe.withResumeToken(W.resumeToken,r)),o=o.insert(le,xe),Ze=xe,rt=W,(0===(Le=be).resumeToken.approximateByteSize()||Ze.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,xe))});let _=So(),P=tn();if(e.documentUpdates.forEach(W=>{e.resolvedLimboDocuments.has(W)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,W))}),g.push(function OM(n,e,t){let r=tn(),o=tn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=So();return t.forEach((g,_)=>{const P=l.get(g);_.isFoundDocument()!==P.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Nt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!P.isValidDocument()||_.version.compareTo(P.version)>0||0===_.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):tt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",P.version," Watch version:",_.version)}),{Wi:d,zi:o}})}(l,d,e.documentUpdates).next(W=>{_=W.Wi,P=W.zi})),!r.isEqual(Nt.min())){const W=t.Cs.getLastRemoteSnapshotVersion(l).next(le=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(W)}return Fe.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,P)).next(()=>_)}).then(l=>(t.qi=o,l))}function dk(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ug(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(l=>l?(o=l,Fe.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new gd(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qi.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Bg(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,gt.Z)(function*(n,e,t){const r=ut(n),o=r.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ud(d))throw d;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qi=r.qi.remove(e),r.Ui.delete(o.target)}),SS.apply(this,arguments)}function Aw(n,e,t){const r=ut(n);let o=Nt.min(),l=tn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,_,P){const W=ut(g),le=W.Ui.get(P);return void 0!==le?Fe.resolve(W.qi.get(le)):W.Cs.getTargetData(_,P)}(r,d,uo(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Nt.min(),t?l:tn())).next(g=>(function RM(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}(r,function dO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,Hi:l})))}class NS{constructor(){this.activeTargetIds=gw()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LM{constructor(){this.Lr=new NS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new NS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pk{Ur(e){}shutdown(){}}class FM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mk{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class yk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,l){const d=this.ho(e,t);tt("RestConnection","Sending: ",d,r);const g={};return this.lo(g,o,l),this.fo(e,d,g,r).then(_=>(tt("RestConnection","Received: ",_),_),_=>{throw Ig("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,o,l,d){return this.ao(e,t,r,o,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}ho(e,t){return`${this.oo}/v1/${t}:${gk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((l,d)=>{const g=new yR;g.setWithCredentials(!0),g.listenOnce(pR.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jC.NO_ERROR:const P=g.getResponseJson();tt("Connection","XHR received:",JSON.stringify(P)),l(P);break;case jC.TIMEOUT:tt("Connection",'RPC "'+e+'" timed out'),d(new Ye(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case jC.HTTP_ERROR:const W=g.getStatus();if(tt("Connection",'RPC "'+e+'" failed with status:',W,"response text:",g.getResponseText()),W>0){let le=g.getResponseJson();Array.isArray(le)&&(le=le[0]);const be=le?.error;if(be&&be.status&&be.message){const xe=function(Le){const Ze=Le.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Ze)>=0?Ze:Ue.UNKNOWN}(be.status);d(new Ye(xe,be.message))}else d(new Ye(Ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ye(Ue.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{tt("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(o);g.send(t,"POST",_,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=fR(),d=hR(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new mR({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=o.join("");tt("Connection","Creating WebChannel: "+_,g);const P=l.createWebChannel(_,g);let W=!1,le=!1;const be=new mk({Hr:Le=>{le?tt("Connection","Not sending because WebChannel is closed:",Le):(W||(tt("Connection","Opening WebChannel transport."),P.open(),W=!0),tt("Connection","WebChannel sending:",Le),P.send(Le))},Jr:()=>P.close()}),xe=(Le,Ze,rt)=>{Le.listen(Ze,Lt=>{try{rt(Lt)}catch(Xt){setTimeout(()=>{throw Xt},0)}})};return xe(P,tw.EventType.OPEN,()=>{le||tt("Connection","WebChannel transport opened.")}),xe(P,tw.EventType.CLOSE,()=>{le||(le=!0,tt("Connection","WebChannel transport closed"),be.io())}),xe(P,tw.EventType.ERROR,Le=>{le||(le=!0,Ig("Connection","WebChannel transport errored:",Le),be.io(new Ye(Ue.UNAVAILABLE,"The operation could not be completed")))}),xe(P,tw.EventType.MESSAGE,Le=>{var Ze;if(!le){const rt=Le.data[0];Ct(!!rt);const Xt=rt.error||(null===(Ze=rt[0])||void 0===Ze?void 0:Ze.error);if(Xt){tt("Connection","WebChannel received error:",Xt);const nn=Xt.status;let en=function(hn){const Li=Jr[hn];if(void 0!==Li)return SO(Li)}(nn),un=Xt.message;void 0===en&&(en=Ue.INTERNAL,un="Unknown error status: "+nn+" with message "+Xt.message),le=!0,be.io(new Ye(en,un)),P.close()}else tt("Connection","WebChannel received:",rt),be.ro(rt)}}),xe(d,gR.STAT_EVENT,Le=>{Le.stat===xx.PROXY?tt("Connection","Detected buffering proxy"):Le.stat===xx.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{be.so()},0),be}}function Mw(){return typeof document<"u"?document:null}function h_(n){return new aP(n,!0)}class PS{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class UM{constructor(e,t,r,o,l,d,g,_){this.Hs=e,this.vo=r,this.Vo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,gt.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,gt.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,gt.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new Ye(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,gt.Z)(function*(){e.state=0,e.start()}))}Qo(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vk extends UM{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function cP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:bt(),o=e.targetChange.targetIds||[],l=function(_,P){return _.wt?(Ct(void 0===P||"string"==typeof P),pi.fromBase64String(P||"")):(Ct(void 0===P||P instanceof Uint8Array),pi.fromUint8Array(P||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const P=void 0===_.code?Ue.UNKNOWN:SO(_.code);return new Ye(P,_.message||"")}(d);t=new NO(r,o,l,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Sl(n,r.document.name),l=Pr(r.document.updateTime),d=r.document.createTime?Pr(r.document.createTime):Nt.min(),g=new Pi({mapValue:{fields:r.document.fields}}),_=Kn.newFoundDocument(o,l,d,g);t=new mw(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Sl(n,r.document),l=r.readTime?Pr(r.readTime):Nt.min(),d=Kn.newNoDocument(o,l);t=new mw([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Sl(n,r.document);t=new mw([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return bt();{const r=e.filter,l=new JR(r.count||0);t=new MO(r.targetId,l)}}var _;return t}(this.yt,e),r=function(o){if(!("targetChange"in o))return Nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?Pr(l.readTime):Nt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=r_(this.yt),t.addTarget=function(o,l){let d;const g=l.target;return d=lw(g)?{documents:HO(o,g)}:{query:uS(o,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=LO(o,l.resumeToken):l.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=Pg(o,l.snapshotVersion.toTimestamp())),d}(this.yt,e);const r=function fP(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=r_(this.yt),t.removeTarget=e,this.Bo(t)}}class _k extends UM{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function dP(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let l=Pr(r.updateTime?r.updateTime:o);return l.isEqual(Nt.min())&&(l=Pr(o)),new ZR(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.Zo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=r_(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function i_(n,e){let t;if(e instanceof Ng)t={update:BO(n,e.key,e.value)};else if(e instanceof Rg)t={delete:n_(n,e.key)};else if(e instanceof Lu)t={update:BO(n,e.key,e.data),updateMask:mP(e.fieldMask)};else{if(!(e instanceof oS))return bt();t={verify:n_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof Og)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mg)return{fieldPath:l.field.canonicalString(),increment:d.gt};throw bt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:lP(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:bt()),t;var o}(this.yt,r))};this.Bo(t)}}class bk extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=o,this.nu=!1}su(){if(this.nu)throw new Ye(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ao(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Ue.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ye(Ue.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class wk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Nr(t),this.ou=!1):tt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ik{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(g=>{r.enqueueAndForget((0,gt.Z)(function*(){var _;Fu(d)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,gt.Z)(function*(P){const W=ut(P);W._u.add(4),yield jg(W),W.gu.set("Unknown"),W._u.delete(4),yield p_(W)}),function(P){return _.apply(this,arguments)})(d))}))}),this.gu=new wk(r,o)}}function p_(n){return LS.apply(this,arguments)}function LS(){return LS=(0,gt.Z)(function*(n){if(Fu(n))for(const e of n.wu)yield e(!0)}),LS.apply(this,arguments)}function jg(n){return FS.apply(this,arguments)}function FS(){return FS=(0,gt.Z)(function*(n){for(const e of n.wu)yield e(!1)}),FS.apply(this,arguments)}function Nw(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),BS(t)?US(t):$g(t).ko()&&VS(t,e))}function g_(n,e){const t=ut(n),r=$g(t);t.du.delete(e),r.ko()&&BM(t,e),0===t.du.size&&(r.ko()?r.Fo():Fu(t)&&t.gu.set("Unknown"))}function VS(n,e){n.yu.Ot(e.targetId),$g(n).zo(e)}function BM(n,e){n.yu.Ot(e),$g(n).Ho(e)}function US(n){n.yu=new rP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),$g(n).start(),n.gu.uu()}function BS(n){return Fu(n)&&!$g(n).No()&&n.du.size>0}function Fu(n){return 0===ut(n)._u.size}function jM(n){n.yu=void 0}function Tk(n){return jS.apply(this,arguments)}function jS(){return jS=(0,gt.Z)(function*(n){n.du.forEach((e,t)=>{VS(n,e)})}),jS.apply(this,arguments)}function Dk(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,gt.Z)(function*(n,e){jM(n),BS(n)?(n.gu.hu(e),US(n)):n.gu.set("Unknown")}),HS.apply(this,arguments)}function Ck(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,gt.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof NO&&2===e.state&&e.cause)try{yield(r=(0,gt.Z)(function*(o,l){const d=l.cause;for(const g of l.targetIds)o.du.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.du.delete(g),o.yu.removeTarget(g))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rw(n,r)}else if(e instanceof mw?n.yu.Kt(e):e instanceof MO?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Nt.min()))try{const r=yield xM(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.yu.Zt(l);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const P=o.du.get(_);P&&o.du.set(_,P.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const _=o.du.get(g);if(!_)return;o.du.set(g,_.withResumeToken(pi.EMPTY_BYTE_STRING,_.snapshotVersion)),BM(o,g);const P=new gd(_.target,g,1,_.sequenceNumber);VS(o,P)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),yield Rw(n,r)}var r}),$S.apply(this,arguments)}function Rw(n,e,t){return qS.apply(this,arguments)}function qS(){return qS=(0,gt.Z)(function*(n,e,t){if(!ud(e))throw e;n._u.add(1),yield jg(n),n.gu.set("Offline"),t||(t=()=>xM(n.localStore)),n.asyncQueue.enqueueRetryable((0,gt.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield p_(n)}))}),qS.apply(this,arguments)}function HM(n,e){return e().catch(t=>Rw(n,t,e))}function Hg(n){return GS.apply(this,arguments)}function GS(){return GS=(0,gt.Z)(function*(n){const e=ut(n),t=_d(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Sk(e);)try{const o=yield dk(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,Ak(e,o)}catch(o){yield Rw(e,o)}$M(e)&&qM(e)}),GS.apply(this,arguments)}function Sk(n){return Fu(n)&&n.fu.length<10}function Ak(n,e){n.fu.push(e);const t=_d(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function $M(n){return Fu(n)&&!_d(n).No()&&n.fu.length>0}function qM(n){_d(n).start()}function xk(n){return zS.apply(this,arguments)}function zS(){return zS=(0,gt.Z)(function*(n){_d(n).eu()}),zS.apply(this,arguments)}function Ok(n){return WS.apply(this,arguments)}function WS(){return WS=(0,gt.Z)(function*(n){const e=_d(n);for(const t of n.fu)e.Xo(t.mutations)}),WS.apply(this,arguments)}function Mk(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,gt.Z)(function*(n,e,t){const r=n.fu.shift(),o=fS.from(r,e,t);yield HM(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Hg(n)}),KS.apply(this,arguments)}function Nk(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,gt.Z)(function*(n,e){var t;e&&_d(n).Yo&&(yield(t=(0,gt.Z)(function*(r,o){if(CO(l=o.code)&&l!==Ue.ABORTED){const d=r.fu.shift();_d(r).Mo(),yield HM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Hg(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),$M(n)&&qM(n)}),ZS.apply(this,arguments)}function GM(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,gt.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=Fu(t);t._u.add(3),yield jg(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield p_(t)}),YS.apply(this,arguments)}function JS(){return JS=(0,gt.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield p_(t)):e||(t._u.add(2),yield jg(t),t.gu.set("Unknown"))}),JS.apply(this,arguments)}function $g(n){return n.pu||(n.pu=function(e,t,r){const o=ut(e);return o.su(),new vk(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,r)}(n.datastore,n.asyncQueue,{Yr:Tk.bind(null,n),Zr:Dk.bind(null,n),Wo:Ck.bind(null,n)}),n.wu.push(function(){var e=(0,gt.Z)(function*(t){t?(n.pu.Mo(),BS(n)?US(n):n.gu.set("Unknown")):(yield n.pu.stop(),jM(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function _d(n){return n.Iu||(n.Iu=function(e,t,r){const o=ut(e);return o.su(),new _k(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,r)}(n.datastore,n.asyncQueue,{Yr:xk.bind(null,n),Zr:Nk.bind(null,n),tu:Ok.bind(null,n),Zo:Mk.bind(null,n)}),n.wu.push(function(){var e=(0,gt.Z)(function*(t){t?(n.Iu.Mo(),yield Hg(n)):(yield n.Iu.stop(),n.fu.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class XS{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,g=new XS(e,t,d,o,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),ud(n))return new Ye(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Gg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Jv(),this.sortedSet=new Er(this.comparator)}static emptySet(e){return new Gg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zM{constructor(){this.Tu=new Er(at.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class zg{constructor(e,t,r,o,l,d,g,_,P){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=P}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new zg(e,t,Gg.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Rk{constructor(){this.Au=void 0,this.listeners=[]}}class Pk{constructor(){this.queries=new pd(e=>cO(e),Kv),this.onlineState="Unknown",this.Ru=new Set}}function tA(){return tA=(0,gt.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Rk),o)try{l.Au=yield t.onListen(r)}catch(d){const g=qg(d,`Initialization of query '${iS(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&iA(t)}),tA.apply(this,arguments)}function rA(){return rA=(0,gt.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),rA.apply(this,arguments)}function kk(n,e){const t=ut(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Pu(o)&&(r=!0);d.Au=o}}r&&iA(t)}function Lk(n,e,t){const r=ut(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function iA(n){n.Ru.forEach(e=>{e.next()})}class oA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new zg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ZM{constructor(e){this.key=e}}class YM{constructor(e){this.key=e}}class QM{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=tn(),this.mutatedKeys=tn(),this.Gu=fO(e),this.Qu=new Gg(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new zM,o=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,P="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((W,le)=>{const be=o.get(W),xe=Zv(this.query,le)?le:null,Le=!!be&&this.mutatedKeys.has(be.key),Ze=!!xe&&(xe.hasLocalMutations||this.mutatedKeys.has(xe.key)&&xe.hasCommittedMutations);let rt=!1;be&&xe?be.data.isEqual(xe.data)?Le!==Ze&&(r.track({type:3,doc:xe}),rt=!0):this.Hu(be,xe)||(r.track({type:2,doc:xe}),rt=!0,(_&&this.Gu(xe,_)>0||P&&this.Gu(xe,P)<0)&&(g=!0)):!be&&xe?(r.track({type:0,doc:xe}),rt=!0):be&&!xe&&(r.track({type:1,doc:be}),rt=!0,(_||P)&&(g=!0)),rt&&(xe?(d=d.add(xe),l=Ze?l.add(W):l.delete(W)):(d=d.delete(W),l=l.delete(W)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const W="F"===this.query.limitType?d.last():d.first();d=d.delete(W.key),l=l.delete(W.key),r.track({type:1,doc:W})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((P,W)=>function(le,be){const xe=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return xe(le)-xe(be)}(P.type,W.type)||this.Gu(P.doc,W.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.Uu;return this.Uu=g,0!==l.length||_?{snapshot:new zg(this.query,e.Qu,o,l,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=tn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new YM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new ZM(r))}),t}tc(e){this.qu=e.Hi,this.Ku=tn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Uk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bk{constructor(e){this.key=e,this.nc=!1}}class jk{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new pd(g=>cO(g),Kv),this.rc=new Map,this.oc=new Set,this.uc=new Er(at.comparator),this.cc=new Map,this.ac=new ES,this.hc={},this.lc=new Map,this.fc=hh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Hk(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,gt.Z)(function*(n,e){const t=xA(n);let r,o;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.ec();else{const d=yield Ug(t.localStore,uo(e));t.isPrimaryClient&&Nw(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield aA(t,e,r,"current"===g,d.resumeToken)}return o}),sA.apply(this,arguments)}function aA(n,e,t,r,o){return lA.apply(this,arguments)}function lA(){return lA=(0,gt.Z)(function*(n,e,t,r,o){n._c=(le,be,xe)=>{return(Le=(0,gt.Z)(function*(Ze,rt,Lt,Xt){let nn=rt.view.Wu(Lt);nn.$i&&(nn=yield Aw(Ze.localStore,rt.query,!1).then(({documents:hn})=>rt.view.Wu(hn,nn)));const en=Xt&&Xt.targetChanges.get(rt.targetId),un=rt.view.applyChanges(nn,Ze.isPrimaryClient,en);return vA(Ze,rt.targetId,un.Xu),un.snapshot}),function(Ze,rt,Lt,Xt){return Le.apply(this,arguments)})(n,le,be,xe);var Le};const l=yield Aw(n.localStore,e,!0),d=new QM(e,l.Hi),g=d.Wu(l.documents),_=t_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),P=d.applyChanges(g,n.isPrimaryClient,_);vA(n,t,P.Xu);const W=new Uk(e,t,d);return n.ic.set(e,W),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),P.snapshot}),lA.apply(this,arguments)}function $k(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,gt.Z)(function*(n,e){const t=ut(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(l=>!Kv(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),g_(t.remoteStore,r.targetId),Wg(t,r.targetId)}).catch(ld))):(Wg(t,r.targetId),yield Bg(t.localStore,r.targetId,!0))}),uA.apply(this,arguments)}function cA(){return cA=(0,gt.Z)(function*(n,e,t){const r=OA(n);try{const o=yield function(l,d){const g=ut(l),_=qn.now(),P=d.reduce((be,xe)=>be.add(xe.key),tn());let W,le;return g.persistence.runTransaction("Locally write mutations","readwrite",be=>{let xe=So(),Le=tn();return g.Gi.getEntries(be,P).next(Ze=>{xe=Ze,xe.forEach((rt,Lt)=>{Lt.isValidDocument()||(Le=Le.add(rt))})}).next(()=>g.localDocuments.getOverlayedDocuments(be,xe)).next(Ze=>{W=Ze;const rt=[];for(const Lt of d){const Xt=QR(Lt,W.get(Lt.key).overlayedDocument);null!=Xt&&rt.push(new Lu(Lt.key,Xt,oO(Xt.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(be,_,rt,d)}).next(Ze=>{le=Ze;const rt=Ze.applyToLocalDocumentSet(W,Le);return g.documentOverlayCache.saveOverlays(be,Ze.batchId,rt)})}).then(()=>({batchId:le.batchId,changes:xO(W)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,g){let _=l.hc[l.currentUser.toKey()];_||(_=new Er(Qt)),_=_.insert(d,g),l.hc[l.currentUser.toKey()]=_}(r,o.batchId,t),yield Vu(r,o.changes),yield Hg(r.remoteStore)}catch(o){const l=qg(o,"Failed to persist write");t.reject(l)}}),cA.apply(this,arguments)}function JM(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,gt.Z)(function*(n,e){const t=ut(n);try{const r=yield ck(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.cc.get(l);d&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Ct(d.nc):o.removedDocuments.size>0&&(Ct(d.nc),d.nc=!1))}),yield Vu(t,r,e)}catch(r){yield ld(r)}}),dA.apply(this,arguments)}function XM(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((l,d)=>{const g=d.view.bu(e);g.snapshot&&o.push(g.snapshot)}),function(l,d){const g=ut(l);g.onlineState=d;let _=!1;g.queries.forEach((P,W)=>{for(const le of W.listeners)le.bu(d)&&(_=!0)}),_&&iA(g)}(r.eventManager,e),o.length&&r.sc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gk(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,gt.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),l=o&&o.key;if(l){let d=new Er(at.comparator);d=d.insert(l,Kn.newNoDocument(l,Nt.min()));const g=tn().add(l),_=new e_(Nt.min(),new Map,new kn(Qt),d,g);yield JM(r,_),r.uc=r.uc.remove(l),r.cc.delete(e),_A(r)}else yield Bg(r.localStore,e,!1).then(()=>Wg(r,e,t)).catch(ld)}),fA.apply(this,arguments)}function zk(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,gt.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const o=yield uk(t.localStore,e);yA(t,r,null),mA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vu(t,o)}catch(o){yield ld(o)}}),hA.apply(this,arguments)}function Wk(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,gt.Z)(function*(n,e,t){const r=ut(n);try{const o=yield function(l,d){const g=ut(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let P;return g.mutationQueue.lookupMutationBatch(_,d).next(W=>(Ct(null!==W),P=W.keys(),g.mutationQueue.removeMutationBatch(_,W))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,P,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,P)).next(()=>g.localDocuments.getDocuments(_,P))})}(r.localStore,e);yA(r,e,t),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(r,o)}catch(o){yield ld(o)}}),pA.apply(this,arguments)}function mA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function yA(n,e,t){const r=ut(n);let o=r.hc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function Wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||eN(n,r)})}function eN(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(g_(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),_A(n))}function vA(n,e,t){for(const r of t)r instanceof ZM?(n.ac.addReference(r.key,e),Zk(n,r)):r instanceof YM?(tt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||eN(n,r.key)):bt()}function Zk(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(tt("SyncEngine","New document in limbo: "+t),n.oc.add(r),_A(n))}function _A(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new at(En.fromString(e)),r=n.fc.next();n.cc.set(r,new Bk(t)),n.uc=n.uc.insert(t,r),Nw(n.remoteStore,new gd(uo(xg(t.path)),r,2,is.at))}}function Vu(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,gt.Z)(function*(n,e,t){const r=ut(n),o=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{d.push(r._c(_,e,t).then(P=>{if((P||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,P?.fromCache?"not-current":"current"),P){o.push(P);const W=DS.Ci(_.targetId,P);l.push(W)}}))}),yield Promise.all(d),r.sc.Wo(o),yield(g=(0,gt.Z)(function*(_,P){const W=ut(_);try{yield W.persistence.runTransaction("notifyLocalViewChanges","readwrite",le=>Fe.forEach(P,be=>Fe.forEach(be.Si,xe=>W.persistence.referenceDelegate.addReference(le,be.targetId,xe)).next(()=>Fe.forEach(be.Di,xe=>W.persistence.referenceDelegate.removeReference(le,be.targetId,xe)))))}catch(le){if(!ud(le))throw le;tt("LocalStore","Failed to update sequence numbers: "+le)}for(const le of P){const be=le.targetId;if(!le.fromCache){const xe=W.qi.get(be),Ze=xe.withLastLimboFreeSnapshotVersion(xe.snapshotVersion);W.qi=W.qi.insert(be,Ze)}}}),function(_,P){return g.apply(this,arguments)})(r.localStore,l))}),bA.apply(this,arguments)}function Yk(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,gt.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const r=yield AM(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Ye(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vu(t,r.ji)}var o}),EA.apply(this,arguments)}function Qk(n,e){const t=ut(n),r=t.cc.get(e);if(r&&r.nc)return tn().add(r.key);{let o=tn();const l=t.rc.get(e);if(!l)return o;for(const d of l){const g=t.ic.get(d);o=o.unionWith(g.view.ju)}return o}}function xA(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gk.bind(null,e),e.sc.Wo=kk.bind(null,e.eventManager),e.sc.wc=Lk.bind(null,e.eventManager),e}function OA(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wk.bind(null,e),e}class sL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,gt.Z)(function*(){t.yt=h_(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function SM(n,e,t,r){return new lk(n,e,t,r)}(this.persistence,new CM,e.initialUser,this.yt)}yc(e){return new TM(Cw.Bs,this.yt)}gc(e){return new LM}terminate(){var e=this;return(0,gt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MA{initialize(e,t){var r=this;return(0,gt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>XM(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,r.syncEngine),yield function QS(n,e){return JS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pk}createDatastore(e){const t=h_(e.databaseInfo.databaseId),r=new yk(e.databaseInfo);return new bk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=g=>XM(this.syncEngine,g,0),d=FM.C()?new FM:new pk,new Ik(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,g,_,P){const W=new jk(r,o,l,d,g,_);return P&&(W.dc=!0),W}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,gt.Z)(function*(t){const r=ut(t);tt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield jg(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NA(n,e,t){if(!t)throw new Ye(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rN(n){if(!at.isDocumentKey(n))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iN(n){if(at.isDocumentKey(n))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pw(n);throw new Ye(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const sN=new Map;class aN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function uL(n,e,t,r){if(!0===e&&!0===r)throw new Ye(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m_{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vR;switch(t.type){case"gapi":return new wR(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ye(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sN.get(e);t&&(tt("ComponentProvider","Removing Datastore"),sN.delete(e),t.terminate())}(this),Promise.resolve()}}class kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class xl extends ki{constructor(e,t,r){super(e,t,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new at(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function dL(n,e,...t){if(n=(0,_r.m9)(n),NA("collection","path",e),n instanceof m_){const r=En.fromString(e,...t);return iN(r),new xl(n,null,r)}{if(!(n instanceof kr||n instanceof xl))throw new Ye(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return iN(r),new xl(n.firestore,null,r)}}function lN(n,e,...t){if(n=(0,_r.m9)(n),1===arguments.length&&(e=Rx.R()),NA("doc","path",e),n instanceof m_){const r=En.fromString(e,...t);return rN(r),new kr(n,null,new at(r))}{if(!(n instanceof kr||n instanceof xl))throw new Ye(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return rN(r),new kr(n.firestore,n instanceof xl?n.converter:null,new at(r))}}class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yL{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=wi.UNAUTHENTICATED,this.clientId=Rx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,gt.Z)(function*(g){tt("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(tt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,gt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,gt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=qg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function dN(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,gt.Z)(function*(l){r.isEqual(l)||(yield AM(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),RA.apply(this,arguments)}function fN(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kA(n);tt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>GM(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>GM(e.remoteStore,l)),n.onlineComponents=e}),PA.apply(this,arguments)}function kA(n){return LA.apply(this,arguments)}function LA(){return LA=(0,gt.Z)(function*(n){return n.offlineComponents||(tt("FirestoreClient","Using default OfflineComponentProvider"),yield dN(n,new sL)),n.offlineComponents}),LA.apply(this,arguments)}function Lw(n){return FA.apply(this,arguments)}function FA(){return FA=(0,gt.Z)(function*(n){return n.onlineComponents||(tt("FirestoreClient","Using default OnlineComponentProvider"),yield fN(n,new MA)),n.onlineComponents}),FA.apply(this,arguments)}function Kg(n){return BA.apply(this,arguments)}function BA(){return BA=(0,gt.Z)(function*(n){const e=yield Lw(n),t=e.eventManager;return t.onListen=Hk.bind(null,e.syncEngine),t.onUnlisten=$k.bind(null,e.syncEngine),t}),BA.apply(this,arguments)}class DL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new PS(this,"async_queue_retry"),this.Wc=()=>{const t=Mw();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Mw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Mw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new hi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,gt.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ud(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=XS.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.Uc.push(o),o}zc(){this.Kc&&bt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,gt.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function jA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Zn extends m_{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new DL,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yN(this),this._firestoreClient.terminate()}}function SL(n,e){const t="object"==typeof n?n:(0,da.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,da._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=(0,_r.P0)("firestore");l&&function cL(n,e,t,r={}){var o;const l=(n=vn(n,m_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ig("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=wi.MOCK_USER;else{d=(0,_r.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ye(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wi(_)}n._authCredentials=new _R(new Mx(d,g))}}(o,...l)}return o}function Xr(n){return n._firestoreClient||yN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new RR(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new yL(n._authCredentials,n._appCheckCredentials,n._queue,r)}class gh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gh(pi.fromBase64String(e))}catch(t){throw new Ye(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gh(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HA{constructor(e){this._methodName=e}}class $A{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const AL=/^__.*__$/;class xL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ng(e,this.data,t,this.fieldTransforms)}}class bN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Vw{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=o,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Vw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Bw(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(EN(this.sa)&&AL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class OL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||h_(e)}da(e,t,r,o=!1){return new Vw({sa:e,methodName:t,fa:r,path:Rr.emptyPath(),oa:!1,la:o},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Yg(n){const e=n._freezeSettings(),t=h_(n._databaseId);return new OL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qA(n,e,t,r,o,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,o);zA("Data must be an object, but it was:",d,r);const g=CN(r,d);let _,P;if(l.merge)_=new Co(d.fieldMask),P=d.fieldTransforms;else if(l.mergeFields){const W=[];for(const le of l.mergeFields){const be=WA(e,le,t);if(!d.contains(be))throw new Ye(Ue.INVALID_ARGUMENT,`Field '${be}' is specified in your field mask but missing from your input data.`);AN(W,be)||W.push(be)}_=new Co(W),P=d.fieldTransforms.filter(le=>_.covers(le.field))}else _=null,P=d.fieldTransforms;return new xL(new Pi(g),_,P)}class y_ extends HA{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y_}}function mh(n,e){if(SN(n=(0,_r.m9)(n)))return zA("Unsupported field value:",e,n),CN(n,e);if(n instanceof HA)return function(t,r){if(!EN(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let g=mh(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,_r.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gO(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qn.fromDate(t);return{timestampValue:Pg(r.yt,o)}}if(t instanceof qn){const o=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pg(r.yt,o)}}if(t instanceof $A)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gh)return{bytesValue:LO(r.yt,t._byteString)};if(t instanceof kr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Pw(t)}`)}(n,e)}function CN(n,e){const t={};return Bx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eh(n,(r,o)=>{const l=mh(o,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function SN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof $A||n instanceof gh||n instanceof kr||n instanceof HA)}function zA(n,e,t){if(!SN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Pw(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function WA(n,e,t){if((e=(0,_r.m9)(e))instanceof Zg)return e._internalPath;if("string"==typeof e)return Uw(n,e);throw Bw("Field path arguments must be of type string or ",n,!1,void 0,t)}const PL=new RegExp("[~\\*/\\[\\]]");function Uw(n,e,t){if(e.search(PL)>=0)throw Bw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zg(...e.split("."))._internalPath}catch{throw Bw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bw(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new Ye(Ue.INVALID_ARGUMENT,g+n+_)}function AN(n,e){return n.some(t=>t.isEqual(e))}class KA{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kL extends KA{data(){return super.data()}}function jw(n,e){return"string"==typeof e?Uw(n,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}class ZA{}class ON extends ZA{}function LL(n,e,...t){let r=[];e instanceof ZA&&r.push(e),r=r.concat(t),function(o){const l=o.filter(g=>g instanceof Qg).length,d=o.filter(g=>g instanceof v_).length;if(l>1||l>0&&d>0)throw new Ye(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class v_ extends ON{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new v_(e,t,r)}_apply(e){const t=this._parse(e);return PN(e._query,t),new ki(e.firestore,e.converter,rS(e._query,t))}_parse(e){const t=Yg(e.firestore);return function(o,l,d,g,_,P,W){let le;if(_.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Ye(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){RN(W,P);const be=[];for(const xe of W)be.push(NN(g,o,xe));le={arrayValue:{values:be}}}else le=NN(g,o,W)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||RN(W,P),le=function DN(n,e,t,r=!1){return mh(t,n.da(r?4:3,e))}(d,"where",W,"in"===P||"not-in"===P);return mn.create(_,P,le)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qg extends ZA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let l=r;const d=o.getFlattenedFilters();for(const g of d)PN(l,g),l=rS(l,g)}(e._query,t),new ki(e.firestore,e.converter,rS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YA extends ON{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new YA(e,t)}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ye(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ye(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Sg(o,l);return function(g,_){if(null===tS(g)){const P=cw(g);null!==P&&kN(0,P,_.field)}}(r,d),d}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new ku(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function FL(n,e="asc"){const t=e,r=jw("orderBy",n);return YA._create(r,t)}function NN(n,e,t){if("string"==typeof(t=(0,_r.m9)(t))){if(""===t)throw new Ye(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(e)&&-1!==t.indexOf("/"))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!at.isDocumentKey(r))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rh(n,new at(r))}if(t instanceof kr)return rh(n,t._key);throw new Ye(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pw(t)}.`)}function RN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ye(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ye(Ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function PN(n,e){if(e.isInequality()){const r=cw(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const l=tS(n);null!==l&&kN(0,o,l)}const t=function(r,o){for(const l of r)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ye(Ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function kN(n,e,t){if(!t.isEqual(e))throw new Ye(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class VL{convertValue(e,t="none"){switch(nh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(th(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const r={};return eh(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new $A(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hx(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($v(e));default:return null}}convertTimestamp(e){const t=cd(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Ct(zO(r));const o=new Xf(r.get(1),r.get(3)),l=new at(r.popFirst(5));return o.isEqual(t)||Nr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jg extends KA{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gw extends Jg{data(e={}){return super.data(e)}}class Xg{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new yh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gw(this._firestore,this._userDataWriter,r.key,r,new yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Gw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new yh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new Gw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new yh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,P=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),P=l.indexOf(d.doc.key)),{type:UL(d.type),doc:g,oldIndex:_,newIndex:P}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class bd extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new gh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}function BL(n,e,t,...r){n=vn(n,kr);const o=vn(n.firestore,Zn),l=Yg(o);let d;return d="string"==typeof(e=(0,_r.m9)(e))||e instanceof Zg?function TN(n,e,t,r,o,l){const d=n.da(1,e,t),g=[WA(e,r,t)],_=[o];if(l.length%2!=0)throw new Ye(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let be=0;be<l.length;be+=2)g.push(WA(e,l[be])),_.push(l[be+1]);const P=[],W=Pi.empty();for(let be=g.length-1;be>=0;--be)if(!AN(P,g[be])){const xe=g[be];let Le=_[be];Le=(0,_r.m9)(Le);const Ze=d.ca(xe);if(Le instanceof y_)P.push(xe);else{const rt=mh(Le,Ze);null!=rt&&(P.push(xe),W.set(xe,rt))}}const le=new Co(P);return new bN(W,le,d.fieldTransforms)}(l,"updateDoc",n._key,e,t,r):function IN(n,e,t,r){const o=n.da(1,e,t);zA("Data must be an object, but it was:",o,r);const l=[],d=Pi.empty();eh(r,(_,P)=>{const W=Uw(e,_,t);P=(0,_r.m9)(P);const le=o.ca(W);if(P instanceof y_)l.push(W);else{const be=mh(P,le);null!=be&&(l.push(W),d.set(W,be))}});const g=new Co(l);return new bN(d,g,o.fieldTransforms)}(l,"updateDoc",n._key,e),__(o,[d.toMutation(n._key,rr.exists(!0))])}function jL(n){return __(vn(n.firestore,Zn),[new Rg(n._key,rr.none())])}function HL(n,e){const t=vn(n.firestore,Zn),r=lN(n),o=function QA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return __(t,[qA(Yg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function __(n,e){return function(t,r){const o=new hi;return t.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return function qk(n,e,t){return cA.apply(this,arguments)}(yield function UA(n){return Lw(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}(Xr(n),e)}!function(n,e=!0){wg=da.SDK_VERSION,(0,da._registerComponent)(new $m.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const l=t.getProvider("app").getImmediate(),d=new Zn(new bR(t.getProvider("auth-internal")),new IR(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ye(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(g.options.projectId,_)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,da.registerVersion)(Ox,"3.8.3",n),(0,da.registerVersion)(Ox,"3.8.3","esm2017")}();var WL={includeMetadataChanges:!1};function XA(n,e){return void 0===e&&(e=WL),new Oi.y(function(t){var r=function $L(n,...e){var t,r,o;n=(0,_r.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||jA(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(jA(e[d])){const le=e[d];e[d]=null===(t=le.next)||void 0===t?void 0:t.bind(le),e[d+1]=null===(r=le.error)||void 0===r?void 0:r.bind(le),e[d+2]=null===(o=le.complete)||void 0===o?void 0:o.bind(le)}let _,P,W;if(n instanceof kr)P=vn(n.firestore,Zn),W=xg(n._key.path),_={next:le=>{e[d]&&e[d](function JA(n,e,t){const r=t.docs.get(e._key),o=new bd(n);return new Jg(n,o,e._key,r,new yh(t.hasPendingWrites,t.fromCache),e.converter)}(P,n,le))},error:e[d+1],complete:e[d+2]};else{const le=vn(n,ki);P=vn(le.firestore,Zn),W=le._query;const be=new bd(P);_={next:xe=>{e[d]&&e[d](new Xg(P,be,le,xe))},error:e[d+1],complete:e[d+2]},function xN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ye(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(le,be,xe,Le){const Ze=new kw(Le),rt=new oA(be,Ze,xe);return le.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return function eA(n,e){return tA.apply(this,arguments)}(yield Kg(le),rt)})),()=>{Ze.bc(),le.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return function nA(n,e){return rA.apply(this,arguments)}(yield Kg(le),rt)}))}}(Xr(P),W,g,_)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZL(n,e){return void 0===e&&(e={}),function KL(n){return XA(n,{includeMetadataChanges:!0})}(n).pipe((0,Bt.U)(function(t){return VN(t,e)}))}function VN(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function tF(n,e){return void 0===e&&(e={}),function eF(n){return XA(n,{includeMetadataChanges:!0}).pipe((0,Bt.U)(function(e){return e.docs}))}(n).pipe((0,Bt.U)(function(t){return t.map(function(r){return VN(r,e)})}))}class Ww{constructor(e){return e}}const HN="firestore",n1=new c.OlP("angularfire2.firestore-instances");function iF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ww(r)}}const oF={provide:class nF{constructor(){return(0,An.vb)(HN)}},deps:[[new c.FiY,n1]]},sF={provide:Ww,useFactory:function rF(n,e){const t=(0,An.JM)(HN,n,e);return t&&new Ww(t)},deps:[[new c.FiY,n1],Rc]};let aF=(()=>{class n{constructor(){(0,ks.KN)("angularfire",An.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[sF,oF]}),n})();const uF=(0,An.u3)(tF,!0),cF=(0,An.u3)(ZL,!0),dF=(0,An.u3)(HL,!0),fF=(0,An.u3)(dL,!0),hF=(0,An.u3)(jL,!0),r1=(0,An.u3)(lN,!0),pF=(0,An.u3)(SL,!0),gF=(0,An.u3)(FL,!0),mF=(0,An.u3)(LL,!0),yF=(0,An.u3)(BL,!0);class Ed{constructor(e,t,r){this.firestore=e,this.authService=t,this.router=r,this.user_uid=sessionStorage.getItem("user_uid"),this.collect=fF(this.firestore,`users/${this.user_uid}/notes`)}addNote(e){return dF(this.collect,e)}getNotes(){const e=mF(this.collect,gF("date","desc"));return uF(e,{idField:"id"})}getNote(e){const t=r1(this.collect,e);return cF(t)}deleteNote(e){const t=r1(this.firestore,`users/${this.user_uid}/notes/${e.id}`);return hF(t)}updateNote(e){e.id=this.router.parseUrl(this.router.url).root.children[zt].segments[2].path;const t=r1(this.firestore,`users/${this.user_uid}/notes/${e.id}`);return yF(t,{content:e.content,date:e.date,img:e.img})}}function vF(n,e){1&n&&c.GkF(0)}function _F(n,e){if(1&n&&(c.TgZ(0,"div",8),c.Hsn(1,1),c.YNc(2,vF,1,0,"ng-container",6),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngTemplateOutlet",t.headerTemplate)}}function bF(n,e){1&n&&c.GkF(0)}function EF(n,e){if(1&n&&(c.TgZ(0,"div",9),c._uU(1),c.YNc(2,bF,1,0,"ng-container",6),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.header," "),c.xp6(1),c.Q6J("ngTemplateOutlet",t.titleTemplate)}}function wF(n,e){1&n&&c.GkF(0)}function IF(n,e){if(1&n&&(c.TgZ(0,"div",10),c._uU(1),c.YNc(2,wF,1,0,"ng-container",6),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.subheader," "),c.xp6(1),c.Q6J("ngTemplateOutlet",t.subtitleTemplate)}}function TF(n,e){1&n&&c.GkF(0)}function DF(n,e){1&n&&c.GkF(0)}function CF(n,e){if(1&n&&(c.TgZ(0,"div",11),c.Hsn(1,2),c.YNc(2,DF,1,0,"ng-container",6),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngTemplateOutlet",t.footerTemplate)}}Ed.\u0275fac=function(e){return new(e||Ed)(c.LFG(Ww),c.LFG(Su),c.LFG(Or))},Ed.\u0275prov=c.Yz7({token:Ed,factory:Ed.\u0275fac,providedIn:"root"});const SF=["*",[["p-header"]],[["p-footer"]]],AF=["*","p-header","p-footer"];let xF=(()=>{class n{constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-card"]],contentQueries:function(t,r,o){if(1&t&&(c.Suo(o,hy,5),c.Suo(o,pb,5),c.Suo(o,ha,4)),2&t){let l;c.iGM(l=c.CRH())&&(r.headerFacet=l.first),c.iGM(l=c.CRH())&&(r.footerFacet=l.first),c.iGM(l=c.CRH())&&(r.templates=l)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:AF,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,r){1&t&&(c.F$t(SF),c.TgZ(0,"div",0),c.YNc(1,_F,3,1,"div",1),c.TgZ(2,"div",2),c.YNc(3,EF,3,2,"div",3),c.YNc(4,IF,3,2,"div",4),c.TgZ(5,"div",5),c.Hsn(6),c.YNc(7,TF,1,0,"ng-container",6),c.qZA(),c.YNc(8,CF,3,1,"div",7),c.qZA()()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngClass","p-card p-component")("ngStyle",r.style),c.xp6(1),c.Q6J("ngIf",r.headerFacet||r.headerTemplate),c.xp6(2),c.Q6J("ngIf",r.header||r.titleTemplate),c.xp6(1),c.Q6J("ngIf",r.subheader||r.subtitleTemplate),c.xp6(3),c.Q6J("ngTemplateOutlet",r.contentTemplate),c.xp6(1),c.Q6J("ngIf",r.footerFacet||r.footerTemplate))},dependencies:[kt,ii,Oo,Qn],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr,Yo]}),n})();const MF=["*"];let NF=(()=>{class n{constructor(){this.layout="horizontal",this.type="solid"}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",layout:"layout",type:"type",align:"align"},ngContentSelectors:MF,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA()()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngClass",r.containerClass())("ngStyle",r.style))},dependencies:[kt,Qn],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})();const PF=function(){return{"margin-left":".5em"}};function kF(n,e){if(1&n){const t=c.EpF();c._UZ(0,"p-button",7),c.TgZ(1,"p-button",8),c.NdJ("click",function(){c.CHM(t);const o=c.oxw().$implicit,l=c.oxw();return c.KtG(l.onClickDelete(o))}),c.qZA()}if(2&n){const t=c.oxw().$implicit;c.Q6J("routerLink","/diary/edit/"+t.id),c.xp6(1),c.Akn(c.DdM(3,PF))}}const LF=function(){return{width:"720px"}};function FF(n,e){if(1&n&&(c.TgZ(0,"div",3)(1,"p-card",4),c._UZ(2,"p",5)(3,"p-divider"),c.TgZ(4,"p")(5,"b"),c._uU(6,"Last updated:"),c.qZA(),c._uU(7),c.ALo(8,"date"),c.qZA(),c.YNc(9,kF,2,4,"ng-template",6),c.qZA()()),2&n){const t=e.$implicit;c.xp6(1),c.Akn(c.DdM(7,LF)),c.xp6(1),c.Q6J("innerHTML",t.content,c.oJD),c.xp6(5),c.hij(" ",c.xi3(8,4,t.date.toDate(),"h:mm a, MMM d, y"),"")}}class b_{constructor(e){this.notesService=e,this.notes=[]}ngOnInit(){this.notesService.getNotes().subscribe(e=>{this.notes=e})}onClickDelete(e){var t=this;return(0,gt.Z)(function*(){yield t.notesService.deleteNote(e)})()}}b_.\u0275fac=function(e){return new(e||b_)(c.Y36(Ed))},b_.\u0275cmp=c.Xpm({type:b_,selectors:[["app-diary"]],decls:3,vars:1,consts:[["pButton","","routerLink","/home","type","button","label","Home",1,"mt-2","ml-2"],["pButton","","routerLink","/diary/add","type","button","label","Add new note",1,"mt-2","ml-2"],["class","flex mb-4 justify-content-center",4,"ngFor","ngForOf"],[1,"flex","mb-4","justify-content-center"],["styleClass","p-card-shadow"],[3,"innerHTML"],["pTemplate","footer"],["label","Edit","icon","pi pi-pencil","styleClass","p-button-sm",3,"routerLink"],["label","Delete","icon","pi pi-times","styleClass","p-button-sm",3,"click"]],template:function(e,t){1&e&&(c._UZ(0,"button",0)(1,"button",1),c.YNc(2,FF,10,8,"div",2)),2&e&&(c.xp6(2),c.Q6J("ngForOf",t.notes))},dependencies:[zi,ca,$c,vb,ha,xF,NF,Jn]});var VF=N(9971);function UF(n,e){1&n&&c.GkF(0)}function BF(n,e){if(1&n&&(c.TgZ(0,"div",3),c.Hsn(1),c.YNc(2,UF,1,0,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngTemplateOutlet",t.headerTemplate)}}function jF(n,e){1&n&&(c.TgZ(0,"div",3)(1,"span",5)(2,"select",6)(3,"option",7),c._uU(4,"Heading"),c.qZA(),c.TgZ(5,"option",8),c._uU(6,"Subheading"),c.qZA(),c.TgZ(7,"option",9),c._uU(8,"Normal"),c.qZA()(),c.TgZ(9,"select",10)(10,"option",9),c._uU(11,"Sans Serif"),c.qZA(),c.TgZ(12,"option",11),c._uU(13,"Serif"),c.qZA(),c.TgZ(14,"option",12),c._uU(15,"Monospace"),c.qZA()()(),c.TgZ(16,"span",5),c._UZ(17,"button",13)(18,"button",14)(19,"button",15),c.qZA(),c.TgZ(20,"span",5),c._UZ(21,"select",16)(22,"select",17),c.qZA(),c.TgZ(23,"span",5),c._UZ(24,"button",18)(25,"button",19),c.TgZ(26,"select",20),c._UZ(27,"option",9),c.TgZ(28,"option",21),c._uU(29,"center"),c.qZA(),c.TgZ(30,"option",22),c._uU(31,"right"),c.qZA(),c.TgZ(32,"option",23),c._uU(33,"justify"),c.qZA()()(),c.TgZ(34,"span",5),c._UZ(35,"button",24)(36,"button",25)(37,"button",26),c.qZA(),c.TgZ(38,"span",5),c._UZ(39,"button",27),c.qZA()())}const HF=[[["p-header"]]],$F=["p-header"],qF={provide:lo,useExisting:(0,c.Gpc)(()=>o1),multi:!0};let o1=(()=>{class n{constructor(t){this.el=t,this.onTextChange=new c.vpe,this.onSelectionChange=new c.vpe,this.onInit=new c.vpe,this.delayedCommand=null,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.quillElements=null}get isAttachedQuillEditorToDOM(){return this.quillElements?.editorElement?.isConnected}ngAfterViewInit(){this.initQuillElements(),this.isAttachedQuillEditorToDOM&&this.initQuillEditor()}ngAfterViewChecked(){!this.quill&&this.isAttachedQuillEditorToDOM&&this.initQuillEditor(),this.delayedCommand&&this.isAttachedQuillEditorToDOM&&(this.delayedCommand(),this.delayedCommand=null)}ngAfterContentInit(){this.templates.forEach(t=>{"header"===t.getType()&&(this.headerTemplate=t.template)})}writeValue(t){if(this.value=t,this.quill)if(t){const r=()=>{this.quill.setContents(this.quill.clipboard.convert(this.value))};this.isAttachedQuillEditorToDOM?r():this.delayedCommand=r}else{const r=()=>{this.quill.setText("")};this.isAttachedQuillEditorToDOM?r():this.delayedCommand=r}}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}getQuill(){return this.quill}get readonly(){return this._readonly}set readonly(t){this._readonly=t,this.quill&&(this._readonly?this.quill.disable():this.quill.enable())}initQuillEditor(){this.initQuillElements();const{toolbarElement:t,editorElement:r}=this.quillElements;let o={toolbar:t},l=this.modules?{...o,...this.modules}:o;this.quill=new VF(r,{modules:l,placeholder:this.placeholder,readOnly:this.readonly,theme:"snow",formats:this.formats,bounds:this.bounds,debug:this.debug,scrollingContainer:this.scrollingContainer}),this.value&&this.quill.setContents(this.quill.clipboard.convert(this.value)),this.quill.on("text-change",(d,g,_)=>{if("user"===_){let P=$n.findSingle(r,".ql-editor").innerHTML,W=this.quill.getText().trim();"<p><br></p>"===P&&(P=null),this.onTextChange.emit({htmlValue:P,textValue:W,delta:d,source:_}),this.onModelChange(P),this.onModelTouched()}}),this.quill.on("selection-change",(d,g,_)=>{this.onSelectionChange.emit({range:d,oldRange:g,source:_})}),this.onInit.emit({editor:this.quill})}initQuillElements(){this.quillElements||(this.quillElements={editorElement:$n.findSingle(this.el.nativeElement,"div.p-editor-content"),toolbarElement:$n.findSingle(this.el.nativeElement,"div.p-editor-toolbar")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-editor"]],contentQueries:function(t,r,o){if(1&t&&(c.Suo(o,hy,5),c.Suo(o,ha,4)),2&t){let l;c.iGM(l=c.CRH())&&(r.toolbar=l.first),c.iGM(l=c.CRH())&&(r.templates=l)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",placeholder:"placeholder",formats:"formats",modules:"modules",bounds:"bounds",scrollingContainer:"scrollingContainer",debug:"debug",readonly:"readonly"},outputs:{onTextChange:"onTextChange",onSelectionChange:"onSelectionChange",onInit:"onInit"},features:[c._Bn([qF])],ngContentSelectors:$F,decls:4,vars:6,consts:[[3,"ngClass"],["class","p-editor-toolbar",4,"ngIf"],[1,"p-editor-content",3,"ngStyle"],[1,"p-editor-toolbar"],[4,"ngTemplateOutlet"],[1,"ql-formats"],[1,"ql-header"],["value","1"],["value","2"],["selected",""],[1,"ql-font"],["value","serif"],["value","monospace"],["aria-label","Bold","type","button",1,"ql-bold"],["aria-label","Italic","type","button",1,"ql-italic"],["aria-label","Underline","type","button",1,"ql-underline"],[1,"ql-color"],[1,"ql-background"],["value","ordered","aria-label","Ordered List","type","button",1,"ql-list"],["value","bullet","aria-label","Unordered List","type","button",1,"ql-list"],[1,"ql-align"],["value","center"],["value","right"],["value","justify"],["aria-label","Insert Link","type","button",1,"ql-link"],["aria-label","Insert Image","type","button",1,"ql-image"],["aria-label","Insert Code Block","type","button",1,"ql-code-block"],["aria-label","Remove Styles","type","button",1,"ql-clean"]],template:function(t,r){1&t&&(c.F$t(HF),c.TgZ(0,"div",0),c.YNc(1,BF,3,1,"div",1),c.YNc(2,jF,40,0,"div",1),c._UZ(3,"div",2),c.qZA()),2&t&&(c.Tol(r.styleClass),c.Q6J("ngClass","p-editor-container"),c.xp6(1),c.Q6J("ngIf",r.toolbar||r.headerTemplate),c.xp6(1),c.Q6J("ngIf",!r.toolbar&&!r.headerTemplate),c.xp6(1),c.Q6J("ngStyle",r.style))},dependencies:[kt,ii,Oo,Qn],styles:[".p-editor-container .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options .ql-picker-item{width:auto;height:auto}\n"],encapsulation:2,changeDetection:0}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr,Yo]}),n})();function zF(n,e){1&n&&(c.TgZ(0,"span",7),c._UZ(1,"button",8)(2,"button",9)(3,"button",10),c.qZA())}const WF=function(){return{height:"320px"}};class E_{constructor(e,t){this.notesService=e,this.router=t,this.form=new Jo({content:new Xo,date:new Xo(qn.now()),img:new Xo})}ngOnInit(){}onSubmit(){var e=this;return(0,gt.Z)(function*(){yield e.notesService.addNote(e.form.value),yield e.router.navigate(["/diary"])})()}}function KF(n,e){1&n&&(c.TgZ(0,"span",7),c._UZ(1,"button",8)(2,"button",9)(3,"button",10),c.qZA())}E_.\u0275fac=function(e){return new(e||E_)(c.Y36(Ed),c.Y36(Or))},E_.\u0275cmp=c.Xpm({type:E_,selectors:[["app-add-note"]],decls:8,vars:4,consts:[["pButton","","routerLink","/home","type","button","label","Home",1,"mt-2","ml-2"],[1,"mx-8","justify-content-center","align-items-center",3,"formGroup","ngSubmit"],[1,"mt-6","font-bold","text-xl"],["formControlName","content"],["pTemplate","header"],["pButton","","routerLink","/diary","type","button","label","Cancel",1,"mt-2","ml-2"],["pButton","","type","submit","value","Submit","label","Submit",1,"mt-2","ml-2"],[1,"ql-formats"],["type","button","aria-label","Bold",1,"ql-bold"],["type","button","aria-label","Italic",1,"ql-italic"],["type","button","aria-label","Underline",1,"ql-underline"]],template:function(e,t){1&e&&(c._UZ(0,"button",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return t.onSubmit()}),c.TgZ(2,"p",2),c._uU(3,"New note"),c.qZA(),c.TgZ(4,"p-editor",3),c.YNc(5,zF,4,0,"ng-template",4),c.qZA(),c._UZ(6,"button",5)(7,"button",6),c.qZA()),2&e&&(c.xp6(1),c.Q6J("formGroup",t.form),c.xp6(3),c.Akn(c.DdM(3,WF)))},dependencies:[ca,$c,Fp,xp,Op,Qc,Ff,o1,ha]});const ZF=function(){return{height:"320px"}};class w_{constructor(e,t,r){this.notesService=e,this.router=t,this.route=r,this.note$=null,this.form=new Jo({content:new Xo,date:new Xo(qn.now()),img:new Xo,id:new Xo})}ngOnInit(){this.route.params.pipe((0,qr.b)(({id:e})=>{this.note$=this.notesService.getNote(e)})).subscribe(),this.note$?.subscribe(e=>{this.form.get("content")?.setValue(e.content),this.form.get("date")?.setValue(e.date),this.form.get("id")?.setValue(e.id),this.form.get("img")?.setValue(e.img)})}onSubmit(){var e=this;return(0,gt.Z)(function*(){yield e.notesService.updateNote({content:e.form.value.content,date:qn.now(),id:e.form.value.id,img:e.form.value.img}),yield e.router.navigate(["/diary"])})()}}w_.\u0275fac=function(e){return new(e||w_)(c.Y36(Ed),c.Y36(Or),c.Y36(vc))},w_.\u0275cmp=c.Xpm({type:w_,selectors:[["app-edit-note"]],decls:8,vars:4,consts:[["pButton","","routerLink","/home","type","button","label","Home",1,"mt-2","ml-2"],[1,"mx-8","justify-content-center","align-items-center",3,"formGroup","ngSubmit"],[1,"mt-6","font-bold","text-xl"],["formControlName","content"],["pTemplate","header"],["pButton","","routerLink","/diary","type","button","label","Cancel",1,"mt-2","ml-2"],["pButton","","type","submit","value","Submit","label","Submit",1,"mt-2","ml-2"],[1,"ql-formats"],["type","button","aria-label","Bold",1,"ql-bold"],["type","button","aria-label","Italic",1,"ql-italic"],["type","button","aria-label","Underline",1,"ql-underline"]],template:function(e,t){1&e&&(c._UZ(0,"button",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return t.onSubmit()}),c.TgZ(2,"p",2),c._uU(3,"Edit note"),c.qZA(),c.TgZ(4,"p-editor",3),c.YNc(5,KF,4,0,"ng-template",4),c.qZA(),c._UZ(6,"button",5)(7,"button",6),c.qZA()),2&e&&(c.xp6(1),c.Q6J("formGroup",t.form),c.xp6(3),c.Akn(c.DdM(3,ZF)))},dependencies:[ca,$c,Fp,xp,Op,Qc,Ff,o1,ha]});const YF=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:wu},{path:"login",component:Xc},{path:"diary",component:b_,canActivate:[Au]},{path:"diary/add",component:E_,canActivate:[Au]},{path:"diary/edit/:id",component:w_,canActivate:[Au]},{path:"**",component:wu}];class em{}em.\u0275fac=function(e){return new(e||em)},em.\u0275mod=c.oAB({type:em}),em.\u0275inj=c.cJS({imports:[N0.forRoot(YF),N0]});class I_{constructor(){this.title="ng15-another-test"}}I_.\u0275fac=function(e){return new(e||I_)},I_.\u0275cmp=c.Xpm({type:I_,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&c._UZ(0,"router-outlet")},dependencies:[wm]});const $N_firebase={projectId:"ng15-another-test",appId:"1:897797991553:web:03e90556c7c759dfa63180",storageBucket:"ng15-another-test.appspot.com",apiKey:"AIzaSyB17kwSNWKQOTlC_3OpO2J7g1GdHKxanng",authDomain:"ng15-another-test.firebaseapp.com",messagingSenderId:"897797991553"};let qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr,wp]}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr,Yo,gl,GN,qN,wp,Yo,gl,GN,qN]}),n})();class Kw{}class s1{}class Uu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===l.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class A2{encodeKey(e){return zN(e)}encodeValue(e){return zN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const O2=/%(\d[a-f0-9])/gi,M2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zN(n){return encodeURIComponent(n).replace(O2,(e,t)=>M2[t]??e)}function Zw(n){return`${n}`}class wd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new A2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,g]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],_=t.get(d)||[];_.push(g),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Zw):[Zw(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Zw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Zw(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function WN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KN(n){return typeof Blob<"u"&&n instanceof Blob}function ZN(n){return typeof FormData<"u"&&n instanceof FormData}class T_{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function R2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Uu),this.context||(this.context=new N2),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new wd,this.urlWithParams=t}serializeBody(){return null===this.body?null:WN(this.body)||KN(this.body)||ZN(this.body)||function P2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZN(this.body)?null:KN(this.body)?this.body.type||null:WN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,P=e.params||this.params;const W=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((le,be)=>le.set(be,e.setHeaders[be]),_)),e.setParams&&(P=Object.keys(e.setParams).reduce((le,be)=>le.set(be,e.setParams[be]),P)),new T_(t,r,l,{params:P,headers:_,context:W,reportProgress:g,responseType:o,withCredentials:d})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class a1{constructor(e,t=200,r="OK"){this.headers=e.headers||new Uu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class l1 extends a1{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new l1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yw extends a1{constructor(e={}){super(e),this.type=ei.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YN extends a1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function u1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let k2=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof T_)l=t;else{let _,P;_=o.headers instanceof Uu?o.headers:new Uu(o.headers),o.params&&(P=o.params instanceof wd?o.params:new wd({fromObject:o.params})),l=new T_(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:P,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=Et(l).pipe(ia(_=>this.handler.handle(_)));if(t instanceof T_||"events"===o.observe)return d;const g=d.pipe($i(_=>_ instanceof Yw));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,Bt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,Bt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,Bt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,Bt.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new wd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,u1(o,r))}post(t,r,o={}){return this.request("POST",t,u1(o,r))}put(t,r,o={}){return this.request("PUT",t,u1(o,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function QN(n,e){return e(n)}function L2(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const V2=new c.OlP("HTTP_INTERCEPTORS"),D_=new c.OlP("HTTP_INTERCEPTOR_FNS");function U2(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(V2,{optional:!0})??[]).reduceRight(L2,QN)),n(e,t))}let JN=(()=>{class n extends Kw{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(D_)));this.chain=r.reduceRight((o,l)=>function F2(n,e,t){return(r,o)=>t.runInContext(()=>e(r,l=>n(l,o)))}(o,l,this.injector),QN)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(s1),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $2=/^\)\]\}',?\n/;let eR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oi.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((xe,Le)=>o.setRequestHeader(xe,Le.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const xe=t.detectContentTypeHeader();null!==xe&&o.setRequestHeader("Content-Type",xe)}if(t.responseType){const xe=t.responseType.toLowerCase();o.responseType="json"!==xe?xe:"text"}const l=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const xe=o.statusText||"OK",Le=new Uu(o.getAllResponseHeaders()),Ze=function q2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new l1({headers:Le,status:o.status,statusText:xe,url:Ze}),d},_=()=>{let{headers:xe,status:Le,statusText:Ze,url:rt}=g(),Lt=null;204!==Le&&(Lt=typeof o.response>"u"?o.responseText:o.response),0===Le&&(Le=Lt?200:0);let Xt=Le>=200&&Le<300;if("json"===t.responseType&&"string"==typeof Lt){const nn=Lt;Lt=Lt.replace($2,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(en){Lt=nn,Xt&&(Xt=!1,Lt={error:en,text:Lt})}}Xt?(r.next(new Yw({body:Lt,headers:xe,status:Le,statusText:Ze,url:rt||void 0})),r.complete()):r.error(new YN({error:Lt,headers:xe,status:Le,statusText:Ze,url:rt||void 0}))},P=xe=>{const{url:Le}=g(),Ze=new YN({error:xe,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Le||void 0});r.error(Ze)};let W=!1;const le=xe=>{W||(r.next(g()),W=!0);let Le={type:ei.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(Le.total=xe.total),"text"===t.responseType&&o.responseText&&(Le.partialText=o.responseText),r.next(Le)},be=xe=>{let Le={type:ei.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(Le.total=xe.total),r.next(Le)};return o.addEventListener("load",_),o.addEventListener("error",P),o.addEventListener("timeout",P),o.addEventListener("abort",P),t.reportProgress&&(o.addEventListener("progress",le),null!==l&&o.upload&&o.upload.addEventListener("progress",be)),o.send(l),r.next({type:ei.Sent}),()=>{o.removeEventListener("error",P),o.removeEventListener("abort",P),o.removeEventListener("load",_),o.removeEventListener("timeout",P),t.reportProgress&&(o.removeEventListener("progress",le),null!==l&&o.upload&&o.upload.removeEventListener("progress",be)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Oa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const c1=new c.OlP("XSRF_ENABLED"),tR="XSRF-TOKEN",nR=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>tR}),rR="X-XSRF-TOKEN",iR=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>rR});class oR{}let G2=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(j),c.LFG(c.Lbi),c.LFG(nR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function z2(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(c1)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(oR).getToken(),o=(0,c.f3M)(iR);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Lr=(()=>((Lr=Lr||{})[Lr.Interceptors=0]="Interceptors",Lr[Lr.LegacyInterceptors=1]="LegacyInterceptors",Lr[Lr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Lr[Lr.NoXsrfProtection=3]="NoXsrfProtection",Lr[Lr.JsonpSupport=4]="JsonpSupport",Lr[Lr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Lr))();function tm(n,e){return{\u0275kind:n,\u0275providers:e}}function W2(...n){const e=[k2,eR,JN,{provide:Kw,useExisting:JN},{provide:s1,useExisting:eR},{provide:D_,useValue:z2,multi:!0},{provide:c1,useValue:!0},{provide:oR,useClass:G2}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const sR=new c.OlP("LEGACY_INTERCEPTOR_FN");function Z2({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:nR,useValue:n}),void 0!==e&&t.push({provide:iR,useValue:e}),tm(Lr.CustomXsrfConfiguration,t)}let Y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[W2(tm(Lr.LegacyInterceptors,[{provide:sR,useFactory:U2},{provide:D_,useExisting:sR,multi:!0}]),Z2({cookieName:tR,headerName:rR}))]}),n})();const Q2=["cb"],J2=function(n,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t}};function X2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",7),c.NdJ("click",function(o){c.CHM(t);const l=c.oxw(),d=c.MAs(3);return c.KtG(l.onClick(o,d,!0))}),c._uU(1),c.qZA()}if(2&n){const t=c.oxw();c.Tol(t.labelStyleClass),c.Q6J("ngClass",c.kEZ(5,J2,t.checked(),t.disabled,t.focused)),c.uIk("for",t.inputId),c.xp6(1),c.Oqu(t.label)}}const eV=function(n,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t}},tV=function(n,e,t){return{"p-highlight":n,"p-disabled":e,"p-focus":t}},nV={provide:lo,useExisting:(0,c.Gpc)(()=>rV),multi:!0};let rV=(()=>{class n{constructor(t){this.cd=t,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(t,r,o){t.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(t),o&&r.focus())}updateModel(t){let r;this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(r=this.checked()?this.model.filter(o=>!bu.equals(o,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:bu.contains(this.value,this.model)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-checkbox"]],viewQuery:function(t,r){if(1&t&&c.Gf(Q2,5),2&t){let o;c.iGM(o=c.CRH())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[c._Bn([nV])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,r){if(1&t){const o=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),c.NdJ("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("change",function(d){return r.handleChange(d)}),c.qZA()(),c.TgZ(4,"div",4),c.NdJ("click",function(d){c.CHM(o);const g=c.MAs(3);return c.KtG(r.onClick(d,g,!0))}),c._UZ(5,"span",5),c.qZA()(),c.YNc(6,X2,2,9,"label",6)}2&t&&(c.Tol(r.styleClass),c.Q6J("ngStyle",r.style)("ngClass",c.kEZ(18,eV,r.checked(),r.disabled,r.focused)),c.xp6(2),c.Q6J("readonly",r.readonly)("value",r.value)("checked",r.checked())("disabled",r.disabled),c.uIk("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-checked",r.checked())("required",r.required),c.xp6(2),c.Q6J("ngClass",c.kEZ(22,tV,r.checked(),r.disabled,r.focused)),c.xp6(1),c.Q6J("ngClass",r.checked()?r.checkboxIcon:null),c.xp6(1),c.Q6J("ngIf",r.label))},dependencies:[kt,ii,Qn],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dr]}),n})();class nm{}nm.\u0275fac=function(e){return new(e||nm)},nm.\u0275mod=c.oAB({type:nm,bootstrap:[I_]}),nm.\u0275inj=c.cJS({imports:[rc,em,ND,gl,cl.hO.initializeApp($N_firebase),function F0(n,...e){return{ngModule:ao,providers:[{provide:dp,useFactory:XI(n),multi:!0,deps:[c.R0b,c.zs3,An.HU,...e]}]}}(()=>U0($N_firebase)),function lE(n,...e){return{ngModule:aE,providers:[{provide:rv,useFactory:PD(n),multi:!0,deps:[c.R0b,c.zs3,An.HU,Hm,[new c.FiY,Cf],...e]}]}}(()=>ix()),function lF(n,...e){return{ngModule:aF,providers:[{provide:n1,useFactory:iF(n),multi:!0,deps:[c.R0b,c.zs3,An.HU,Hm,[new c.FiY,RD],[new c.FiY,Cf],...e]}]}}(()=>pF()),OD,GF,nE,S2,Y2,iV,wp,OF,RF]}),Mh().bootstrapModule(nm).catch(n=>console.error(n))},9971:function(Tt){typeof self<"u"&&self,Tt.exports=function(ge){var N={};function c(z){if(N[z])return N[z].exports;var q=N[z]={i:z,l:!1,exports:{}};return ge[z].call(q.exports,q,q.exports,c),q.l=!0,q.exports}return c.m=ge,c.c=N,c.d=function(z,q,Q){c.o(z,q)||Object.defineProperty(z,q,{configurable:!1,enumerable:!0,get:Q})},c.n=function(z){var q=z&&z.__esModule?function(){return z.default}:function(){return z};return c.d(q,"a",q),q},c.o=function(z,q){return Object.prototype.hasOwnProperty.call(z,q)},c.p="",c(c.s=109)}([function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=c(17),q=c(18),Q=c(19),B=c(45),j=c(46),U=c(47),A=c(48),I=c(49),v=c(12),C=c(32),D=c(33),R=c(31),S=c(1);N.default={Scope:S.Scope,create:S.create,find:S.find,query:S.query,register:S.register,Container:z.default,Format:q.default,Leaf:Q.default,Embed:A.default,Scroll:B.default,Block:U.default,Inline:j.default,Text:I.default,Attributor:{Attribute:v.default,Class:C.default,Style:D.default,Store:R.default}}},function(ge,N,c){"use strict";var R,z=this&&this.__extends||(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var V in x)x.hasOwnProperty(V)&&(S[V]=x[V])},function(S,x){function V(){this.constructor=S}R(S,x),S.prototype=null===x?Object.create(x):(V.prototype=x.prototype,new V)});Object.defineProperty(N,"__esModule",{value:!0});var q=function(R){function S(x){var V=this;return(V=R.call(this,x="[Parchment] "+x)||this).message=x,V.name=V.constructor.name,V}return z(S,R),S}(Error);N.ParchmentError=q;var A,Q={},B={},j={},U={};function C(R,S){var x;if(void 0===S&&(S=A.ANY),"string"==typeof R)x=U[R]||Q[R];else if(R instanceof Text||R.nodeType===Node.TEXT_NODE)x=U.text;else if("number"==typeof R)R&A.LEVEL&A.BLOCK?x=U.block:R&A.LEVEL&A.INLINE&&(x=U.inline);else if(R instanceof HTMLElement){var V=(R.getAttribute("class")||"").split(/\s+/);for(var w in V)if(x=B[V[w]])break;x=x||j[R.tagName]}return null==x?null:S&A.LEVEL&x.scope&&S&A.TYPE&x.scope?x:null}N.DATA_KEY="__blot",function(R){R[R.TYPE=3]="TYPE",R[R.LEVEL=12]="LEVEL",R[R.ATTRIBUTE=13]="ATTRIBUTE",R[R.BLOT=14]="BLOT",R[R.INLINE=7]="INLINE",R[R.BLOCK=11]="BLOCK",R[R.BLOCK_BLOT=10]="BLOCK_BLOT",R[R.INLINE_BLOT=6]="INLINE_BLOT",R[R.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",R[R.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",R[R.ANY=15]="ANY"}(A=N.Scope||(N.Scope={})),N.create=function I(R,S){var x=C(R);if(null==x)throw new q("Unable to create "+R+" blot");var V=x,w=R instanceof Node||R.nodeType===Node.TEXT_NODE?R:V.create(S);return new V(w,S)},N.find=function v(R,S){return void 0===S&&(S=!1),null==R?null:null!=R[N.DATA_KEY]?R[N.DATA_KEY].blot:S?v(R.parentNode,S):null},N.query=C,N.register=function D(){for(var R=[],S=0;S<arguments.length;S++)R[S]=arguments[S];if(R.length>1)return R.map(function(w){return D(w)});var x=R[0];if("string"!=typeof x.blotName&&"string"!=typeof x.attrName)throw new q("Invalid definition");if("abstract"===x.blotName)throw new q("Cannot register abstract class");return U[x.blotName||x.attrName]=x,"string"==typeof x.keyName?Q[x.keyName]=x:(null!=x.className&&(B[x.className]=x),null!=x.tagName&&(x.tagName=Array.isArray(x.tagName)?x.tagName.map(function(w){return w.toUpperCase()}):x.tagName.toUpperCase(),(Array.isArray(x.tagName)?x.tagName:[x.tagName]).forEach(function(w){(null==j[w]||null==x.className)&&(j[w]=x)}))),x}},function(ge,N,c){var z=c(51),q=c(11),Q=c(3),B=c(20),j=String.fromCharCode(0),U=function(A){this.ops=Array.isArray(A)?A:null!=A&&Array.isArray(A.ops)?A.ops:[]};U.prototype.insert=function(A,I){var v={};return 0===A.length?this:(v.insert=A,null!=I&&"object"==typeof I&&Object.keys(I).length>0&&(v.attributes=I),this.push(v))},U.prototype.delete=function(A){return A<=0?this:this.push({delete:A})},U.prototype.retain=function(A,I){if(A<=0)return this;var v={retain:A};return null!=I&&"object"==typeof I&&Object.keys(I).length>0&&(v.attributes=I),this.push(v)},U.prototype.push=function(A){var I=this.ops.length,v=this.ops[I-1];if(A=Q(!0,{},A),"object"==typeof v){if("number"==typeof A.delete&&"number"==typeof v.delete)return this.ops[I-1]={delete:v.delete+A.delete},this;if("number"==typeof v.delete&&null!=A.insert&&"object"!=typeof(v=this.ops[(I-=1)-1]))return this.ops.unshift(A),this;if(q(A.attributes,v.attributes)){if("string"==typeof A.insert&&"string"==typeof v.insert)return this.ops[I-1]={insert:v.insert+A.insert},"object"==typeof A.attributes&&(this.ops[I-1].attributes=A.attributes),this;if("number"==typeof A.retain&&"number"==typeof v.retain)return this.ops[I-1]={retain:v.retain+A.retain},"object"==typeof A.attributes&&(this.ops[I-1].attributes=A.attributes),this}}return I===this.ops.length?this.ops.push(A):this.ops.splice(I,0,A),this},U.prototype.chop=function(){var A=this.ops[this.ops.length-1];return A&&A.retain&&!A.attributes&&this.ops.pop(),this},U.prototype.filter=function(A){return this.ops.filter(A)},U.prototype.forEach=function(A){this.ops.forEach(A)},U.prototype.map=function(A){return this.ops.map(A)},U.prototype.partition=function(A){var I=[],v=[];return this.forEach(function(C){(A(C)?I:v).push(C)}),[I,v]},U.prototype.reduce=function(A,I){return this.ops.reduce(A,I)},U.prototype.changeLength=function(){return this.reduce(function(A,I){return I.insert?A+B.length(I):I.delete?A-I.delete:A},0)},U.prototype.length=function(){return this.reduce(function(A,I){return A+B.length(I)},0)},U.prototype.slice=function(A,I){A=A||0,"number"!=typeof I&&(I=1/0);for(var v=[],C=B.iterator(this.ops),D=0;D<I&&C.hasNext();){var R;D<A?R=C.next(A-D):(R=C.next(I-D),v.push(R)),D+=B.length(R)}return new U(v)},U.prototype.compose=function(A){var I=B.iterator(this.ops),v=B.iterator(A.ops),C=[],D=v.peek();if(null!=D&&"number"==typeof D.retain&&null==D.attributes){for(var R=D.retain;"insert"===I.peekType()&&I.peekLength()<=R;)R-=I.peekLength(),C.push(I.next());D.retain-R>0&&v.next(D.retain-R)}for(var S=new U(C);I.hasNext()||v.hasNext();)if("insert"===v.peekType())S.push(v.next());else if("delete"===I.peekType())S.push(I.next());else{var x=Math.min(I.peekLength(),v.peekLength()),V=I.next(x),w=v.next(x);if("number"==typeof w.retain){var L={};"number"==typeof V.retain?L.retain=x:L.insert=V.insert;var X=B.attributes.compose(V.attributes,w.attributes,"number"==typeof V.retain);if(X&&(L.attributes=X),S.push(L),!v.hasNext()&&q(S.ops[S.ops.length-1],L)){var Z=new U(I.rest());return S.concat(Z).chop()}}else"number"==typeof w.delete&&"number"==typeof V.retain&&S.push(w)}return S.chop()},U.prototype.concat=function(A){var I=new U(this.ops.slice());return A.ops.length>0&&(I.push(A.ops[0]),I.ops=I.ops.concat(A.ops.slice(1))),I},U.prototype.diff=function(A,I){if(this.ops===A.ops)return new U;var v=[this,A].map(function(x){return x.map(function(V){if(null!=V.insert)return"string"==typeof V.insert?V.insert:j;throw new Error("diff() called "+(x===A?"on":"with")+" non-document")}).join("")}),C=new U,D=z(v[0],v[1],I),R=B.iterator(this.ops),S=B.iterator(A.ops);return D.forEach(function(x){for(var V=x[1].length;V>0;){var w=0;switch(x[0]){case z.INSERT:w=Math.min(S.peekLength(),V),C.push(S.next(w));break;case z.DELETE:w=Math.min(V,R.peekLength()),R.next(w),C.delete(w);break;case z.EQUAL:w=Math.min(R.peekLength(),S.peekLength(),V);var L=R.next(w),X=S.next(w);q(L.insert,X.insert)?C.retain(w,B.attributes.diff(L.attributes,X.attributes)):C.push(X).delete(w)}V-=w}}),C.chop()},U.prototype.eachLine=function(A,I){I=I||"\n";for(var v=B.iterator(this.ops),C=new U,D=0;v.hasNext();){if("insert"!==v.peekType())return;var R=v.peek(),S=B.length(R)-v.peekLength(),x="string"==typeof R.insert?R.insert.indexOf(I,S)-S:-1;if(x<0)C.push(v.next());else if(x>0)C.push(v.next(x));else{if(!1===A(C,v.next(1).attributes||{},D))return;D+=1,C=new U}}C.length()>0&&A(C,{},D)},U.prototype.transform=function(A,I){if(I=!!I,"number"==typeof A)return this.transformPosition(A,I);for(var v=B.iterator(this.ops),C=B.iterator(A.ops),D=new U;v.hasNext()||C.hasNext();)if("insert"!==v.peekType()||!I&&"insert"===C.peekType())if("insert"===C.peekType())D.push(C.next());else{var R=Math.min(v.peekLength(),C.peekLength()),S=v.next(R),x=C.next(R);if(S.delete)continue;x.delete?D.push(x):D.retain(R,B.attributes.transform(S.attributes,x.attributes,I))}else D.retain(B.length(v.next()));return D.chop()},U.prototype.transformPosition=function(A,I){I=!!I;for(var v=B.iterator(this.ops),C=0;v.hasNext()&&C<=A;){var D=v.peekLength(),R=v.peekType();v.next(),"delete"!==R?("insert"===R&&(C<A||!I)&&(A+=D),C+=D):A-=Math.min(D,A-C)}return A},ge.exports=U},function(ge,N){"use strict";var c=Object.prototype.hasOwnProperty,z=Object.prototype.toString,q=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,B=function(v){return"function"==typeof Array.isArray?Array.isArray(v):"[object Array]"===z.call(v)},j=function(v){if(!v||"[object Object]"!==z.call(v))return!1;var R,C=c.call(v,"constructor"),D=v.constructor&&v.constructor.prototype&&c.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!C&&!D)return!1;for(R in v);return typeof R>"u"||c.call(v,R)},U=function(v,C){q&&"__proto__"===C.name?q(v,C.name,{enumerable:!0,configurable:!0,value:C.newValue,writable:!0}):v[C.name]=C.newValue},A=function(v,C){if("__proto__"===C){if(!c.call(v,C))return;if(Q)return Q(v,C).value}return v[C]};ge.exports=function I(){var v,C,D,R,S,x,V=arguments[0],w=1,L=arguments.length,X=!1;for("boolean"==typeof V&&(X=V,V=arguments[1]||{},w=2),(null==V||"object"!=typeof V&&"function"!=typeof V)&&(V={});w<L;++w)if(null!=(v=arguments[w]))for(C in v)D=A(V,C),V!==(R=A(v,C))&&(X&&R&&(j(R)||(S=B(R)))?(S?(S=!1,x=D&&B(D)?D:[]):x=D&&j(D)?D:{},U(V,{name:C,newValue:I(X,x,R)})):typeof R<"u"&&U(V,{name:C,newValue:R}));return V}},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.BlockEmbed=N.bubbleFormats=void 0;var z=function(){function H(F,K){for(var ne=0;ne<K.length;ne++){var fe=K[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(F,fe.key,fe)}}return function(F,K,ne){return K&&H(F.prototype,K),ne&&H(F,ne),F}}(),q=function H(F,K,ne){null===F&&(F=Function.prototype);var fe=Object.getOwnPropertyDescriptor(F,K);if(void 0===fe){var me=Object.getPrototypeOf(F);return null===me?void 0:H(me,K,ne)}if("value"in fe)return fe.value;var Ie=fe.get;return void 0===Ie?void 0:Ie.call(ne)},B=V(c(3)),U=V(c(2)),I=V(c(0)),C=V(c(16)),R=V(c(6)),x=V(c(7));function V(H){return H&&H.__esModule?H:{default:H}}function w(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")}function L(H,F){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?H:F}function X(H,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);H.prototype=Object.create(F&&F.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(H,F):H.__proto__=F)}var Y=function(H){function F(){return w(this,F),L(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return X(F,H),z(F,[{key:"attach",value:function(){q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"attach",this).call(this),this.attributes=new I.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new U.default).insert(this.value(),(0,B.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(ne,fe){var me=I.default.query(ne,I.default.Scope.BLOCK_ATTRIBUTE);null!=me&&this.attributes.attribute(me,fe)}},{key:"formatAt",value:function(ne,fe,me,Ie){this.format(me,Ie)}},{key:"insertAt",value:function(ne,fe,me){if("string"==typeof fe&&fe.endsWith("\n")){var Ie=I.default.create(re.blotName);this.parent.insertBefore(Ie,0===ne?this:this.next),Ie.insertAt(0,fe.slice(0,-1))}else q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,ne,fe,me)}}]),F}(I.default.Embed);Y.scope=I.default.Scope.BLOCK_BLOT;var re=function(H){function F(K){w(this,F);var ne=L(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K));return ne.cache={},ne}return X(F,H),z(F,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(I.default.Leaf).reduce(function(ne,fe){return 0===fe.length()?ne:ne.insert(fe.value(),G(fe))},new U.default).insert("\n",G(this))),this.cache.delta}},{key:"deleteAt",value:function(ne,fe){q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"deleteAt",this).call(this,ne,fe),this.cache={}}},{key:"formatAt",value:function(ne,fe,me,Ie){fe<=0||(I.default.query(me,I.default.Scope.BLOCK)?ne+fe===this.length()&&this.format(me,Ie):q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"formatAt",this).call(this,ne,Math.min(fe,this.length()-ne-1),me,Ie),this.cache={})}},{key:"insertAt",value:function(ne,fe,me){if(null!=me)return q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,ne,fe,me);if(0!==fe.length){var Ie=fe.split("\n"),Ne=Ie.shift();Ne.length>0&&(ne<this.length()-1||null==this.children.tail?q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertAt",this).call(this,Math.min(ne,this.length()-1),Ne):this.children.tail.insertAt(this.children.tail.length(),Ne),this.cache={});var ue=this;Ie.reduce(function(oe,J){return(ue=ue.split(oe,!0)).insertAt(0,J),J.length},ne+Ne.length)}}},{key:"insertBefore",value:function(ne,fe){var me=this.children.head;q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertBefore",this).call(this,ne,fe),me instanceof C.default&&me.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(ne,fe){q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"moveChildren",this).call(this,ne,fe),this.cache={}}},{key:"optimize",value:function(ne){q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,ne),this.cache={}}},{key:"path",value:function(ne){return q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"path",this).call(this,ne,!0)}},{key:"removeChild",value:function(ne){q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"removeChild",this).call(this,ne),this.cache={}}},{key:"split",value:function(ne){var fe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(fe&&(0===ne||ne>=this.length()-1)){var me=this.clone();return 0===ne?(this.parent.insertBefore(me,this),this):(this.parent.insertBefore(me,this.next),me)}var Ie=q(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"split",this).call(this,ne,fe);return this.cache={},Ie}}]),F}(I.default.Block);function G(H){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==H||("function"==typeof H.formats&&(F=(0,B.default)(F,H.formats())),null==H.parent||"scroll"==H.parent.blotName||H.parent.statics.scope!==H.statics.scope)?F:G(H.parent,F)}re.blotName="block",re.tagName="P",re.defaultChild="break",re.allowedChildren=[R.default,I.default.Embed,x.default],N.bubbleFormats=G,N.BlockEmbed=Y,N.default=re},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.overload=N.expandConfig=void 0;var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},q=function(oe,J){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return function ue(oe,J){var se=[],ce=!0,ye=!1,_e=void 0;try{for(var we,ae=oe[Symbol.iterator]();!(ce=(we=ae.next()).done)&&(se.push(we.value),!J||se.length!==J);ce=!0);}catch(Ce){ye=!0,_e=Ce}finally{try{!ce&&ae.return&&ae.return()}finally{if(ye)throw _e}}return se}(oe,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function ue(oe,J){for(var se=0;se<J.length;se++){var ce=J[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(oe,ce.key,ce)}}return function(oe,J,se){return J&&ue(oe.prototype,J),se&&ue(oe,se),oe}}();c(50);var j=G(c(2)),A=G(c(14)),v=G(c(8)),D=G(c(9)),S=G(c(0)),x=c(15),V=G(x),L=G(c(3)),Z=G(c(10)),re=G(c(34));function G(ue){return ue&&ue.__esModule?ue:{default:ue}}function H(ue,oe,J){return oe in ue?Object.defineProperty(ue,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):ue[oe]=J,ue}function F(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")}var K=(0,Z.default)("quill"),ne=function(){function ue(oe){var J=this,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F(this,ue),this.options=fe(oe,se),this.container=this.options.container,null==this.container)return K.error("Invalid Quill container",oe);this.options.debug&&ue.debug(this.options.debug);var ce=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=S.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new A.default(this.scroll),this.selection=new V.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(_e){_e===v.default.events.TEXT_CHANGE&&J.root.classList.toggle("ql-blank",J.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(_e,ae){var we=J.selection.lastRange,Ce=we&&0===we.length?we.index:void 0;me.call(J,function(){return J.editor.update(null,ae,Ce)},_e)});var ye=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+ce+"<p><br></p></div>");this.setContents(ye),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return Q(ue,null,[{key:"debug",value:function(J){!0===J&&(J="log"),Z.default.level(J)}},{key:"find",value:function(J){return J.__quill||S.default.find(J)}},{key:"import",value:function(J){return null==this.imports[J]&&K.error("Cannot import "+J+". Are you sure it was registered?"),this.imports[J]}},{key:"register",value:function(J,se){var ce=this,ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof J){var _e=J.attrName||J.blotName;"string"==typeof _e?this.register("formats/"+_e,J,se):Object.keys(J).forEach(function(ae){ce.register(ae,J[ae],se)})}else null!=this.imports[J]&&!ye&&K.warn("Overwriting "+J+" with",se),this.imports[J]=se,(J.startsWith("blots/")||J.startsWith("formats/"))&&"abstract"!==se.blotName?S.default.register(se):J.startsWith("modules")&&"function"==typeof se.register&&se.register()}}]),Q(ue,[{key:"addContainer",value:function(J){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof J){var ce=J;(J=document.createElement("div")).classList.add(ce)}return this.container.insertBefore(J,se),J}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(J,se,ce){var ye=this,_e=Ie(J,se,ce),ae=q(_e,4);return me.call(this,function(){return ye.editor.deleteText(J,se)},ce=ae[3],J=ae[0],-1*(se=ae[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var J=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(J),this.container.classList.toggle("ql-disabled",!J)}},{key:"focus",value:function(){var J=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=J,this.scrollIntoView()}},{key:"format",value:function(J,se){var ce=this;return me.call(this,function(){var _e=ce.getSelection(!0),ae=new j.default;if(null==_e)return ae;if(S.default.query(J,S.default.Scope.BLOCK))ae=ce.editor.formatLine(_e.index,_e.length,H({},J,se));else{if(0===_e.length)return ce.selection.format(J,se),ae;ae=ce.editor.formatText(_e.index,_e.length,H({},J,se))}return ce.setSelection(_e,v.default.sources.SILENT),ae},arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.default.sources.API)}},{key:"formatLine",value:function(J,se,ce,ye,_e){var we,ae=this,Ce=Ie(J,se,ce,ye,_e),Se=q(Ce,4);return se=Se[1],we=Se[2],me.call(this,function(){return ae.editor.formatLine(J,se,we)},_e=Se[3],J=Se[0],0)}},{key:"formatText",value:function(J,se,ce,ye,_e){var we,ae=this,Ce=Ie(J,se,ce,ye,_e),Se=q(Ce,4);return se=Se[1],we=Se[2],me.call(this,function(){return ae.editor.formatText(J,se,we)},_e=Se[3],J=Se[0],0)}},{key:"getBounds",value:function(J){var ce=void 0;ce="number"==typeof J?this.selection.getBounds(J,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(J.index,J.length);var ye=this.container.getBoundingClientRect();return{bottom:ce.bottom-ye.top,height:ce.height,left:ce.left-ye.left,right:ce.right-ye.left,top:ce.top-ye.top,width:ce.width}}},{key:"getContents",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-J,ce=Ie(J,se),ye=q(ce,2);return this.editor.getContents(J=ye[0],se=ye[1])}},{key:"getFormat",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof J?this.editor.getFormat(J,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(J.index,J.length)}},{key:"getIndex",value:function(J){return J.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(J){return this.scroll.leaf(J)}},{key:"getLine",value:function(J){return this.scroll.line(J)}},{key:"getLines",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof J?this.scroll.lines(J.index,J.length):this.scroll.lines(J,se)}},{key:"getModule",value:function(J){return this.theme.modules[J]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-J,ce=Ie(J,se),ye=q(ce,2);return this.editor.getText(J=ye[0],se=ye[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(J,se,ce){var ye=this;return me.call(this,function(){return ye.editor.insertEmbed(J,se,ce)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue.sources.API,J)}},{key:"insertText",value:function(J,se,ce,ye,_e){var we,ae=this,Ce=Ie(J,0,ce,ye,_e),Se=q(Ce,4);return we=Se[2],me.call(this,function(){return ae.editor.insertText(J,se,we)},_e=Se[3],J=Se[0],se.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(J,se,ce){this.clipboard.dangerouslyPasteHTML(J,se,ce)}},{key:"removeFormat",value:function(J,se,ce){var ye=this,_e=Ie(J,se,ce),ae=q(_e,4);return se=ae[1],me.call(this,function(){return ye.editor.removeFormat(J,se)},ce=ae[3],J=ae[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(J){var se=this;return me.call(this,function(){J=new j.default(J);var ye=se.getLength(),_e=se.editor.deleteText(0,ye),ae=se.editor.applyDelta(J),we=ae.ops[ae.ops.length-1];return null!=we&&"string"==typeof we.insert&&"\n"===we.insert[we.insert.length-1]&&(se.editor.deleteText(se.getLength()-1,1),ae.delete(1)),_e.compose(ae)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default.sources.API)}},{key:"setSelection",value:function(J,se,ce){if(null==J)this.selection.setRange(null,se||ue.sources.API);else{var ye=Ie(J,se,ce),_e=q(ye,4);ce=_e[3],this.selection.setRange(new x.Range(J=_e[0],se=_e[1]),ce),ce!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(J){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default.sources.API,ce=(new j.default).insert(J);return this.setContents(ce,se)}},{key:"update",value:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.default.sources.USER,se=this.scroll.update(J);return this.selection.update(J),se}},{key:"updateContents",value:function(J){var se=this,ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default.sources.API;return me.call(this,function(){return J=new j.default(J),se.editor.applyDelta(J,ce)},ce,!0)}}]),ue}();function fe(ue,oe){if((oe=(0,L.default)(!0,{container:ue,modules:{clipboard:!0,keyboard:!0,history:!0}},oe)).theme&&oe.theme!==ne.DEFAULTS.theme){if(oe.theme=ne.import("themes/"+oe.theme),null==oe.theme)throw new Error("Invalid theme "+oe.theme+". Did you register it?")}else oe.theme=re.default;var J=(0,L.default)(!0,{},oe.theme.DEFAULTS);[J,oe].forEach(function(ye){ye.modules=ye.modules||{},Object.keys(ye.modules).forEach(function(_e){!0===ye.modules[_e]&&(ye.modules[_e]={})})});var ce=Object.keys(J.modules).concat(Object.keys(oe.modules)).reduce(function(ye,_e){var ae=ne.import("modules/"+_e);return null==ae?K.error("Cannot load "+_e+" module. Are you sure you registered it?"):ye[_e]=ae.DEFAULTS||{},ye},{});return null!=oe.modules&&oe.modules.toolbar&&oe.modules.toolbar.constructor!==Object&&(oe.modules.toolbar={container:oe.modules.toolbar}),oe=(0,L.default)(!0,{},ne.DEFAULTS,{modules:ce},J,oe),["bounds","container","scrollingContainer"].forEach(function(ye){"string"==typeof oe[ye]&&(oe[ye]=document.querySelector(oe[ye]))}),oe.modules=Object.keys(oe.modules).reduce(function(ye,_e){return oe.modules[_e]&&(ye[_e]=oe.modules[_e]),ye},{}),oe}function me(ue,oe,J,se){if(this.options.strict&&!this.isEnabled()&&oe===v.default.sources.USER)return new j.default;var ce=null==J?null:this.getSelection(),ye=this.editor.delta,_e=ue();if(null!=ce&&(!0===J&&(J=ce.index),null==se?ce=Ne(ce,_e,oe):0!==se&&(ce=Ne(ce,J,se,oe)),this.setSelection(ce,v.default.sources.SILENT)),_e.length()>0){var ae,Ce,we=[v.default.events.TEXT_CHANGE,_e,ye,oe];(ae=this.emitter).emit.apply(ae,[v.default.events.EDITOR_CHANGE].concat(we)),oe!==v.default.sources.SILENT&&(Ce=this.emitter).emit.apply(Ce,we)}return _e}function Ie(ue,oe,J,se,ce){var ye={};return"number"==typeof ue.index&&"number"==typeof ue.length?"number"!=typeof oe?(ce=se,se=J,J=oe,oe=ue.length,ue=ue.index):(oe=ue.length,ue=ue.index):"number"!=typeof oe&&(ce=se,se=J,J=oe,oe=0),"object"===(typeof J>"u"?"undefined":z(J))?(ye=J,ce=se):"string"==typeof J&&(null!=se?ye[J]=se:ce=J),[ue,oe,ye,ce=ce||v.default.sources.API]}function Ne(ue,oe,J,se){if(null==ue)return null;var ce=void 0,ye=void 0;if(oe instanceof j.default){var _e=[ue.index,ue.index+ue.length].map(function(Se){return oe.transformPosition(Se,se!==v.default.sources.USER)}),ae=q(_e,2);ce=ae[0],ye=ae[1]}else{var we=[ue.index,ue.index+ue.length].map(function(Se){return Se<oe||Se===oe&&se===v.default.sources.USER?Se:J>=0?Se+J:Math.max(oe,Se+J)}),Ce=q(we,2);ce=Ce[0],ye=Ce[1]}return new x.Range(ce,ye-ce)}ne.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},ne.events=v.default.events,ne.sources=v.default.sources,ne.version="1.3.7",ne.imports={delta:j.default,parchment:S.default,"core/module":D.default,"core/theme":re.default},N.expandConfig=fe,N.overload=Ie,N.default=ne},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function R(S,x){for(var V=0;V<x.length;V++){var w=x[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,x,V){return x&&R(S.prototype,x),V&&R(S,V),S}}(),q=function R(S,x,V){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,x);if(void 0===w){var L=Object.getPrototypeOf(S);return null===L?void 0:R(L,x,V)}if("value"in w)return w.value;var X=w.get;return void 0===X?void 0:X.call(V)},B=A(c(7)),U=A(c(0));function A(R){return R&&R.__esModule?R:{default:R}}function I(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function v(R,S){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?R:S}var D=function(R){function S(){return I(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function C(R,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(R,S):R.__proto__=S)}(S,R),z(S,[{key:"formatAt",value:function(V,w,L,X){if(S.compare(this.statics.blotName,L)<0&&U.default.query(L,U.default.Scope.BLOT)){var Z=this.isolate(V,w);X&&Z.wrap(L,X)}else q(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,V,w,L,X)}},{key:"optimize",value:function(V){if(q(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,V),this.parent instanceof S&&S.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(V,w){var L=S.order.indexOf(V),X=S.order.indexOf(w);return L>=0||X>=0?L-X:V===w?0:V<w?-1:1}}]),S}(U.default.Inline);D.allowedChildren=[D,U.default.Embed,B.default],D.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],N.default=D},function(ge,N,c){"use strict";function B(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function j(I,v){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?I:v}Object.defineProperty(N,"__esModule",{value:!0});var A=function(I){function v(){return B(this,v),j(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(I,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(I,v):I.__proto__=v)}(v,I),v}(function Q(I){return I&&I.__esModule?I:{default:I}}(c(0)).default.Text);N.default=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function x(V,w){for(var L=0;L<w.length;L++){var X=w[L];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(V,X.key,X)}}return function(V,w,L){return w&&x(V.prototype,w),L&&x(V,L),V}}(),q=function x(V,w,L){null===V&&(V=Function.prototype);var X=Object.getOwnPropertyDescriptor(V,w);if(void 0===X){var Z=Object.getPrototypeOf(V);return null===Z?void 0:x(Z,w,L)}if("value"in X)return X.value;var Y=X.get;return void 0===Y?void 0:Y.call(L)},B=A(c(54));function A(x){return x&&x.__esModule?x:{default:x}}var D=(0,A(c(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(x){document.addEventListener(x,function(){for(var V=arguments.length,w=Array(V),L=0;L<V;L++)w[L]=arguments[L];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(X){var Z;X.__quill&&X.__quill.emitter&&(Z=X.__quill.emitter).handleDOM.apply(Z,w)})})});var S=function(x){function V(){!function I(x,V){if(!(x instanceof V))throw new TypeError("Cannot call a class as a function")}(this,V);var w=function v(x,V){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?x:V}(this,(V.__proto__||Object.getPrototypeOf(V)).call(this));return w.listeners={},w.on("error",D.error),w}return function C(x,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function, not "+typeof V);x.prototype=Object.create(V&&V.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(x,V):x.__proto__=V)}(V,x),z(V,[{key:"emit",value:function(){D.log.apply(D,arguments),q(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(L){for(var X=arguments.length,Z=Array(X>1?X-1:0),Y=1;Y<X;Y++)Z[Y-1]=arguments[Y];(this.listeners[L.type]||[]).forEach(function(re){var G=re.node,H=re.handler;(L.target===G||G.contains(L.target))&&H.apply(void 0,[L].concat(Z))})}},{key:"listenDOM",value:function(L,X,Z){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:X,handler:Z})}}]),V}(B.default);S.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},S.sources={API:"api",SILENT:"silent",USER:"user"},N.default=S},function(ge,N,c){"use strict";function z(Q,B){if(!(Q instanceof B))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(N,"__esModule",{value:!0});var q=function Q(B){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(this,Q),this.quill=B,this.options=j};q.DEFAULTS={},N.default=q},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=["error","warn","log","info"],q="warn";function Q(j){if(z.indexOf(j)<=z.indexOf(q)){for(var U,A=arguments.length,I=Array(A>1?A-1:0),v=1;v<A;v++)I[v-1]=arguments[v];(U=console)[j].apply(U,I)}}function B(j){return z.reduce(function(U,A){return U[A]=Q.bind(console,A,j),U},{})}Q.level=B.level=function(j){q=j},N.default=B},function(ge,N,c){var z=Array.prototype.slice,q=c(52),Q=c(53),B=ge.exports=function(I,v,C){return C||(C={}),I===v||(I instanceof Date&&v instanceof Date?I.getTime()===v.getTime():!I||!v||"object"!=typeof I&&"object"!=typeof v?C.strict?I===v:I==v:function A(I,v,C){var D,R;if(j(I)||j(v)||I.prototype!==v.prototype)return!1;if(Q(I))return!!Q(v)&&(I=z.call(I),v=z.call(v),B(I,v,C));if(U(I)){if(!U(v)||I.length!==v.length)return!1;for(D=0;D<I.length;D++)if(I[D]!==v[D])return!1;return!0}try{var S=q(I),x=q(v)}catch{return!1}if(S.length!=x.length)return!1;for(S.sort(),x.sort(),D=S.length-1;D>=0;D--)if(S[D]!=x[D])return!1;for(D=S.length-1;D>=0;D--)if(!B(I[R=S[D]],v[R],C))return!1;return typeof I==typeof v}(I,v,C))};function j(I){return null==I}function U(I){return!(!I||"object"!=typeof I||"number"!=typeof I.length||"function"!=typeof I.copy||"function"!=typeof I.slice||I.length>0&&"number"!=typeof I[0])}},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=c(1),q=function(){function Q(B,j,U){void 0===U&&(U={}),this.attrName=B,this.keyName=j,this.scope=null!=U.scope?U.scope&z.Scope.LEVEL|z.Scope.TYPE&z.Scope.ATTRIBUTE:z.Scope.ATTRIBUTE,null!=U.whitelist&&(this.whitelist=U.whitelist)}return Q.keys=function(B){return[].map.call(B.attributes,function(j){return j.name})},Q.prototype.add=function(B,j){return!!this.canAdd(B,j)&&(B.setAttribute(this.keyName,j),!0)},Q.prototype.canAdd=function(B,j){return null!=z.query(B,z.Scope.BLOT&(this.scope|z.Scope.TYPE))&&(null==this.whitelist||("string"==typeof j?this.whitelist.indexOf(j.replace(/["']/g,""))>-1:this.whitelist.indexOf(j)>-1))},Q.prototype.remove=function(B){B.removeAttribute(this.keyName)},Q.prototype.value=function(B){var j=B.getAttribute(this.keyName);return this.canAdd(B,j)&&j?j:""},Q}();N.default=q},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.Code=void 0;var z=function(re,G){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return function Y(re,G){var H=[],F=!0,K=!1,ne=void 0;try{for(var me,fe=re[Symbol.iterator]();!(F=(me=fe.next()).done)&&(H.push(me.value),!G||H.length!==G);F=!0);}catch(Ie){K=!0,ne=Ie}finally{try{!F&&fe.return&&fe.return()}finally{if(K)throw ne}}return H}(re,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function(){function Y(re,G){for(var H=0;H<G.length;H++){var F=G[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(re,F.key,F)}}return function(re,G,H){return G&&Y(re.prototype,G),H&&Y(re,H),re}}(),Q=function Y(re,G,H){null===re&&(re=Function.prototype);var F=Object.getOwnPropertyDescriptor(re,G);if(void 0===F){var K=Object.getPrototypeOf(re);return null===K?void 0:Y(K,G,H)}if("value"in F)return F.value;var ne=F.get;return void 0===ne?void 0:ne.call(H)},j=x(c(2)),A=x(c(0)),v=x(c(4)),D=x(c(6)),S=x(c(7));function x(Y){return Y&&Y.__esModule?Y:{default:Y}}function V(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}function w(Y,re){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||"object"!=typeof re&&"function"!=typeof re?Y:re}function L(Y,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,re):Y.__proto__=re)}var X=function(Y){function re(){return V(this,re),w(this,(re.__proto__||Object.getPrototypeOf(re)).apply(this,arguments))}return L(re,Y),re}(D.default);X.blotName="code",X.tagName="CODE";var Z=function(Y){function re(){return V(this,re),w(this,(re.__proto__||Object.getPrototypeOf(re)).apply(this,arguments))}return L(re,Y),q(re,[{key:"delta",value:function(){var H=this,F=this.domNode.textContent;return F.endsWith("\n")&&(F=F.slice(0,-1)),F.split("\n").reduce(function(K,ne){return K.insert(ne).insert("\n",H.formats())},new j.default)}},{key:"format",value:function(H,F){if(H!==this.statics.blotName||!F){var K=this.descendant(S.default,this.length()-1),fe=z(K,1)[0];fe?.deleteAt(fe.length()-1,1),Q(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"format",this).call(this,H,F)}}},{key:"formatAt",value:function(H,F,K,ne){if(0!==F&&null!=A.default.query(K,A.default.Scope.BLOCK)&&(K!==this.statics.blotName||ne!==this.statics.formats(this.domNode))){var fe=this.newlineIndex(H);if(!(fe<0||fe>=H+F)){var me=this.newlineIndex(H,!0)+1,Ie=fe-me+1,Ne=this.isolate(me,Ie),ue=Ne.next;Ne.format(K,ne),ue instanceof re&&ue.formatAt(0,H-me+F-Ie,K,ne)}}}},{key:"insertAt",value:function(H,F,K){if(null==K){var ne=this.descendant(S.default,H),fe=z(ne,2);fe[0].insertAt(fe[1],F)}}},{key:"length",value:function(){var H=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?H:H+1}},{key:"newlineIndex",value:function(H){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,H).lastIndexOf("\n");var K=this.domNode.textContent.slice(H).indexOf("\n");return K>-1?H+K:-1}},{key:"optimize",value:function(H){this.domNode.textContent.endsWith("\n")||this.appendChild(A.default.create("text","\n")),Q(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"optimize",this).call(this,H);var F=this.next;null!=F&&F.prev===this&&F.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===F.statics.formats(F.domNode)&&(F.optimize(H),F.moveChildren(this),F.remove())}},{key:"replace",value:function(H){Q(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"replace",this).call(this,H),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(F){var K=A.default.find(F);null==K?F.parentNode.removeChild(F):K instanceof A.default.Embed?K.remove():K.unwrap()})}}],[{key:"create",value:function(H){var F=Q(re.__proto__||Object.getPrototypeOf(re),"create",this).call(this,H);return F.setAttribute("spellcheck",!1),F}},{key:"formats",value:function(){return!0}}]),re}(v.default);Z.blotName="code-block",Z.tagName="PRE",Z.TAB="  ",N.Code=X,N.default=Z},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},q=function(oe,J){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return function ue(oe,J){var se=[],ce=!0,ye=!1,_e=void 0;try{for(var we,ae=oe[Symbol.iterator]();!(ce=(we=ae.next()).done)&&(se.push(we.value),!J||se.length!==J);ce=!0);}catch(Ce){ye=!0,_e=Ce}finally{try{!ce&&ae.return&&ae.return()}finally{if(ye)throw _e}}return se}(oe,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function ue(oe,J){for(var se=0;se<J.length;se++){var ce=J[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(oe,ce.key,ce)}}return function(oe,J,se){return J&&ue(oe.prototype,J),se&&ue(oe,se),oe}}(),j=F(c(2)),A=F(c(20)),v=F(c(0)),D=F(c(13)),S=F(c(24)),x=c(4),V=F(x),L=F(c(16)),Z=F(c(21)),re=F(c(11)),H=F(c(3));function F(ue){return ue&&ue.__esModule?ue:{default:ue}}var fe=/^[ -~]*$/,me=function(){function ue(oe){(function ne(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,ue),this.scroll=oe,this.delta=this.getDelta()}return Q(ue,[{key:"applyDelta",value:function(J){var se=this,ce=!1;this.scroll.update();var ye=this.scroll.length();return this.scroll.batchStart(),(J=function Ne(ue){return ue.reduce(function(oe,J){if(1===J.insert){var se=(0,Z.default)(J.attributes);return delete se.image,oe.insert({image:J.attributes.image},se)}if(null!=J.attributes&&(!0===J.attributes.list||!0===J.attributes.bullet)&&((J=(0,Z.default)(J)).attributes.list?J.attributes.list="ordered":(J.attributes.list="bullet",delete J.attributes.bullet)),"string"==typeof J.insert){var ce=J.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return oe.insert(ce,J.attributes)}return oe.push(J)},new j.default)}(J)).reduce(function(_e,ae){var we=ae.retain||ae.delete||ae.insert.length||1,Ce=ae.attributes||{};if(null!=ae.insert){if("string"==typeof ae.insert){var Se=ae.insert;Se.endsWith("\n")&&ce&&(ce=!1,Se=Se.slice(0,-1)),_e>=ye&&!Se.endsWith("\n")&&(ce=!0),se.scroll.insertAt(_e,Se);var Oe=se.scroll.line(_e),Qe=q(Oe,2),dt=Qe[0],pt=Qe[1],mt=(0,H.default)({},(0,x.bubbleFormats)(dt));if(dt instanceof V.default){var Ut=dt.descendant(v.default.Leaf,pt),Tn=q(Ut,1);mt=(0,H.default)(mt,(0,x.bubbleFormats)(Tn[0]))}Ce=A.default.attributes.diff(mt,Ce)||{}}else if("object"===z(ae.insert)){var Ve=Object.keys(ae.insert)[0];if(null==Ve)return _e;se.scroll.insertAt(_e,Ve,ae.insert[Ve])}ye+=we}return Object.keys(Ce).forEach(function(je){se.scroll.formatAt(_e,we,je,Ce[je])}),_e+we},0),J.reduce(function(_e,ae){return"number"==typeof ae.delete?(se.scroll.deleteAt(_e,ae.delete),_e):_e+(ae.retain||ae.insert.length||1)},0),this.scroll.batchEnd(),this.update(J)}},{key:"deleteText",value:function(J,se){return this.scroll.deleteAt(J,se),this.update((new j.default).retain(J).delete(se))}},{key:"formatLine",value:function(J,se){var ce=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ye).forEach(function(_e){if(null==ce.scroll.whitelist||ce.scroll.whitelist[_e]){var ae=ce.scroll.lines(J,Math.max(se,1)),we=se;ae.forEach(function(Ce){var Se=Ce.length();if(Ce instanceof D.default){var Oe=J-Ce.offset(ce.scroll),Qe=Ce.newlineIndex(Oe+we)-Oe+1;Ce.formatAt(Oe,Qe,_e,ye[_e])}else Ce.format(_e,ye[_e]);we-=Se})}}),this.scroll.optimize(),this.update((new j.default).retain(J).retain(se,(0,Z.default)(ye)))}},{key:"formatText",value:function(J,se){var ce=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ye).forEach(function(_e){ce.scroll.formatAt(J,se,_e,ye[_e])}),this.update((new j.default).retain(J).retain(se,(0,Z.default)(ye)))}},{key:"getContents",value:function(J,se){return this.delta.slice(J,J+se)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(J,se){return J.concat(se.delta())},new j.default)}},{key:"getFormat",value:function(J){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ce=[],ye=[];0===se?this.scroll.path(J).forEach(function(ae){var Ce=q(ae,1)[0];Ce instanceof V.default?ce.push(Ce):Ce instanceof v.default.Leaf&&ye.push(Ce)}):(ce=this.scroll.lines(J,se),ye=this.scroll.descendants(v.default.Leaf,J,se));var _e=[ce,ye].map(function(ae){if(0===ae.length)return{};for(var we=(0,x.bubbleFormats)(ae.shift());Object.keys(we).length>0;){var Ce=ae.shift();if(null==Ce)return we;we=Ie((0,x.bubbleFormats)(Ce),we)}return we});return H.default.apply(H.default,_e)}},{key:"getText",value:function(J,se){return this.getContents(J,se).filter(function(ce){return"string"==typeof ce.insert}).map(function(ce){return ce.insert}).join("")}},{key:"insertEmbed",value:function(J,se,ce){return this.scroll.insertAt(J,se,ce),this.update((new j.default).retain(J).insert(function K(ue,oe,J){return oe in ue?Object.defineProperty(ue,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):ue[oe]=J,ue}({},se,ce)))}},{key:"insertText",value:function(J,se){var ce=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se=se.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(J,se),Object.keys(ye).forEach(function(_e){ce.scroll.formatAt(J,se.length,_e,ye[_e])}),this.update((new j.default).retain(J).insert(se,(0,Z.default)(ye)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var J=this.scroll.children.head;return!(J.statics.blotName!==V.default.blotName||J.children.length>1)&&J.children.head instanceof L.default}},{key:"removeFormat",value:function(J,se){var ce=this.getText(J,se),ye=this.scroll.line(J+se),_e=q(ye,2),ae=_e[0],we=_e[1],Ce=0,Se=new j.default;null!=ae&&(Ce=ae instanceof D.default?ae.newlineIndex(we)-we+1:ae.length()-we,Se=ae.delta().slice(we,we+Ce-1).insert("\n"));var Qe=this.getContents(J,se+Ce).diff((new j.default).insert(ce).concat(Se)),dt=(new j.default).retain(J).concat(Qe);return this.applyDelta(dt)}},{key:"update",value:function(J){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ye=this.delta;if(1===se.length&&"characterData"===se[0].type&&se[0].target.data.match(fe)&&v.default.find(se[0].target)){var _e=v.default.find(se[0].target),ae=(0,x.bubbleFormats)(_e),we=_e.offset(this.scroll),Ce=se[0].oldValue.replace(S.default.CONTENTS,""),Se=(new j.default).insert(Ce),Oe=(new j.default).insert(_e.value());J=(new j.default).retain(we).concat(Se.diff(Oe,ce)).reduce(function(dt,pt){return pt.insert?dt.insert(pt.insert,ae):dt.push(pt)},new j.default),this.delta=ye.compose(J)}else this.delta=this.getDelta(),(!J||!(0,re.default)(ye.compose(J),this.delta))&&(J=ye.diff(this.delta,ce));return J}}]),ue}();function Ie(ue,oe){return Object.keys(oe).reduce(function(J,se){return null==ue[se]||(oe[se]===ue[se]?J[se]=oe[se]:Array.isArray(oe[se])?oe[se].indexOf(ue[se])<0&&(J[se]=oe[se].concat([ue[se]])):J[se]=[oe[se],ue[se]]),J},{})}N.default=me},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.Range=void 0;var z=function(re,G){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return function Y(re,G){var H=[],F=!0,K=!1,ne=void 0;try{for(var me,fe=re[Symbol.iterator]();!(F=(me=fe.next()).done)&&(H.push(me.value),!G||H.length!==G);F=!0);}catch(Ie){K=!0,ne=Ie}finally{try{!F&&fe.return&&fe.return()}finally{if(K)throw ne}}return H}(re,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function(){function Y(re,G){for(var H=0;H<G.length;H++){var F=G[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(re,F.key,F)}}return function(re,G,H){return G&&Y(re.prototype,G),H&&Y(re,H),re}}(),B=S(c(0)),U=S(c(21)),I=S(c(11)),C=S(c(8));function S(Y){return Y&&Y.__esModule?Y:{default:Y}}function x(Y){if(Array.isArray(Y)){for(var re=0,G=Array(Y.length);re<Y.length;re++)G[re]=Y[re];return G}return Array.from(Y)}function V(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}var w=(0,S(c(10)).default)("quill:selection"),L=function Y(re){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;V(this,Y),this.index=re,this.length=G},X=function(){function Y(re,G){var H=this;V(this,Y),this.emitter=G,this.scroll=re,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=B.default.create("cursor",this),this.lastRange=this.savedRange=new L(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){H.mouseDown||setTimeout(H.update.bind(H,C.default.sources.USER),1)}),this.emitter.on(C.default.events.EDITOR_CHANGE,function(F,K){F===C.default.events.TEXT_CHANGE&&K.length()>0&&H.update(C.default.sources.SILENT)}),this.emitter.on(C.default.events.SCROLL_BEFORE_UPDATE,function(){if(H.hasFocus()){var F=H.getNativeRange();null!=F&&F.start.node!==H.cursor.textNode&&H.emitter.once(C.default.events.SCROLL_UPDATE,function(){try{H.setNativeRange(F.start.node,F.start.offset,F.end.node,F.end.offset)}catch{}})}}),this.emitter.on(C.default.events.SCROLL_OPTIMIZE,function(F,K){if(K.range){var ne=K.range;H.setNativeRange(ne.startNode,ne.startOffset,ne.endNode,ne.endOffset)}}),this.update(C.default.sources.SILENT)}return q(Y,[{key:"handleComposition",value:function(){var G=this;this.root.addEventListener("compositionstart",function(){G.composing=!0}),this.root.addEventListener("compositionend",function(){if(G.composing=!1,G.cursor.parent){var H=G.cursor.restore();if(!H)return;setTimeout(function(){G.setNativeRange(H.startNode,H.startOffset,H.endNode,H.endOffset)},1)}})}},{key:"handleDragging",value:function(){var G=this;this.emitter.listenDOM("mousedown",document.body,function(){G.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){G.mouseDown=!1,G.update(C.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(G,H){if(null==this.scroll.whitelist||this.scroll.whitelist[G]){this.scroll.update();var F=this.getNativeRange();if(null!=F&&F.native.collapsed&&!B.default.query(G,B.default.Scope.BLOCK)){if(F.start.node!==this.cursor.textNode){var K=B.default.find(F.start.node,!1);if(null==K)return;if(K instanceof B.default.Leaf){var ne=K.split(F.start.offset);K.parent.insertBefore(this.cursor,ne)}else K.insertBefore(this.cursor,F.start.node);this.cursor.attach()}this.cursor.format(G,H),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(G){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=this.scroll.length();G=Math.min(G,F-1),H=Math.min(G+H,F-1)-G;var K=void 0,ne=this.scroll.leaf(G),fe=z(ne,2),me=fe[0],Ie=fe[1];if(null==me)return null;var Ne=me.position(Ie,!0),ue=z(Ne,2);K=ue[0],Ie=ue[1];var oe=document.createRange();if(H>0){oe.setStart(K,Ie);var J=this.scroll.leaf(G+H),se=z(J,2);if(null==(me=se[0]))return null;var ce=me.position(Ie=se[1],!0),ye=z(ce,2);return oe.setEnd(K=ye[0],Ie=ye[1]),oe.getBoundingClientRect()}var _e="left",ae=void 0;return K instanceof Text?(Ie<K.data.length?(oe.setStart(K,Ie),oe.setEnd(K,Ie+1)):(oe.setStart(K,Ie-1),oe.setEnd(K,Ie),_e="right"),ae=oe.getBoundingClientRect()):(ae=me.domNode.getBoundingClientRect(),Ie>0&&(_e="right")),{bottom:ae.top+ae.height,height:ae.height,left:ae[_e],right:ae[_e],top:ae.top,width:0}}},{key:"getNativeRange",value:function(){var G=document.getSelection();if(null==G||G.rangeCount<=0)return null;var H=G.getRangeAt(0);if(null==H)return null;var F=this.normalizeNative(H);return w.info("getNativeRange",F),F}},{key:"getRange",value:function(){var G=this.getNativeRange();return null==G?[null,null]:[this.normalizedToRange(G),G]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(G){var H=this,F=[[G.start.node,G.start.offset]];G.native.collapsed||F.push([G.end.node,G.end.offset]);var K=F.map(function(me){var Ie=z(me,2),Ne=Ie[0],ue=Ie[1],oe=B.default.find(Ne,!0),J=oe.offset(H.scroll);return 0===ue?J:oe instanceof B.default.Container?J+oe.length():J+oe.index(Ne,ue)}),ne=Math.min(Math.max.apply(Math,x(K)),this.scroll.length()-1),fe=Math.min.apply(Math,[ne].concat(x(K)));return new L(fe,ne-fe)}},{key:"normalizeNative",value:function(G){if(!Z(this.root,G.startContainer)||!G.collapsed&&!Z(this.root,G.endContainer))return null;var H={start:{node:G.startContainer,offset:G.startOffset},end:{node:G.endContainer,offset:G.endOffset},native:G};return[H.start,H.end].forEach(function(F){for(var K=F.node,ne=F.offset;!(K instanceof Text)&&K.childNodes.length>0;)if(K.childNodes.length>ne)K=K.childNodes[ne],ne=0;else{if(K.childNodes.length!==ne)break;ne=(K=K.lastChild)instanceof Text?K.data.length:K.childNodes.length+1}F.node=K,F.offset=ne}),H}},{key:"rangeToNative",value:function(G){var H=this,F=G.collapsed?[G.index]:[G.index,G.index+G.length],K=[],ne=this.scroll.length();return F.forEach(function(fe,me){fe=Math.min(ne-1,fe);var Ne=H.scroll.leaf(fe),ue=z(Ne,2),J=ue[1],se=ue[0].position(J,0!==me),ce=z(se,2);K.push(ce[0],J=ce[1])}),K.length<2&&(K=K.concat(K)),K}},{key:"scrollIntoView",value:function(G){var H=this.lastRange;if(null!=H){var F=this.getBounds(H.index,H.length);if(null!=F){var K=this.scroll.length()-1,ne=this.scroll.line(Math.min(H.index,K)),me=z(ne,1)[0],Ie=me;if(H.length>0){var Ne=this.scroll.line(Math.min(H.index+H.length,K));Ie=z(Ne,1)[0]}if(null!=me&&null!=Ie){var oe=G.getBoundingClientRect();F.top<oe.top?G.scrollTop-=oe.top-F.top:F.bottom>oe.bottom&&(G.scrollTop+=F.bottom-oe.bottom)}}}}},{key:"setNativeRange",value:function(G,H){var F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G,K=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H,ne=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(w.info("setNativeRange",G,H,F,K),null==G||null!=this.root.parentNode&&null!=G.parentNode&&null!=F.parentNode){var fe=document.getSelection();if(null!=fe)if(null!=G){this.hasFocus()||this.root.focus();var me=(this.getNativeRange()||{}).native;if(null==me||ne||G!==me.startContainer||H!==me.startOffset||F!==me.endContainer||K!==me.endOffset){"BR"==G.tagName&&(H=[].indexOf.call(G.parentNode.childNodes,G),G=G.parentNode),"BR"==F.tagName&&(K=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode);var Ie=document.createRange();Ie.setStart(G,H),Ie.setEnd(F,K),fe.removeAllRanges(),fe.addRange(Ie)}}else fe.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(G){var H=arguments.length>1&&void 0!==arguments[1]&&arguments[1],F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.default.sources.API;if("string"==typeof H&&(F=H,H=!1),w.info("setRange",G),null!=G){var K=this.rangeToNative(G);this.setNativeRange.apply(this,x(K).concat([H]))}else this.setNativeRange(null);this.update(F)}},{key:"update",value:function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.default.sources.USER,H=this.lastRange,F=this.getRange(),K=z(F,2),fe=K[1];if(this.lastRange=K[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,I.default)(H,this.lastRange)){var me;!this.composing&&null!=fe&&fe.native.collapsed&&fe.start.node!==this.cursor.textNode&&this.cursor.restore();var Ne,Ie=[C.default.events.SELECTION_CHANGE,(0,U.default)(this.lastRange),(0,U.default)(H),G];(me=this.emitter).emit.apply(me,[C.default.events.EDITOR_CHANGE].concat(Ie)),G!==C.default.sources.SILENT&&(Ne=this.emitter).emit.apply(Ne,Ie)}}}]),Y}();function Z(Y,re){return re instanceof Text&&(re=re.parentNode),Y.contains(re)}N.Range=L,N.default=X},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function C(D,R){for(var S=0;S<R.length;S++){var x=R[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}}(),q=function C(D,R,S){null===D&&(D=Function.prototype);var x=Object.getOwnPropertyDescriptor(D,R);if(void 0===x){var V=Object.getPrototypeOf(D);return null===V?void 0:C(V,R,S)}if("value"in x)return x.value;var w=x.get;return void 0===w?void 0:w.call(S)};function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}var v=function(C){function D(){return U(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),z(D,[{key:"insertInto",value:function(S,x){0===S.children.length?q(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertInto",this).call(this,S,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),D}(function j(C){return C&&C.__esModule?C:{default:C}}(c(0)).default.Embed);v.blotName="break",v.tagName="BR",N.default=v},function(ge,N,c){"use strict";var A,z=this&&this.__extends||(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,v){I.__proto__=v}||function(I,v){for(var C in v)v.hasOwnProperty(C)&&(I[C]=v[C])},function(I,v){function C(){this.constructor=I}A(I,v),I.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(44),Q=c(30),B=c(1),j=function(A){function I(v){var C=A.call(this,v)||this;return C.build(),C}return z(I,A),I.prototype.appendChild=function(v){this.insertBefore(v)},I.prototype.attach=function(){A.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},I.prototype.build=function(){var v=this;this.children=new q.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(C){try{var D=U(C);v.insertBefore(D,v.children.head||void 0)}catch(R){if(R instanceof B.ParchmentError)return;throw R}})},I.prototype.deleteAt=function(v,C){if(0===v&&C===this.length())return this.remove();this.children.forEachAt(v,C,function(D,R,S){D.deleteAt(R,S)})},I.prototype.descendant=function(v,C){var D=this.children.find(C),R=D[0],S=D[1];return null==v.blotName&&v(R)||null!=v.blotName&&R instanceof v?[R,S]:R instanceof I?R.descendant(v,S):[null,-1]},I.prototype.descendants=function(v,C,D){void 0===C&&(C=0),void 0===D&&(D=Number.MAX_VALUE);var R=[],S=D;return this.children.forEachAt(C,D,function(x,V,w){(null==v.blotName&&v(x)||null!=v.blotName&&x instanceof v)&&R.push(x),x instanceof I&&(R=R.concat(x.descendants(v,V,S))),S-=w}),R},I.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),A.prototype.detach.call(this)},I.prototype.formatAt=function(v,C,D,R){this.children.forEachAt(v,C,function(S,x,V){S.formatAt(x,V,D,R)})},I.prototype.insertAt=function(v,C,D){var R=this.children.find(v),S=R[0];if(S)S.insertAt(R[1],C,D);else{var V=null==D?B.create("text",C):B.create(C,D);this.appendChild(V)}},I.prototype.insertBefore=function(v,C){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(D){return v instanceof D}))throw new B.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,C)},I.prototype.length=function(){return this.children.reduce(function(v,C){return v+C.length()},0)},I.prototype.moveChildren=function(v,C){this.children.forEach(function(D){v.insertBefore(D,C)})},I.prototype.optimize=function(v){if(A.prototype.optimize.call(this,v),0===this.children.length)if(null!=this.statics.defaultChild){var C=B.create(this.statics.defaultChild);this.appendChild(C),C.optimize(v)}else this.remove()},I.prototype.path=function(v,C){void 0===C&&(C=!1);var D=this.children.find(v,C),R=D[0],S=D[1],x=[[this,v]];return R instanceof I?x.concat(R.path(S,C)):(null!=R&&x.push([R,S]),x)},I.prototype.removeChild=function(v){this.children.remove(v)},I.prototype.replace=function(v){v instanceof I&&v.moveChildren(this),A.prototype.replace.call(this,v)},I.prototype.split=function(v,C){if(void 0===C&&(C=!1),!C){if(0===v)return this;if(v===this.length())return this.next}var D=this.clone();return this.parent.insertBefore(D,this.next),this.children.forEachAt(v,this.length(),function(R,S,x){R=R.split(S,C),D.appendChild(R)}),D},I.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},I.prototype.update=function(v,C){var D=this,R=[],S=[];v.forEach(function(x){x.target===D.domNode&&"childList"===x.type&&(R.push.apply(R,x.addedNodes),S.push.apply(S,x.removedNodes))}),S.forEach(function(x){if(!(null!=x.parentNode&&"IFRAME"!==x.tagName&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var V=B.find(x);null!=V&&(null==V.domNode.parentNode||V.domNode.parentNode===D.domNode)&&V.detach()}}),R.filter(function(x){return x.parentNode==D.domNode}).sort(function(x,V){return x===V?0:x.compareDocumentPosition(V)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var V=null;null!=x.nextSibling&&(V=B.find(x.nextSibling));var w=U(x);(w.next!=V||null==w.next)&&(null!=w.parent&&w.parent.removeChild(D),D.insertBefore(w,V||void 0))})},I}(Q.default);function U(A){var I=B.find(A);if(null==I)try{I=B.create(A)}catch{I=B.create(B.Scope.INLINE),[].slice.call(A.childNodes).forEach(function(C){I.domNode.appendChild(C)}),A.parentNode&&A.parentNode.replaceChild(I.domNode,A),I.attach()}return I}N.default=j},function(ge,N,c){"use strict";var A,z=this&&this.__extends||(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,v){I.__proto__=v}||function(I,v){for(var C in v)v.hasOwnProperty(C)&&(I[C]=v[C])},function(I,v){function C(){this.constructor=I}A(I,v),I.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(12),Q=c(31),B=c(17),j=c(1),U=function(A){function I(v){var C=A.call(this,v)||this;return C.attributes=new Q.default(C.domNode),C}return z(I,A),I.formats=function(v){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?v.tagName.toLowerCase():void 0)},I.prototype.format=function(v,C){var D=j.query(v);D instanceof q.default?this.attributes.attribute(D,C):C&&null!=D&&(v!==this.statics.blotName||this.formats()[v]!==C)&&this.replaceWith(v,C)},I.prototype.formats=function(){var v=this.attributes.values(),C=this.statics.formats(this.domNode);return null!=C&&(v[this.statics.blotName]=C),v},I.prototype.replaceWith=function(v,C){var D=A.prototype.replaceWith.call(this,v,C);return this.attributes.copy(D),D},I.prototype.update=function(v,C){var D=this;A.prototype.update.call(this,v,C),v.some(function(R){return R.target===D.domNode&&"attributes"===R.type})&&this.attributes.build()},I.prototype.wrap=function(v,C){var D=A.prototype.wrap.call(this,v,C);return D instanceof I&&D.statics.scope===this.statics.scope&&this.attributes.move(D),D},I}(B.default);N.default=U},function(ge,N,c){"use strict";var j,z=this&&this.__extends||(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var I in A)A.hasOwnProperty(I)&&(U[I]=A[I])},function(U,A){function I(){this.constructor=U}j(U,A),U.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(30),Q=c(1),B=function(j){function U(){return null!==j&&j.apply(this,arguments)||this}return z(U,j),U.value=function(A){return!0},U.prototype.index=function(A,I){return this.domNode===A||this.domNode.compareDocumentPosition(A)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(I,1):-1},U.prototype.position=function(A,I){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return A>0&&(v+=1),[this.parent.domNode,v]},U.prototype.value=function(){var A;return(A={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,A},U.scope=Q.Scope.INLINE_BLOT,U}(q.default);N.default=B},function(ge,N,c){var z=c(11),q=c(3),Q={attributes:{compose:function(j,U,A){"object"!=typeof j&&(j={}),"object"!=typeof U&&(U={});var I=q(!0,{},U);for(var v in A||(I=Object.keys(I).reduce(function(C,D){return null!=I[D]&&(C[D]=I[D]),C},{})),j)void 0!==j[v]&&void 0===U[v]&&(I[v]=j[v]);return Object.keys(I).length>0?I:void 0},diff:function(j,U){"object"!=typeof j&&(j={}),"object"!=typeof U&&(U={});var A=Object.keys(j).concat(Object.keys(U)).reduce(function(I,v){return z(j[v],U[v])||(I[v]=void 0===U[v]?null:U[v]),I},{});return Object.keys(A).length>0?A:void 0},transform:function(j,U,A){if("object"!=typeof j)return U;if("object"==typeof U){if(!A)return U;var I=Object.keys(U).reduce(function(v,C){return void 0===j[C]&&(v[C]=U[C]),v},{});return Object.keys(I).length>0?I:void 0}}},iterator:function(j){return new B(j)},length:function(j){return"number"==typeof j.delete?j.delete:"number"==typeof j.retain?j.retain:"string"==typeof j.insert?j.insert.length:1}};function B(j){this.ops=j,this.index=0,this.offset=0}B.prototype.hasNext=function(){return this.peekLength()<1/0},B.prototype.next=function(j){j||(j=1/0);var U=this.ops[this.index];if(U){var A=this.offset,I=Q.length(U);if(j>=I-A?(j=I-A,this.index+=1,this.offset=0):this.offset+=j,"number"==typeof U.delete)return{delete:j};var v={};return U.attributes&&(v.attributes=U.attributes),"number"==typeof U.retain?v.retain=j:v.insert="string"==typeof U.insert?U.insert.substr(A,j):U.insert,v}return{retain:1/0}},B.prototype.peek=function(){return this.ops[this.index]},B.prototype.peekLength=function(){return this.ops[this.index]?Q.length(this.ops[this.index])-this.offset:1/0},B.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},B.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var j=this.offset,U=this.index,A=this.next(),I=this.ops.slice(this.index);return this.offset=j,this.index=U,[A].concat(I)}return[]},ge.exports=Q},function(ge,N){var c=function(){"use strict";function z(D,R){return null!=R&&D instanceof R}var q,Q,B;try{q=Map}catch{q=function(){}}try{Q=Set}catch{Q=function(){}}try{B=Promise}catch{B=function(){}}function j(D,R,S,x,V){"object"==typeof R&&(S=R.depth,x=R.prototype,V=R.includeNonEnumerable,R=R.circular);var w=[],L=[],X=typeof Buffer<"u";return typeof R>"u"&&(R=!0),typeof S>"u"&&(S=1/0),function Z(Y,re){if(null===Y)return null;if(0===re)return Y;var G,H;if("object"!=typeof Y)return Y;if(z(Y,q))G=new q;else if(z(Y,Q))G=new Q;else if(z(Y,B))G=new B(function(oe,J){Y.then(function(se){oe(Z(se,re-1))},function(se){J(Z(se,re-1))})});else if(j.__isArray(Y))G=[];else if(j.__isRegExp(Y))G=new RegExp(Y.source,C(Y)),Y.lastIndex&&(G.lastIndex=Y.lastIndex);else if(j.__isDate(Y))G=new Date(Y.getTime());else{if(X&&Buffer.isBuffer(Y))return G=Buffer.allocUnsafe?Buffer.allocUnsafe(Y.length):new Buffer(Y.length),Y.copy(G),G;z(Y,Error)?G=Object.create(Y):typeof x>"u"?(H=Object.getPrototypeOf(Y),G=Object.create(H)):(G=Object.create(x),H=x)}if(R){var F=w.indexOf(Y);if(-1!=F)return L[F];w.push(Y),L.push(G)}for(var K in z(Y,q)&&Y.forEach(function(oe,J){var se=Z(J,re-1),ce=Z(oe,re-1);G.set(se,ce)}),z(Y,Q)&&Y.forEach(function(oe){var J=Z(oe,re-1);G.add(J)}),Y){var ne;H&&(ne=Object.getOwnPropertyDescriptor(H,K)),(!ne||null!=ne.set)&&(G[K]=Z(Y[K],re-1))}if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(Y);for(K=0;K<fe.length;K++){var me=fe[K];(Ie=Object.getOwnPropertyDescriptor(Y,me))&&!Ie.enumerable&&!V||(G[me]=Z(Y[me],re-1),Ie.enumerable||Object.defineProperty(G,me,{enumerable:!1}))}}if(V){var Ne=Object.getOwnPropertyNames(Y);for(K=0;K<Ne.length;K++){var Ie,ue=Ne[K];(Ie=Object.getOwnPropertyDescriptor(Y,ue))&&Ie.enumerable||(G[ue]=Z(Y[ue],re-1),Object.defineProperty(G,ue,{enumerable:!1}))}}return G}(D,S)}function U(D){return Object.prototype.toString.call(D)}function C(D){var R="";return D.global&&(R+="g"),D.ignoreCase&&(R+="i"),D.multiline&&(R+="m"),R}return j.clonePrototype=function(R){if(null===R)return null;var S=function(){};return S.prototype=R,new S},j.__objToStr=U,j.__isDate=function A(D){return"object"==typeof D&&"[object Date]"===U(D)},j.__isArray=function I(D){return"object"==typeof D&&"[object Array]"===U(D)},j.__isRegExp=function v(D){return"object"==typeof D&&"[object RegExp]"===U(D)},j.__getRegExpFlags=C,j}();"object"==typeof ge&&ge.exports&&(ge.exports=c)},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(H,F){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return function G(H,F){var K=[],ne=!0,fe=!1,me=void 0;try{for(var Ne,Ie=H[Symbol.iterator]();!(ne=(Ne=Ie.next()).done)&&(K.push(Ne.value),!F||K.length!==F);ne=!0);}catch(ue){fe=!0,me=ue}finally{try{!ne&&Ie.return&&Ie.return()}finally{if(fe)throw me}}return K}(H,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function(){function G(H,F){for(var K=0;K<F.length;K++){var ne=F[K];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(H,ne.key,ne)}}return function(H,F,K){return F&&G(H.prototype,F),K&&G(H,K),H}}(),Q=function G(H,F,K){null===H&&(H=Function.prototype);var ne=Object.getOwnPropertyDescriptor(H,F);if(void 0===ne){var fe=Object.getPrototypeOf(H);return null===fe?void 0:G(fe,F,K)}if("value"in ne)return ne.value;var me=ne.get;return void 0===me?void 0:me.call(K)},j=w(c(0)),A=w(c(8)),I=c(4),v=w(I),D=w(c(16)),S=w(c(13)),V=w(c(25));function w(G){return G&&G.__esModule?G:{default:G}}function Y(G){return G instanceof v.default||G instanceof I.BlockEmbed}var re=function(G){function H(F,K){!function L(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}(this,H);var ne=function X(G,H){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?G:H}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,F));return ne.emitter=K.emitter,Array.isArray(K.whitelist)&&(ne.whitelist=K.whitelist.reduce(function(fe,me){return fe[me]=!0,fe},{})),ne.domNode.addEventListener("DOMNodeInserted",function(){}),ne.optimize(),ne.enable(),ne}return function Z(G,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(G,H):G.__proto__=H)}(H,G),q(H,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(K,ne){var fe=this.line(K),me=z(fe,2),Ie=me[0],Ne=me[1],ue=this.line(K+ne),J=z(ue,1)[0];if(Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"deleteAt",this).call(this,K,ne),null!=J&&Ie!==J&&Ne>0){if(Ie instanceof I.BlockEmbed||J instanceof I.BlockEmbed)return void this.optimize();if(Ie instanceof S.default){var se=Ie.newlineIndex(Ie.length(),!0);if(se>-1&&(Ie=Ie.split(se+1))===J)return void this.optimize()}else if(J instanceof S.default){var ce=J.newlineIndex(0);ce>-1&&J.split(ce+1)}Ie.moveChildren(J,J.children.head instanceof D.default?null:J.children.head),Ie.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(K,ne,fe,me){null!=this.whitelist&&!this.whitelist[fe]||(Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"formatAt",this).call(this,K,ne,fe,me),this.optimize())}},{key:"insertAt",value:function(K,ne,fe){if(null==fe||null==this.whitelist||this.whitelist[ne]){if(K>=this.length())if(null==fe||null==j.default.query(ne,j.default.Scope.BLOCK)){var me=j.default.create(this.statics.defaultChild);this.appendChild(me),null==fe&&ne.endsWith("\n")&&(ne=ne.slice(0,-1)),me.insertAt(0,ne,fe)}else{var Ie=j.default.create(ne,fe);this.appendChild(Ie)}else Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"insertAt",this).call(this,K,ne,fe);this.optimize()}}},{key:"insertBefore",value:function(K,ne){if(K.statics.scope===j.default.Scope.INLINE_BLOT){var fe=j.default.create(this.statics.defaultChild);fe.appendChild(K),K=fe}Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"insertBefore",this).call(this,K,ne)}},{key:"leaf",value:function(K){return this.path(K).pop()||[null,-1]}},{key:"line",value:function(K){return K===this.length()?this.line(K-1):this.descendant(Y,K)}},{key:"lines",value:function(){return function me(Ie,Ne,ue){var oe=[],J=ue;return Ie.children.forEachAt(Ne,ue,function(se,ce,ye){Y(se)?oe.push(se):se instanceof j.default.Container&&(oe=oe.concat(me(se,ce,J))),J-=ye}),oe}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"optimize",this).call(this,K,ne),K.length>0&&this.emitter.emit(A.default.events.SCROLL_OPTIMIZE,K,ne))}},{key:"path",value:function(K){return Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"path",this).call(this,K).slice(1)}},{key:"update",value:function(K){if(!0!==this.batch){var ne=A.default.sources.USER;"string"==typeof K&&(ne=K),Array.isArray(K)||(K=this.observer.takeRecords()),K.length>0&&this.emitter.emit(A.default.events.SCROLL_BEFORE_UPDATE,ne,K),Q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"update",this).call(this,K.concat([])),K.length>0&&this.emitter.emit(A.default.events.SCROLL_UPDATE,ne,K)}}}]),H}(j.default.Scroll);re.blotName="scroll",re.className="ql-editor",re.tagName="DIV",re.defaultChild="block",re.allowedChildren=[v.default,I.BlockEmbed,V.default],N.default=re},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.SHORTKEY=N.default=void 0;var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},q=function(we,Ce){if(Array.isArray(we))return we;if(Symbol.iterator in Object(we))return function ae(we,Ce){var Se=[],Oe=!0,Qe=!1,dt=void 0;try{for(var mt,pt=we[Symbol.iterator]();!(Oe=(mt=pt.next()).done)&&(Se.push(mt.value),!Ce||Se.length!==Ce);Oe=!0);}catch(Ut){Qe=!0,dt=Ut}finally{try{!Oe&&pt.return&&pt.return()}finally{if(Qe)throw dt}}return Se}(we,Ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function ae(we,Ce){for(var Se=0;Se<Ce.length;Se++){var Oe=Ce[Se];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(we,Oe.key,Oe)}}return function(we,Ce,Se){return Ce&&ae(we.prototype,Ce),Se&&ae(we,Se),we}}(),j=G(c(21)),A=G(c(11)),v=G(c(3)),D=G(c(2)),S=G(c(20)),V=G(c(0)),L=G(c(5)),Z=G(c(10)),re=G(c(9));function G(ae){return ae&&ae.__esModule?ae:{default:ae}}function H(ae,we,Ce){return we in ae?Object.defineProperty(ae,we,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ae[we]=Ce,ae}var fe=(0,Z.default)("quill:keyboard"),me=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Ie=function(ae){function we(Ce,Se){!function F(ae,we){if(!(ae instanceof we))throw new TypeError("Cannot call a class as a function")}(this,we);var Oe=function K(ae,we){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!we||"object"!=typeof we&&"function"!=typeof we?ae:we}(this,(we.__proto__||Object.getPrototypeOf(we)).call(this,Ce,Se));return Oe.bindings={},Object.keys(Oe.options.bindings).forEach(function(Qe){"list autofill"===Qe&&null!=Ce.scroll.whitelist&&!Ce.scroll.whitelist.list||Oe.options.bindings[Qe]&&Oe.addBinding(Oe.options.bindings[Qe])}),Oe.addBinding({key:we.keys.ENTER,shiftKey:null},se),Oe.addBinding({key:we.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Oe.addBinding({key:we.keys.BACKSPACE},{collapsed:!0},ue),Oe.addBinding({key:we.keys.DELETE},{collapsed:!0},oe)):(Oe.addBinding({key:we.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ue),Oe.addBinding({key:we.keys.DELETE},{collapsed:!0,suffix:/^.?$/},oe)),Oe.addBinding({key:we.keys.BACKSPACE},{collapsed:!1},J),Oe.addBinding({key:we.keys.DELETE},{collapsed:!1},J),Oe.addBinding({key:we.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ue),Oe.listen(),Oe}return function ne(ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function, not "+typeof we);ae.prototype=Object.create(we&&we.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,we):ae.__proto__=we)}(we,ae),Q(we,null,[{key:"match",value:function(Se,Oe){return Oe=_e(Oe),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Qe){return!!Oe[Qe]!==Se[Qe]&&null!==Oe[Qe]})&&Oe.key===(Se.which||Se.keyCode)}}]),Q(we,[{key:"addBinding",value:function(Se){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Qe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},dt=_e(Se);if(null==dt||null==dt.key)return fe.warn("Attempted to add invalid keyboard binding",dt);"function"==typeof Oe&&(Oe={handler:Oe}),"function"==typeof Qe&&(Qe={handler:Qe}),dt=(0,v.default)(dt,Oe,Qe),this.bindings[dt.key]=this.bindings[dt.key]||[],this.bindings[dt.key].push(dt)}},{key:"listen",value:function(){var Se=this;this.quill.root.addEventListener("keydown",function(Oe){if(!Oe.defaultPrevented){var dt=(Se.bindings[Oe.which||Oe.keyCode]||[]).filter(function(ot){return we.match(Oe,ot)});if(0!==dt.length){var pt=Se.quill.getSelection();if(null!=pt&&Se.quill.hasFocus()){var mt=Se.quill.getLine(pt.index),Ut=q(mt,2),Tn=Ut[0],In=Ut[1],Ve=Se.quill.getLeaf(pt.index),je=q(Ve,2),nt=je[0],Xe=je[1],qe=0===pt.length?[nt,Xe]:Se.quill.getLeaf(pt.index+pt.length),et=q(qe,2),Rt=et[0],xt=et[1],pn=nt instanceof V.default.Text?nt.value().slice(0,Xe):"",Cn=Rt instanceof V.default.Text?Rt.value().slice(xt):"",an={collapsed:0===pt.length,empty:0===pt.length&&Tn.length()<=1,format:Se.quill.getFormat(pt),offset:In,prefix:pn,suffix:Cn};dt.some(function(ot){if(null!=ot.collapsed&&ot.collapsed!==an.collapsed||null!=ot.empty&&ot.empty!==an.empty||null!=ot.offset&&ot.offset!==an.offset)return!1;if(Array.isArray(ot.format)){if(ot.format.every(function(Dt){return null==an.format[Dt]}))return!1}else if("object"===z(ot.format)&&!Object.keys(ot.format).every(function(Dt){return!0===ot.format[Dt]?null!=an.format[Dt]:!1===ot.format[Dt]?null==an.format[Dt]:(0,A.default)(ot.format[Dt],an.format[Dt])}))return!1;return!(null!=ot.prefix&&!ot.prefix.test(an.prefix)||null!=ot.suffix&&!ot.suffix.test(an.suffix))&&!0!==ot.handler.call(Se,pt,an)})&&Oe.preventDefault()}}}})}}]),we}(re.default);function Ne(ae,we){var Ce;return H(Ce={key:ae,shiftKey:we,altKey:null},ae===Ie.keys.LEFT?"prefix":"suffix",/^$/),H(Ce,"handler",function(Qe){var dt=Qe.index;ae===Ie.keys.RIGHT&&(dt+=Qe.length+1);var pt=this.quill.getLeaf(dt);return!(q(pt,1)[0]instanceof V.default.Embed&&(ae===Ie.keys.LEFT?we?this.quill.setSelection(Qe.index-1,Qe.length+1,L.default.sources.USER):this.quill.setSelection(Qe.index-1,L.default.sources.USER):we?this.quill.setSelection(Qe.index,Qe.length+1,L.default.sources.USER):this.quill.setSelection(Qe.index+Qe.length+1,L.default.sources.USER),1))}),Ce}function ue(ae,we){if(!(0===ae.index||this.quill.getLength()<=1)){var Ce=this.quill.getLine(ae.index),Oe=q(Ce,1)[0],Qe={};if(0===we.offset){var dt=this.quill.getLine(ae.index-1),mt=q(dt,1)[0];if(null!=mt&&mt.length()>1){var Ut=Oe.formats(),Tn=this.quill.getFormat(ae.index-1,1);Qe=S.default.attributes.diff(Ut,Tn)||{}}}var In=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(we.prefix)?2:1;this.quill.deleteText(ae.index-In,In,L.default.sources.USER),Object.keys(Qe).length>0&&this.quill.formatLine(ae.index-In,In,Qe,L.default.sources.USER),this.quill.focus()}}function oe(ae,we){var Ce=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(we.suffix)?2:1;if(!(ae.index>=this.quill.getLength()-Ce)){var Se={},Oe=0,Qe=this.quill.getLine(ae.index),pt=q(Qe,1)[0];if(we.offset>=pt.length()-1){var mt=this.quill.getLine(ae.index+1),Tn=q(mt,1)[0];if(Tn){var In=pt.formats(),Ve=this.quill.getFormat(ae.index,1);Se=S.default.attributes.diff(In,Ve)||{},Oe=Tn.length()}}this.quill.deleteText(ae.index,Ce,L.default.sources.USER),Object.keys(Se).length>0&&this.quill.formatLine(ae.index+Oe-1,Ce,Se,L.default.sources.USER)}}function J(ae){var we=this.quill.getLines(ae),Ce={};if(we.length>1){var Se=we[0].formats(),Oe=we[we.length-1].formats();Ce=S.default.attributes.diff(Oe,Se)||{}}this.quill.deleteText(ae,L.default.sources.USER),Object.keys(Ce).length>0&&this.quill.formatLine(ae.index,1,Ce,L.default.sources.USER),this.quill.setSelection(ae.index,L.default.sources.SILENT),this.quill.focus()}function se(ae,we){var Ce=this;ae.length>0&&this.quill.scroll.deleteAt(ae.index,ae.length);var Se=Object.keys(we.format).reduce(function(Oe,Qe){return V.default.query(Qe,V.default.Scope.BLOCK)&&!Array.isArray(we.format[Qe])&&(Oe[Qe]=we.format[Qe]),Oe},{});this.quill.insertText(ae.index,"\n",Se,L.default.sources.USER),this.quill.setSelection(ae.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(we.format).forEach(function(Oe){null==Se[Oe]&&(Array.isArray(we.format[Oe])||"link"!==Oe&&Ce.quill.format(Oe,we.format[Oe],L.default.sources.USER))})}function ce(ae){return{key:Ie.keys.TAB,shiftKey:!ae,format:{"code-block":!0},handler:function(Ce){var Se=V.default.query("code-block"),Oe=Ce.index,Qe=Ce.length,dt=this.quill.scroll.descendant(Se,Oe),pt=q(dt,2),mt=pt[0],Ut=pt[1];if(null!=mt){var Tn=this.quill.getIndex(mt),In=mt.newlineIndex(Ut,!0)+1,Ve=mt.newlineIndex(Tn+Ut+Qe),je=mt.domNode.textContent.slice(In,Ve).split("\n");Ut=0,je.forEach(function(nt,Xe){ae?(mt.insertAt(In+Ut,Se.TAB),Ut+=Se.TAB.length,0===Xe?Oe+=Se.TAB.length:Qe+=Se.TAB.length):nt.startsWith(Se.TAB)&&(mt.deleteAt(In+Ut,Se.TAB.length),Ut-=Se.TAB.length,0===Xe?Oe-=Se.TAB.length:Qe-=Se.TAB.length),Ut+=nt.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(Oe,Qe,L.default.sources.SILENT)}}}}function ye(ae){return{key:ae[0].toUpperCase(),shortKey:!0,handler:function(Ce,Se){this.quill.format(ae,!Se.format[ae],L.default.sources.USER)}}}function _e(ae){if("string"==typeof ae||"number"==typeof ae)return _e({key:ae});if("object"===(typeof ae>"u"?"undefined":z(ae))&&(ae=(0,j.default)(ae,!1)),"string"==typeof ae.key)if(null!=Ie.keys[ae.key.toUpperCase()])ae.key=Ie.keys[ae.key.toUpperCase()];else{if(1!==ae.key.length)return null;ae.key=ae.key.toUpperCase().charCodeAt(0)}return ae.shortKey&&(ae[me]=ae.shortKey,delete ae.shortKey),ae}Ie.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Ie.DEFAULTS={bindings:{bold:ye("bold"),italic:ye("italic"),underline:ye("underline"),indent:{key:Ie.keys.TAB,format:["blockquote","indent","list"],handler:function(we,Ce){if(Ce.collapsed&&0!==Ce.offset)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:Ie.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(we,Ce){if(Ce.collapsed&&0!==Ce.offset)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:Ie.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(we,Ce){null!=Ce.format.indent?this.quill.format("indent","-1",L.default.sources.USER):null!=Ce.format.list&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":ce(!0),"outdent code-block":ce(!1),"remove tab":{key:Ie.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(we){this.quill.deleteText(we.index-1,1,L.default.sources.USER)}},tab:{key:Ie.keys.TAB,handler:function(we){this.quill.history.cutoff();var Ce=(new D.default).retain(we.index).delete(we.length).insert("\t");this.quill.updateContents(Ce,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(we.index+1,L.default.sources.SILENT)}},"list empty enter":{key:Ie.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(we,Ce){this.quill.format("list",!1,L.default.sources.USER),Ce.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:Ie.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(we){var Ce=this.quill.getLine(we.index),Se=q(Ce,2),Oe=Se[0],Qe=Se[1],dt=(0,v.default)({},Oe.formats(),{list:"checked"}),pt=(new D.default).retain(we.index).insert("\n",dt).retain(Oe.length()-Qe-1).retain(1,{list:"unchecked"});this.quill.updateContents(pt,L.default.sources.USER),this.quill.setSelection(we.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Ie.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(we,Ce){var Se=this.quill.getLine(we.index),Oe=q(Se,2),Qe=Oe[0],dt=Oe[1],pt=(new D.default).retain(we.index).insert("\n",Ce.format).retain(Qe.length()-dt-1).retain(1,{header:null});this.quill.updateContents(pt,L.default.sources.USER),this.quill.setSelection(we.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(we,Ce){var Se=Ce.prefix.length,Oe=this.quill.getLine(we.index),Qe=q(Oe,2),dt=Qe[0],pt=Qe[1];if(pt>Se)return!0;var mt=void 0;switch(Ce.prefix.trim()){case"[]":case"[ ]":mt="unchecked";break;case"[x]":mt="checked";break;case"-":case"*":mt="bullet";break;default:mt="ordered"}this.quill.insertText(we.index," ",L.default.sources.USER),this.quill.history.cutoff();var Ut=(new D.default).retain(we.index-pt).delete(Se+1).retain(dt.length()-2-pt).retain(1,{list:mt});this.quill.updateContents(Ut,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(we.index-Se,L.default.sources.SILENT)}},"code exit":{key:Ie.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(we){var Ce=this.quill.getLine(we.index),Se=q(Ce,2),Oe=Se[0],Qe=Se[1],dt=(new D.default).retain(we.index+Oe.length()-Qe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(dt,L.default.sources.USER)}},"embed left":Ne(Ie.keys.LEFT,!1),"embed left shift":Ne(Ie.keys.LEFT,!0),"embed right":Ne(Ie.keys.RIGHT,!1),"embed right shift":Ne(Ie.keys.RIGHT,!0)}},N.default=Ie,N.SHORTKEY=me},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(x,V){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return function S(x,V){var w=[],L=!0,X=!1,Z=void 0;try{for(var re,Y=x[Symbol.iterator]();!(L=(re=Y.next()).done)&&(w.push(re.value),!V||w.length!==V);L=!0);}catch(G){X=!0,Z=G}finally{try{!L&&Y.return&&Y.return()}finally{if(X)throw Z}}return w}(x,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function S(x,V,w){null===x&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,V);if(void 0===L){var X=Object.getPrototypeOf(x);return null===X?void 0:S(X,V,w)}if("value"in L)return L.value;var Z=L.get;return void 0===Z?void 0:Z.call(w)},Q=function(){function S(x,V){for(var w=0;w<V.length;w++){var L=V[w];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,V,w){return V&&S(x.prototype,V),w&&S(x,w),x}}(),j=I(c(0)),A=I(c(7));function I(S){return S&&S.__esModule?S:{default:S}}var R=function(S){function x(V,w){!function v(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var L=function C(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?S:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,V));return L.selection=w,L.textNode=document.createTextNode(x.CONTENTS),L.domNode.appendChild(L.textNode),L._length=0,L}return function D(S,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}(x,S),Q(x,null,[{key:"value",value:function(){}}]),Q(x,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(w,L){if(0!==this._length)return q(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,w,L);for(var X=this,Z=0;null!=X&&X.statics.scope!==j.default.Scope.BLOCK_BLOT;)Z+=X.offset(X.parent),X=X.parent;null!=X&&(this._length=x.CONTENTS.length,X.optimize(),X.formatAt(Z,x.CONTENTS.length,w,L),this._length=0)}},{key:"index",value:function(w,L){return w===this.textNode?0:q(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,L)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){q(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var w=this.textNode,L=this.selection.getNativeRange(),X=void 0,Z=void 0,Y=void 0;if(null!=L&&L.start.node===w&&L.end.node===w){var re=[w,L.start.offset,L.end.offset];X=re[0],Z=re[1],Y=re[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var G=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof A.default?(X=this.next.domNode,this.next.insertAt(0,G),this.textNode.data=x.CONTENTS):(this.textNode.data=G,this.parent.insertBefore(j.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=Z){var H=[Z,Y].map(function(K){return Math.max(0,Math.min(X.data.length,K-1))}),F=z(H,2);return{startNode:X,startOffset:Z=F[0],endNode:X,endOffset:Y=F[1]}}}}},{key:"update",value:function(w,L){var X=this;if(w.some(function(Y){return"characterData"===Y.type&&Y.target===X.textNode})){var Z=this.restore();Z&&(L.range=Z)}}},{key:"value",value:function(){return""}}]),x}(j.default.Embed);R.blotName="cursor",R.className="ql-cursor",R.tagName="span",R.CONTENTS="\ufeff",N.default=R},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var q=j(c(0)),Q=c(4),B=j(Q);function j(C){return C&&C.__esModule?C:{default:C}}function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}var v=function(C){function D(){return U(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),D}(q.default.Container);v.allowedChildren=[B.default,Q.BlockEmbed,v],N.default=v},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.ColorStyle=N.ColorClass=N.ColorAttributor=void 0;var z=function(){function R(S,x){for(var V=0;V<x.length;V++){var w=x[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,x,V){return x&&R(S.prototype,x),V&&R(S,V),S}}(),q=function R(S,x,V){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,x);if(void 0===w){var L=Object.getPrototypeOf(S);return null===L?void 0:R(L,x,V)}if("value"in w)return w.value;var X=w.get;return void 0===X?void 0:X.call(V)},B=function j(R){return R&&R.__esModule?R:{default:R}}(c(0));function U(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function A(R,S){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?R:S}var v=function(R){function S(){return U(this,S),A(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function I(R,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(R,S):R.__proto__=S)}(S,R),z(S,[{key:"value",value:function(V){var w=q(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,V);return w.startsWith("rgb(")?"#"+(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(L){return("00"+parseInt(L).toString(16)).slice(-2)}).join(""):w}}]),S}(B.default.Attributor.Style),C=new B.default.Attributor.Class("color","ql-color",{scope:B.default.Scope.INLINE}),D=new v("color","color",{scope:B.default.Scope.INLINE});N.ColorAttributor=v,N.ColorClass=C,N.ColorStyle=D},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.sanitize=N.default=void 0;var z=function(){function D(R,S){for(var x=0;x<S.length;x++){var V=S[x];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,S,x){return S&&D(R.prototype,S),x&&D(R,x),R}}(),q=function D(R,S,x){null===R&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,S);if(void 0===V){var w=Object.getPrototypeOf(R);return null===w?void 0:D(w,S,x)}if("value"in V)return V.value;var L=V.get;return void 0===L?void 0:L.call(x)};function U(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function A(D,R){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?D:R}var v=function(D){function R(){return U(this,R),A(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function I(D,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}(R,D),z(R,[{key:"format",value:function(x,V){if(x!==this.statics.blotName||!V)return q(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,x,V);V=this.constructor.sanitize(V),this.domNode.setAttribute("href",V)}}],[{key:"create",value:function(x){var V=q(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,x);return x=this.sanitize(x),V.setAttribute("href",x),V.setAttribute("rel","noopener noreferrer"),V.setAttribute("target","_blank"),V}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return C(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),R}(function j(D){return D&&D.__esModule?D:{default:D}}(c(6)).default);function C(D,R){var S=document.createElement("a");S.href=D;var x=S.href.slice(0,S.href.indexOf(":"));return R.indexOf(x)>-1}v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"],N.default=v,N.sanitize=C},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},q=function(){function R(S,x){for(var V=0;V<x.length;V++){var w=x[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,x,V){return x&&R(S.prototype,x),V&&R(S,V),S}}(),B=A(c(23)),U=A(c(107));function A(R){return R&&R.__esModule?R:{default:R}}var v=0;function C(R,S){R.setAttribute(S,"true"!==R.getAttribute(S))}var D=function(){function R(S){var x=this;(function I(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")})(this,R),this.select=S,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(V){switch(V.keyCode){case B.default.keys.ENTER:x.togglePicker();break;case B.default.keys.ESCAPE:x.escape(),V.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return q(R,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),C(this.label,"aria-expanded"),C(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var V=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),x.hasAttribute("value")&&w.setAttribute("data-value",x.getAttribute("value")),x.textContent&&w.setAttribute("data-label",x.textContent),w.addEventListener("click",function(){V.selectItem(w,!0)}),w.addEventListener("keydown",function(L){switch(L.keyCode){case B.default.keys.ENTER:V.selectItem(w,!0),L.preventDefault();break;case B.default.keys.ESCAPE:V.escape(),L.preventDefault()}}),w}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=U.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,V=document.createElement("span");V.classList.add("ql-picker-options"),V.setAttribute("aria-hidden","true"),V.tabIndex="-1",V.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",V.id),this.options=V,[].slice.call(this.select.options).forEach(function(w){var L=x.buildItem(w);V.appendChild(L),!0===w.selected&&x.selectItem(L)}),this.container.appendChild(V)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(V){x.container.setAttribute(V.name,V.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var V=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=this.container.querySelector(".ql-selected");if(x!==w&&(w?.classList.remove("ql-selected"),null!=x&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),V))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":z(Event))){var L=document.createEvent("Event");L.initEvent("change",!0,!0),this.select.dispatchEvent(L)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var V=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(V)}else this.selectItem(null);var w=null!=x&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),R}();N.default=D},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var q=fe(c(0)),B=fe(c(5)),j=c(4),U=fe(j),I=fe(c(16)),C=fe(c(25)),R=fe(c(24)),x=fe(c(35)),w=fe(c(6)),X=fe(c(22)),Y=fe(c(7)),G=fe(c(55)),F=fe(c(42)),ne=fe(c(23));function fe(me){return me&&me.__esModule?me:{default:me}}B.default.register({"blots/block":U.default,"blots/block/embed":j.BlockEmbed,"blots/break":I.default,"blots/container":C.default,"blots/cursor":R.default,"blots/embed":x.default,"blots/inline":w.default,"blots/scroll":X.default,"blots/text":Y.default,"modules/clipboard":G.default,"modules/history":F.default,"modules/keyboard":ne.default}),q.default.register(U.default,I.default,R.default,w.default,X.default,Y.default),N.default=B.default},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=c(1),q=function(){function Q(B){this.domNode=B,this.domNode[z.DATA_KEY]={blot:this}}return Object.defineProperty(Q.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),Q.create=function(B){if(null==this.tagName)throw new z.ParchmentError("Blot definition missing tagName");var j;return Array.isArray(this.tagName)?("string"==typeof B&&(B=B.toUpperCase(),parseInt(B).toString()===B&&(B=parseInt(B))),j="number"==typeof B?document.createElement(this.tagName[B-1]):this.tagName.indexOf(B)>-1?document.createElement(B):document.createElement(this.tagName[0])):j=document.createElement(this.tagName),this.className&&j.classList.add(this.className),j},Q.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},Q.prototype.clone=function(){var B=this.domNode.cloneNode(!1);return z.create(B)},Q.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[z.DATA_KEY]},Q.prototype.deleteAt=function(B,j){this.isolate(B,j).remove()},Q.prototype.formatAt=function(B,j,U,A){var I=this.isolate(B,j);if(null!=z.query(U,z.Scope.BLOT)&&A)I.wrap(U,A);else if(null!=z.query(U,z.Scope.ATTRIBUTE)){var v=z.create(this.statics.scope);I.wrap(v),v.format(U,A)}},Q.prototype.insertAt=function(B,j,U){var A=null==U?z.create("text",j):z.create(j,U),I=this.split(B);this.parent.insertBefore(A,I)},Q.prototype.insertInto=function(B,j){void 0===j&&(j=null),null!=this.parent&&this.parent.children.remove(this);var U=null;B.children.insertBefore(this,j),null!=j&&(U=j.domNode),(this.domNode.parentNode!=B.domNode||this.domNode.nextSibling!=U)&&B.domNode.insertBefore(this.domNode,U),this.parent=B,this.attach()},Q.prototype.isolate=function(B,j){var U=this.split(B);return U.split(j),U},Q.prototype.length=function(){return 1},Q.prototype.offset=function(B){return void 0===B&&(B=this.parent),null==this.parent||this==B?0:this.parent.children.offset(this)+this.parent.offset(B)},Q.prototype.optimize=function(B){null!=this.domNode[z.DATA_KEY]&&delete this.domNode[z.DATA_KEY].mutations},Q.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},Q.prototype.replace=function(B){null!=B.parent&&(B.parent.insertBefore(this,B.next),B.remove())},Q.prototype.replaceWith=function(B,j){var U="string"==typeof B?z.create(B,j):B;return U.replace(this),U},Q.prototype.split=function(B,j){return 0===B?this:this.next},Q.prototype.update=function(B,j){},Q.prototype.wrap=function(B,j){var U="string"==typeof B?z.create(B,j):B;return null!=this.parent&&this.parent.insertBefore(U,this.next),U.appendChild(this),U},Q.blotName="abstract",Q}();N.default=q},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=c(12),q=c(32),Q=c(33),B=c(1),j=function(){function U(A){this.attributes={},this.domNode=A,this.build()}return U.prototype.attribute=function(A,I){I?A.add(this.domNode,I)&&(null!=A.value(this.domNode)?this.attributes[A.attrName]=A:delete this.attributes[A.attrName]):(A.remove(this.domNode),delete this.attributes[A.attrName])},U.prototype.build=function(){var A=this;this.attributes={};var I=z.default.keys(this.domNode),v=q.default.keys(this.domNode),C=Q.default.keys(this.domNode);I.concat(v).concat(C).forEach(function(D){var R=B.query(D,B.Scope.ATTRIBUTE);R instanceof z.default&&(A.attributes[R.attrName]=R)})},U.prototype.copy=function(A){var I=this;Object.keys(this.attributes).forEach(function(v){var C=I.attributes[v].value(I.domNode);A.format(v,C)})},U.prototype.move=function(A){var I=this;this.copy(A),Object.keys(this.attributes).forEach(function(v){I.attributes[v].remove(I.domNode)}),this.attributes={}},U.prototype.values=function(){var A=this;return Object.keys(this.attributes).reduce(function(I,v){return I[v]=A.attributes[v].value(A.domNode),I},{})},U}();N.default=j},function(ge,N,c){"use strict";var j,z=this&&this.__extends||(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var I in A)A.hasOwnProperty(I)&&(U[I]=A[I])},function(U,A){function I(){this.constructor=U}j(U,A),U.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)});function Q(j,U){return(j.getAttribute("class")||"").split(/\s+/).filter(function(I){return 0===I.indexOf(U+"-")})}Object.defineProperty(N,"__esModule",{value:!0});var B=function(j){function U(){return null!==j&&j.apply(this,arguments)||this}return z(U,j),U.keys=function(A){return(A.getAttribute("class")||"").split(/\s+/).map(function(I){return I.split("-").slice(0,-1).join("-")})},U.prototype.add=function(A,I){return!!this.canAdd(A,I)&&(this.remove(A),A.classList.add(this.keyName+"-"+I),!0)},U.prototype.remove=function(A){Q(A,this.keyName).forEach(function(v){A.classList.remove(v)}),0===A.classList.length&&A.removeAttribute("class")},U.prototype.value=function(A){var v=(Q(A,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(A,v)?v:""},U}(c(12).default);N.default=B},function(ge,N,c){"use strict";var j,z=this&&this.__extends||(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var I in A)A.hasOwnProperty(I)&&(U[I]=A[I])},function(U,A){function I(){this.constructor=U}j(U,A),U.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)});function Q(j){var U=j.split("-"),A=U.slice(1).map(function(I){return I[0].toUpperCase()+I.slice(1)}).join("");return U[0]+A}Object.defineProperty(N,"__esModule",{value:!0});var B=function(j){function U(){return null!==j&&j.apply(this,arguments)||this}return z(U,j),U.keys=function(A){return(A.getAttribute("style")||"").split(";").map(function(I){return I.split(":")[0].trim()})},U.prototype.add=function(A,I){return!!this.canAdd(A,I)&&(A.style[Q(this.keyName)]=I,!0)},U.prototype.remove=function(A){A.style[Q(this.keyName)]="",A.getAttribute("style")||A.removeAttribute("style")},U.prototype.value=function(A){var I=A.style[Q(this.keyName)];return this.canAdd(A,I)?I:""},U}(c(12).default);N.default=B},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function B(j,U){for(var A=0;A<U.length;A++){var I=U[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,I.key,I)}}return function(j,U,A){return U&&B(j.prototype,U),A&&B(j,A),j}}();var Q=function(){function B(j,U){(function q(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")})(this,B),this.quill=j,this.options=U,this.modules={}}return z(B,[{key:"init",value:function(){var U=this;Object.keys(this.options.modules).forEach(function(A){null==U.modules[A]&&U.addModule(A)})}},{key:"addModule",value:function(U){var A=this.quill.constructor.import("modules/"+U);return this.modules[U]=new A(this.quill,this.options.modules[U]||{}),this.modules[U]}}]),B}();Q.DEFAULTS={modules:{}},Q.themes={default:Q},N.default=Q},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function S(x,V){for(var w=0;w<V.length;w++){var L=V[w];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,V,w){return V&&S(x.prototype,V),w&&S(x,w),x}}(),q=function S(x,V,w){null===x&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,V);if(void 0===L){var X=Object.getPrototypeOf(x);return null===X?void 0:S(X,V,w)}if("value"in L)return L.value;var Z=L.get;return void 0===Z?void 0:Z.call(w)},B=A(c(0)),U=A(c(7));function A(S){return S&&S.__esModule?S:{default:S}}var D="\ufeff",R=function(S){function x(V){!function I(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var w=function v(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?S:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,V));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(L){w.contentNode.appendChild(L)}),w.leftGuard=document.createTextNode(D),w.rightGuard=document.createTextNode(D),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return function C(S,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}(x,S),z(x,[{key:"index",value:function(w,L){return w===this.leftGuard?0:w===this.rightGuard?1:q(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,w,L)}},{key:"restore",value:function(w){var L=void 0,X=void 0,Z=w.data.split(D).join("");if(w===this.leftGuard)if(this.prev instanceof U.default){var Y=this.prev.length();this.prev.insertAt(Y,Z),L={startNode:this.prev.domNode,startOffset:Y+Z.length}}else X=document.createTextNode(Z),this.parent.insertBefore(B.default.create(X),this),L={startNode:X,startOffset:Z.length};else w===this.rightGuard&&(this.next instanceof U.default?(this.next.insertAt(0,Z),L={startNode:this.next.domNode,startOffset:Z.length}):(X=document.createTextNode(Z),this.parent.insertBefore(B.default.create(X),this.next),L={startNode:X,startOffset:Z.length}));return w.data=D,L}},{key:"update",value:function(w,L){var X=this;w.forEach(function(Z){if("characterData"===Z.type&&(Z.target===X.leftGuard||Z.target===X.rightGuard)){var Y=X.restore(Z.target);Y&&(L.range=Y)}})}}]),x}(B.default.Embed);N.default=R},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.AlignStyle=N.AlignClass=N.AlignAttribute=void 0;var q=function Q(I){return I&&I.__esModule?I:{default:I}}(c(0));var B={scope:q.default.Scope.BLOCK,whitelist:["right","center","justify"]},j=new q.default.Attributor.Attribute("align","align",B),U=new q.default.Attributor.Class("align","ql-align",B),A=new q.default.Attributor.Style("align","text-align",B);N.AlignAttribute=j,N.AlignClass=U,N.AlignStyle=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.BackgroundStyle=N.BackgroundClass=void 0;var q=function B(A){return A&&A.__esModule?A:{default:A}}(c(0)),Q=c(26);var j=new q.default.Attributor.Class("background","ql-bg",{scope:q.default.Scope.INLINE}),U=new Q.ColorAttributor("background","background-color",{scope:q.default.Scope.INLINE});N.BackgroundClass=j,N.BackgroundStyle=U},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.DirectionStyle=N.DirectionClass=N.DirectionAttribute=void 0;var q=function Q(I){return I&&I.__esModule?I:{default:I}}(c(0));var B={scope:q.default.Scope.BLOCK,whitelist:["rtl"]},j=new q.default.Attributor.Attribute("direction","dir",B),U=new q.default.Attributor.Class("direction","ql-direction",B),A=new q.default.Attributor.Style("direction","direction",B);N.DirectionAttribute=j,N.DirectionClass=U,N.DirectionStyle=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.FontClass=N.FontStyle=void 0;var z=function(){function S(x,V){for(var w=0;w<V.length;w++){var L=V[w];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,V,w){return V&&S(x.prototype,V),w&&S(x,w),x}}(),q=function S(x,V,w){null===x&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,V);if(void 0===L){var X=Object.getPrototypeOf(x);return null===X?void 0:S(X,V,w)}if("value"in L)return L.value;var Z=L.get;return void 0===Z?void 0:Z.call(w)},B=function j(S){return S&&S.__esModule?S:{default:S}}(c(0));function U(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function A(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?S:x}var v={scope:B.default.Scope.INLINE,whitelist:["serif","monospace"]},C=new B.default.Attributor.Class("font","ql-font",v),D=function(S){function x(){return U(this,x),A(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(S,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}(x,S),z(x,[{key:"value",value:function(w){return q(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),x}(B.default.Attributor.Style),R=new D("font","font-family",v);N.FontStyle=R,N.FontClass=C},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.SizeStyle=N.SizeClass=void 0;var q=function Q(U){return U&&U.__esModule?U:{default:U}}(c(0));var B=new q.default.Attributor.Class("size","ql-size",{scope:q.default.Scope.INLINE,whitelist:["small","large","huge"]}),j=new q.default.Attributor.Style("size","font-size",{scope:q.default.Scope.INLINE,whitelist:["10px","18px","32px"]});N.SizeClass=B,N.SizeStyle=j},function(ge,N,c){"use strict";ge.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.getLastChangeIndex=N.default=void 0;var z=function(){function V(w,L){for(var X=0;X<L.length;X++){var Z=L[X];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(w,Z.key,Z)}}return function(w,L,X){return L&&V(w.prototype,L),X&&V(w,X),w}}(),Q=I(c(0)),j=I(c(5));function I(V){return V&&V.__esModule?V:{default:V}}var R=function(V){function w(L,X){!function v(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var Z=function C(V,w){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?V:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,L,X));return Z.lastRecorded=0,Z.ignoreChange=!1,Z.clear(),Z.quill.on(j.default.events.EDITOR_CHANGE,function(Y,re,G,H){Y!==j.default.events.TEXT_CHANGE||Z.ignoreChange||(Z.options.userOnly&&H!==j.default.sources.USER?Z.transform(re):Z.record(re,G))}),Z.quill.keyboard.addBinding({key:"Z",shortKey:!0},Z.undo.bind(Z)),Z.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},Z.redo.bind(Z)),/Win/i.test(navigator.platform)&&Z.quill.keyboard.addBinding({key:"Y",shortKey:!0},Z.redo.bind(Z)),Z}return function D(V,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);V.prototype=Object.create(w&&w.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(V,w):V.__proto__=w)}(w,V),z(w,[{key:"change",value:function(X,Z){if(0!==this.stack[X].length){var Y=this.stack[X].pop();this.stack[Z].push(Y),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(Y[X],j.default.sources.USER),this.ignoreChange=!1;var re=x(Y[X]);this.quill.setSelection(re)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(X,Z){if(0!==X.ops.length){this.stack.redo=[];var Y=this.quill.getContents().diff(Z),re=Date.now();if(this.lastRecorded+this.options.delay>re&&this.stack.undo.length>0){var G=this.stack.undo.pop();Y=Y.compose(G.undo),X=G.redo.compose(X)}else this.lastRecorded=re;this.stack.undo.push({redo:X,undo:Y}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(X){this.stack.undo.forEach(function(Z){Z.undo=X.transform(Z.undo,!0),Z.redo=X.transform(Z.redo,!0)}),this.stack.redo.forEach(function(Z){Z.undo=X.transform(Z.undo,!0),Z.redo=X.transform(Z.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(I(c(9)).default);function x(V){var w=V.reduce(function(X,Z){return X+(Z.delete||0)},0),L=V.length()-w;return function S(V){var w=V.ops[V.ops.length-1];return null!=w&&(null!=w.insert?"string"==typeof w.insert&&w.insert.endsWith("\n"):null!=w.attributes&&Object.keys(w.attributes).some(function(L){return null!=Q.default.query(L,Q.default.Scope.BLOCK)}))}(V)&&(L-=1),L}R.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},N.default=R,N.getLastChangeIndex=x},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.BaseTooltip=void 0;var z=function(){function se(ce,ye){for(var _e=0;_e<ye.length;_e++){var ae=ye[_e];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ce,ae.key,ae)}}return function(ce,ye,_e){return ye&&se(ce.prototype,ye),_e&&se(ce,_e),ce}}(),q=function se(ce,ye,_e){null===ce&&(ce=Function.prototype);var ae=Object.getOwnPropertyDescriptor(ce,ye);if(void 0===ae){var we=Object.getPrototypeOf(ce);return null===we?void 0:se(we,ye,_e)}if("value"in ae)return ae.value;var Ce=ae.get;return void 0===Ce?void 0:Ce.call(_e)},B=re(c(3)),U=re(c(2)),I=re(c(8)),C=re(c(23)),R=re(c(34)),x=re(c(59)),w=re(c(60)),X=re(c(28)),Y=re(c(61));function re(se){return se&&se.__esModule?se:{default:se}}function G(se,ce){if(!(se instanceof ce))throw new TypeError("Cannot call a class as a function")}function H(se,ce){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||"object"!=typeof ce&&"function"!=typeof ce?se:ce}function F(se,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);se.prototype=Object.create(ce&&ce.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(se,ce):se.__proto__=ce)}var K=[!1,"center","right","justify"],ne=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fe=[!1,"serif","monospace"],me=["1","2","3",!1],Ie=["small",!1,"large","huge"],Ne=function(se){function ce(ye,_e){G(this,ce);var ae=H(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,ye,_e));return ye.emitter.listenDOM("click",document.body,function Ce(Se){if(!document.body.contains(ye.root))return document.body.removeEventListener("click",Ce);null!=ae.tooltip&&!ae.tooltip.root.contains(Se.target)&&document.activeElement!==ae.tooltip.textbox&&!ae.quill.hasFocus()&&ae.tooltip.hide(),null!=ae.pickers&&ae.pickers.forEach(function(Oe){Oe.container.contains(Se.target)||Oe.close()})}),ae}return F(ce,se),z(ce,[{key:"addModule",value:function(_e){var ae=q(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),"addModule",this).call(this,_e);return"toolbar"===_e&&this.extendToolbar(ae),ae}},{key:"buildButtons",value:function(_e,ae){_e.forEach(function(we){(we.getAttribute("class")||"").split(/\s+/).forEach(function(Se){if(Se.startsWith("ql-")&&(Se=Se.slice(3),null!=ae[Se]))if("direction"===Se)we.innerHTML=ae[Se][""]+ae[Se].rtl;else if("string"==typeof ae[Se])we.innerHTML=ae[Se];else{var Oe=we.value||"";null!=Oe&&ae[Se][Oe]&&(we.innerHTML=ae[Se][Oe])}})})}},{key:"buildPickers",value:function(_e,ae){var we=this;this.pickers=_e.map(function(Se){if(Se.classList.contains("ql-align"))return null==Se.querySelector("option")&&J(Se,K),new w.default(Se,ae.align);if(Se.classList.contains("ql-background")||Se.classList.contains("ql-color")){var Oe=Se.classList.contains("ql-background")?"background":"color";return null==Se.querySelector("option")&&J(Se,ne,"background"===Oe?"#ffffff":"#000000"),new x.default(Se,ae[Oe])}return null==Se.querySelector("option")&&(Se.classList.contains("ql-font")?J(Se,fe):Se.classList.contains("ql-header")?J(Se,me):Se.classList.contains("ql-size")&&J(Se,Ie)),new X.default(Se)}),this.quill.on(I.default.events.EDITOR_CHANGE,function(){we.pickers.forEach(function(Oe){Oe.update()})})}}]),ce}(R.default);Ne.DEFAULTS=(0,B.default)(!0,{},R.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var ce=this,ye=this.container.querySelector("input.ql-image[type=file]");null==ye&&((ye=document.createElement("input")).setAttribute("type","file"),ye.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ye.classList.add("ql-image"),ye.addEventListener("change",function(){if(null!=ye.files&&null!=ye.files[0]){var _e=new FileReader;_e.onload=function(ae){var we=ce.quill.getSelection(!0);ce.quill.updateContents((new U.default).retain(we.index).delete(we.length).insert({image:ae.target.result}),I.default.sources.USER),ce.quill.setSelection(we.index+1,I.default.sources.SILENT),ye.value=""},_e.readAsDataURL(ye.files[0])}}),this.container.appendChild(ye)),ye.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ue=function(se){function ce(ye,_e){G(this,ce);var ae=H(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,ye,_e));return ae.textbox=ae.root.querySelector('input[type="text"]'),ae.listen(),ae}return F(ce,se),z(ce,[{key:"listen",value:function(){var _e=this;this.textbox.addEventListener("keydown",function(ae){C.default.match(ae,"enter")?(_e.save(),ae.preventDefault()):C.default.match(ae,"escape")&&(_e.cancel(),ae.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=ae?this.textbox.value=ae:_e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+_e)||""),this.root.setAttribute("data-mode",_e)}},{key:"restoreFocus",value:function(){var _e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=_e}},{key:"save",value:function(){var _e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var ae=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",_e,I.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",_e,I.default.sources.USER)),this.quill.root.scrollTop=ae;break;case"video":_e=function oe(se){var ce=se.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||se.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return ce?(ce[1]||"https")+"://www.youtube.com/embed/"+ce[2]+"?showinfo=0":(ce=se.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(ce[1]||"https")+"://player.vimeo.com/video/"+ce[2]+"/":se}(_e);case"formula":if(!_e)break;var we=this.quill.getSelection(!0);if(null!=we){var Ce=we.index+we.length;this.quill.insertEmbed(Ce,this.root.getAttribute("data-mode"),_e,I.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Ce+1," ",I.default.sources.USER),this.quill.setSelection(Ce+2,I.default.sources.USER)}}this.textbox.value="",this.hide()}}]),ce}(Y.default);function J(se,ce){var ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ce.forEach(function(_e){var ae=document.createElement("option");_e===ye?ae.setAttribute("selected","selected"):ae.setAttribute("value",_e),se.appendChild(ae)})}N.BaseTooltip=ue,N.default=Ne},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function q(){this.head=this.tail=null,this.length=0}return q.prototype.append=function(){for(var Q=[],B=0;B<arguments.length;B++)Q[B]=arguments[B];this.insertBefore(Q[0],null),Q.length>1&&this.append.apply(this,Q.slice(1))},q.prototype.contains=function(Q){for(var B,j=this.iterator();B=j();)if(B===Q)return!0;return!1},q.prototype.insertBefore=function(Q,B){Q&&(Q.next=B,null!=B?(Q.prev=B.prev,null!=B.prev&&(B.prev.next=Q),B.prev=Q,B===this.head&&(this.head=Q)):null!=this.tail?(this.tail.next=Q,Q.prev=this.tail,this.tail=Q):(Q.prev=null,this.head=this.tail=Q),this.length+=1)},q.prototype.offset=function(Q){for(var B=0,j=this.head;null!=j;){if(j===Q)return B;B+=j.length(),j=j.next}return-1},q.prototype.remove=function(Q){this.contains(Q)&&(null!=Q.prev&&(Q.prev.next=Q.next),null!=Q.next&&(Q.next.prev=Q.prev),Q===this.head&&(this.head=Q.next),Q===this.tail&&(this.tail=Q.prev),this.length-=1)},q.prototype.iterator=function(Q){return void 0===Q&&(Q=this.head),function(){var B=Q;return null!=Q&&(Q=Q.next),B}},q.prototype.find=function(Q,B){void 0===B&&(B=!1);for(var j,U=this.iterator();j=U();){var A=j.length();if(Q<A||B&&Q===A&&(null==j.next||0!==j.next.length()))return[j,Q];Q-=A}return[null,0]},q.prototype.forEach=function(Q){for(var B,j=this.iterator();B=j();)Q(B)},q.prototype.forEachAt=function(Q,B,j){if(!(B<=0))for(var v,U=this.find(Q),C=Q-U[1],D=this.iterator(U[0]);(v=D())&&C<Q+B;){var R=v.length();Q>C?j(v,Q-C,Math.min(B,C+R-Q)):j(v,0,Math.min(R,Q+B-C)),C+=R}},q.prototype.map=function(Q){return this.reduce(function(B,j){return B.push(Q(j)),B},[])},q.prototype.reduce=function(Q,B){for(var j,U=this.iterator();j=U();)B=Q(B,j);return B},q}();N.default=z},function(ge,N,c){"use strict";var A,z=this&&this.__extends||(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,v){I.__proto__=v}||function(I,v){for(var C in v)v.hasOwnProperty(C)&&(I[C]=v[C])},function(I,v){function C(){this.constructor=I}A(I,v),I.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(17),Q=c(1),B={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},U=function(A){function I(v){var C=A.call(this,v)||this;return C.scroll=C,C.observer=new MutationObserver(function(D){C.update(D)}),C.observer.observe(C.domNode,B),C.attach(),C}return z(I,A),I.prototype.detach=function(){A.prototype.detach.call(this),this.observer.disconnect()},I.prototype.deleteAt=function(v,C){this.update(),0===v&&C===this.length()?this.children.forEach(function(D){D.remove()}):A.prototype.deleteAt.call(this,v,C)},I.prototype.formatAt=function(v,C,D,R){this.update(),A.prototype.formatAt.call(this,v,C,D,R)},I.prototype.insertAt=function(v,C,D){this.update(),A.prototype.insertAt.call(this,v,C,D)},I.prototype.optimize=function(v,C){var D=this;void 0===v&&(v=[]),void 0===C&&(C={}),A.prototype.optimize.call(this,C);for(var R=[].slice.call(this.observer.takeRecords());R.length>0;)v.push(R.pop());for(var S=function(L,X){void 0===X&&(X=!0),null!=L&&L!==D&&null!=L.domNode.parentNode&&(null==L.domNode[Q.DATA_KEY].mutations&&(L.domNode[Q.DATA_KEY].mutations=[]),X&&S(L.parent))},x=function(L){null==L.domNode[Q.DATA_KEY]||null==L.domNode[Q.DATA_KEY].mutations||(L instanceof q.default&&L.children.forEach(x),L.optimize(C))},V=v,w=0;V.length>0;w+=1){if(w>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(V.forEach(function(L){var X=Q.find(L.target,!0);null!=X&&(X.domNode===L.target&&("childList"===L.type?(S(Q.find(L.previousSibling,!1)),[].forEach.call(L.addedNodes,function(Z){var Y=Q.find(Z,!1);S(Y,!1),Y instanceof q.default&&Y.children.forEach(function(re){S(re,!1)})})):"attributes"===L.type&&S(X.prev)),S(X))}),this.children.forEach(x),R=(V=[].slice.call(this.observer.takeRecords())).slice();R.length>0;)v.push(R.pop())}},I.prototype.update=function(v,C){var D=this;void 0===C&&(C={}),(v=v||this.observer.takeRecords()).map(function(R){var S=Q.find(R.target,!0);return null==S?null:null==S.domNode[Q.DATA_KEY].mutations?(S.domNode[Q.DATA_KEY].mutations=[R],S):(S.domNode[Q.DATA_KEY].mutations.push(R),null)}).forEach(function(R){null==R||R===D||null==R.domNode[Q.DATA_KEY]||R.update(R.domNode[Q.DATA_KEY].mutations||[],C)}),null!=this.domNode[Q.DATA_KEY].mutations&&A.prototype.update.call(this,this.domNode[Q.DATA_KEY].mutations,C),this.optimize(v,C)},I.blotName="scroll",I.defaultChild="block",I.scope=Q.Scope.BLOCK_BLOT,I.tagName="DIV",I}(q.default);N.default=U},function(ge,N,c){"use strict";var U,z=this&&this.__extends||(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var v in I)I.hasOwnProperty(v)&&(A[v]=I[v])},function(A,I){function v(){this.constructor=A}U(A,I),A.prototype=null===I?Object.create(I):(v.prototype=I.prototype,new v)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(18),Q=c(1);var j=function(U){function A(){return null!==U&&U.apply(this,arguments)||this}return z(A,U),A.formats=function(I){if(I.tagName!==A.tagName)return U.formats.call(this,I)},A.prototype.format=function(I,v){var C=this;I!==this.statics.blotName||v?U.prototype.format.call(this,I,v):(this.children.forEach(function(D){D instanceof q.default||(D=D.wrap(A.blotName,!0)),C.attributes.copy(D)}),this.unwrap())},A.prototype.formatAt=function(I,v,C,D){null!=this.formats()[C]||Q.query(C,Q.Scope.ATTRIBUTE)?this.isolate(I,v).format(C,D):U.prototype.formatAt.call(this,I,v,C,D)},A.prototype.optimize=function(I){U.prototype.optimize.call(this,I);var v=this.formats();if(0===Object.keys(v).length)return this.unwrap();var C=this.next;C instanceof A&&C.prev===this&&function B(U,A){if(Object.keys(U).length!==Object.keys(A).length)return!1;for(var I in U)if(U[I]!==A[I])return!1;return!0}(v,C.formats())&&(C.moveChildren(this),C.remove())},A.blotName="inline",A.scope=Q.Scope.INLINE_BLOT,A.tagName="SPAN",A}(q.default);N.default=j},function(ge,N,c){"use strict";var j,z=this&&this.__extends||(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var I in A)A.hasOwnProperty(I)&&(U[I]=A[I])},function(U,A){function I(){this.constructor=U}j(U,A),U.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(18),Q=c(1),B=function(j){function U(){return null!==j&&j.apply(this,arguments)||this}return z(U,j),U.formats=function(A){var I=Q.query(U.blotName).tagName;if(A.tagName!==I)return j.formats.call(this,A)},U.prototype.format=function(A,I){null!=Q.query(A,Q.Scope.BLOCK)&&(A!==this.statics.blotName||I?j.prototype.format.call(this,A,I):this.replaceWith(U.blotName))},U.prototype.formatAt=function(A,I,v,C){null!=Q.query(v,Q.Scope.BLOCK)?this.format(v,C):j.prototype.formatAt.call(this,A,I,v,C)},U.prototype.insertAt=function(A,I,v){if(null==v||null!=Q.query(I,Q.Scope.INLINE))j.prototype.insertAt.call(this,A,I,v);else{var C=this.split(A),D=Q.create(I,v);C.parent.insertBefore(D,C)}},U.prototype.update=function(A,I){navigator.userAgent.match(/Trident/)?this.build():j.prototype.update.call(this,A,I)},U.blotName="block",U.scope=Q.Scope.BLOCK_BLOT,U.tagName="P",U}(q.default);N.default=B},function(ge,N,c){"use strict";var B,z=this&&this.__extends||(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,U){j.__proto__=U}||function(j,U){for(var A in U)U.hasOwnProperty(A)&&(j[A]=U[A])},function(j,U){function A(){this.constructor=j}B(j,U),j.prototype=null===U?Object.create(U):(A.prototype=U.prototype,new A)});Object.defineProperty(N,"__esModule",{value:!0});var Q=function(B){function j(){return null!==B&&B.apply(this,arguments)||this}return z(j,B),j.formats=function(U){},j.prototype.format=function(U,A){B.prototype.formatAt.call(this,0,this.length(),U,A)},j.prototype.formatAt=function(U,A,I,v){0===U&&A===this.length()?this.format(I,v):B.prototype.formatAt.call(this,U,A,I,v)},j.prototype.formats=function(){return this.statics.formats(this.domNode)},j}(c(19).default);N.default=Q},function(ge,N,c){"use strict";var j,z=this&&this.__extends||(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var I in A)A.hasOwnProperty(I)&&(U[I]=A[I])},function(U,A){function I(){this.constructor=U}j(U,A),U.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)});Object.defineProperty(N,"__esModule",{value:!0});var q=c(19),Q=c(1),B=function(j){function U(A){var I=j.call(this,A)||this;return I.text=I.statics.value(I.domNode),I}return z(U,j),U.create=function(A){return document.createTextNode(A)},U.value=function(A){var I=A.data;return I.normalize&&(I=I.normalize()),I},U.prototype.deleteAt=function(A,I){this.domNode.data=this.text=this.text.slice(0,A)+this.text.slice(A+I)},U.prototype.index=function(A,I){return this.domNode===A?I:-1},U.prototype.insertAt=function(A,I,v){null==v?(this.text=this.text.slice(0,A)+I+this.text.slice(A),this.domNode.data=this.text):j.prototype.insertAt.call(this,A,I,v)},U.prototype.length=function(){return this.text.length},U.prototype.optimize=function(A){j.prototype.optimize.call(this,A),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof U&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},U.prototype.position=function(A,I){return void 0===I&&(I=!1),[this.domNode,A]},U.prototype.split=function(A,I){if(void 0===I&&(I=!1),!I){if(0===A)return this;if(A===this.length())return this.next}var v=Q.create(this.domNode.splitText(A));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},U.prototype.update=function(A,I){var v=this;A.some(function(C){return"characterData"===C.type&&C.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},U.prototype.value=function(){return this.text},U.blotName="text",U.scope=Q.Scope.INLINE_BLOT,U}(q.default);N.default=B},function(ge,N,c){"use strict";var z=document.createElement("div");if(z.classList.toggle("test-class",!1),z.classList.contains("test-class")){var q=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(Q,B){return arguments.length>1&&!this.contains(Q)==!B?B:q.call(this,Q)}}String.prototype.startsWith||(String.prototype.startsWith=function(Q,B){return this.substr(B=B||0,Q.length)===Q}),String.prototype.endsWith||(String.prototype.endsWith=function(Q,B){var j=this.toString();("number"!=typeof B||!isFinite(B)||Math.floor(B)!==B||B>j.length)&&(B=j.length);var U=j.indexOf(Q,B-=Q.length);return-1!==U&&U===B}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(B){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof B)throw new TypeError("predicate must be a function");for(var I,j=Object(this),U=j.length>>>0,A=arguments[1],v=0;v<U;v++)if(B.call(A,I=j[v],v,j))return I}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(ge,N){var c=-1;function Q(w,L,X){if(w==L)return w?[[0,w]]:[];(X<0||w.length<X)&&(X=null);var Z=A(w,L),Y=w.substring(0,Z);Z=I(w=w.substring(Z),L=L.substring(Z));var re=w.substring(w.length-Z),G=function B(w,L){var X;if(!w)return[[1,L]];if(!L)return[[c,w]];var Z=w.length>L.length?w:L,Y=w.length>L.length?L:w,re=Z.indexOf(Y);if(-1!=re)return X=[[1,Z.substring(0,re)],[0,Y],[1,Z.substring(re+Y.length)]],w.length>L.length&&(X[0][0]=X[2][0]=c),X;if(1==Y.length)return[[c,w],[1,L]];var G=function v(w,L){var X=w.length>L.length?w:L,Z=w.length>L.length?L:w;if(X.length<4||2*Z.length<X.length)return null;function Y(Ie,Ne,ue){for(var ce,ye,_e,ae,oe=Ie.substring(ue,ue+Math.floor(Ie.length/4)),J=-1,se="";-1!=(J=Ne.indexOf(oe,J+1));){var we=A(Ie.substring(ue),Ne.substring(J)),Ce=I(Ie.substring(0,ue),Ne.substring(0,J));se.length<Ce+we&&(se=Ne.substring(J-Ce,J)+Ne.substring(J,J+we),ce=Ie.substring(0,ue-Ce),ye=Ie.substring(ue+we),_e=Ne.substring(0,J-Ce),ae=Ne.substring(J+we))}return 2*se.length>=Ie.length?[ce,ye,_e,ae,se]:null}var H,F,K,ne,fe,re=Y(X,Z,Math.ceil(X.length/4)),G=Y(X,Z,Math.ceil(X.length/2));return re||G?(H=G?re&&re[4].length>G[4].length?re:G:re,w.length>L.length?(F=H[0],K=H[1],ne=H[2],fe=H[3]):(ne=H[0],fe=H[1],F=H[2],K=H[3]),[F,K,ne,fe,H[4]]):null}(w,L);if(G){var F=G[1],ne=G[3],fe=G[4],me=Q(G[0],G[2]),Ie=Q(F,ne);return me.concat([[0,fe]],Ie)}return function j(w,L){for(var X=w.length,Z=L.length,Y=Math.ceil((X+Z)/2),re=Y,G=2*Y,H=new Array(G),F=new Array(G),K=0;K<G;K++)H[K]=-1,F[K]=-1;H[re+1]=0,F[re+1]=0;for(var ne=X-Z,fe=ne%2!=0,me=0,Ie=0,Ne=0,ue=0,oe=0;oe<Y;oe++){for(var J=-oe+me;J<=oe-Ie;J+=2){for(var se=re+J,ye=(ce=J==-oe||J!=oe&&H[se-1]<H[se+1]?H[se+1]:H[se-1]+1)-J;ce<X&&ye<Z&&w.charAt(ce)==L.charAt(ye);)ce++,ye++;if(H[se]=ce,ce>X)Ie+=2;else if(ye>Z)me+=2;else if(fe&&(_e=re+ne-J)>=0&&_e<G&&-1!=F[_e]&&ce>=(ae=X-F[_e]))return U(w,L,ce,ye)}for(var we=-oe+Ne;we<=oe-ue;we+=2){for(var ae,_e=re+we,Ce=(ae=we==-oe||we!=oe&&F[_e-1]<F[_e+1]?F[_e+1]:F[_e-1]+1)-we;ae<X&&Ce<Z&&w.charAt(X-ae-1)==L.charAt(Z-Ce-1);)ae++,Ce++;if(F[_e]=ae,ae>X)ue+=2;else if(Ce>Z)Ne+=2;else if(!fe){var ce;if((se=re+ne-we)>=0&&se<G&&-1!=H[se]&&(ye=re+(ce=H[se])-se,ce>=(ae=X-ae)))return U(w,L,ce,ye)}}}return[[c,w],[1,L]]}(w,L)}(w=w.substring(0,w.length-Z),L=L.substring(0,L.length-Z));return Y&&G.unshift([0,Y]),re&&G.push([0,re]),C(G),null!=X&&(G=function S(w,L){var X=function R(w,L){if(0===L)return[0,w];for(var X=0,Z=0;Z<w.length;Z++){var Y=w[Z];if(Y[0]===c||0===Y[0]){var re=X+Y[1].length;if(L===re)return[Z+1,w];if(L<re){w=w.slice();var G=L-X,H=[Y[0],Y[1].slice(0,G)],F=[Y[0],Y[1].slice(G)];return w.splice(Z,1,H,F),[Z+1,w]}X=re}}throw new Error("cursor_pos is out of bounds!")}(w,L),Z=X[1],Y=X[0],re=Z[Y],G=Z[Y+1];if(null==re)return w;if(0!==re[0])return w;if(null!=G&&re[1]+G[1]===G[1]+re[1])return Z.splice(Y,2,G,re),V(Z,Y,2);if(null!=G&&0===G[1].indexOf(re[1])){Z.splice(Y,2,[G[0],re[1]],[0,re[1]]);var H=G[1].slice(re[1].length);return H.length>0&&Z.splice(Y+2,0,[G[0],H]),V(Z,Y,3)}return w}(G,X)),function x(w){for(var L=!1,X=function(G){return G.charCodeAt(0)>=56320&&G.charCodeAt(0)<=57343},Z=function(G){return G.charCodeAt(G.length-1)>=55296&&G.charCodeAt(G.length-1)<=56319},Y=2;Y<w.length;Y+=1)0===w[Y-2][0]&&Z(w[Y-2][1])&&w[Y-1][0]===c&&X(w[Y-1][1])&&1===w[Y][0]&&X(w[Y][1])&&(L=!0,w[Y-1][1]=w[Y-2][1].slice(-1)+w[Y-1][1],w[Y][1]=w[Y-2][1].slice(-1)+w[Y][1],w[Y-2][1]=w[Y-2][1].slice(0,-1));if(!L)return w;var re=[];for(Y=0;Y<w.length;Y+=1)w[Y][1].length>0&&re.push(w[Y]);return re}(G)}function U(w,L,X,Z){var Y=w.substring(0,X),re=L.substring(0,Z),G=w.substring(X),H=L.substring(Z),F=Q(Y,re),K=Q(G,H);return F.concat(K)}function A(w,L){if(!w||!L||w.charAt(0)!=L.charAt(0))return 0;for(var X=0,Z=Math.min(w.length,L.length),Y=Z,re=0;X<Y;)w.substring(re,Y)==L.substring(re,Y)?re=X=Y:Z=Y,Y=Math.floor((Z-X)/2+X);return Y}function I(w,L){if(!w||!L||w.charAt(w.length-1)!=L.charAt(L.length-1))return 0;for(var X=0,Z=Math.min(w.length,L.length),Y=Z,re=0;X<Y;)w.substring(w.length-Y,w.length-re)==L.substring(L.length-Y,L.length-re)?re=X=Y:Z=Y,Y=Math.floor((Z-X)/2+X);return Y}function C(w){w.push([0,""]);for(var G,L=0,X=0,Z=0,Y="",re="";L<w.length;)switch(w[L][0]){case 1:Z++,re+=w[L][1],L++;break;case c:X++,Y+=w[L][1],L++;break;case 0:X+Z>1?(0!==X&&0!==Z&&(0!==(G=A(re,Y))&&(L-X-Z>0&&0==w[L-X-Z-1][0]?w[L-X-Z-1][1]+=re.substring(0,G):(w.splice(0,0,[0,re.substring(0,G)]),L++),re=re.substring(G),Y=Y.substring(G)),0!==(G=I(re,Y))&&(w[L][1]=re.substring(re.length-G)+w[L][1],re=re.substring(0,re.length-G),Y=Y.substring(0,Y.length-G))),0===X?w.splice(L-Z,X+Z,[1,re]):0===Z?w.splice(L-X,X+Z,[c,Y]):w.splice(L-X-Z,X+Z,[c,Y],[1,re]),L=L-X-Z+(X?1:0)+(Z?1:0)+1):0!==L&&0==w[L-1][0]?(w[L-1][1]+=w[L][1],w.splice(L,1)):L++,Z=0,X=0,Y="",re=""}""===w[w.length-1][1]&&w.pop();var H=!1;for(L=1;L<w.length-1;)0==w[L-1][0]&&0==w[L+1][0]&&(w[L][1].substring(w[L][1].length-w[L-1][1].length)==w[L-1][1]?(w[L][1]=w[L-1][1]+w[L][1].substring(0,w[L][1].length-w[L-1][1].length),w[L+1][1]=w[L-1][1]+w[L+1][1],w.splice(L-1,1),H=!0):w[L][1].substring(0,w[L+1][1].length)==w[L+1][1]&&(w[L-1][1]+=w[L+1][1],w[L][1]=w[L][1].substring(w[L+1][1].length)+w[L+1][1],w.splice(L+1,1),H=!0)),L++;H&&C(w)}var D=Q;function V(w,L,X){for(var Z=L+X-1;Z>=0&&Z>=L-1;Z--)if(Z+1<w.length){var Y=w[Z],re=w[Z+1];Y[0]===re[1]&&w.splice(Z,2,[Y[0],Y[1]+re[1]])}return w}D.INSERT=1,D.DELETE=c,D.EQUAL=0,ge.exports=D},function(ge,N){function c(z){var q=[];for(var Q in z)q.push(Q);return q}(ge.exports="function"==typeof Object.keys?Object.keys:c).shim=c},function(ge,N){var c="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function z(Q){return"[object Arguments]"==Object.prototype.toString.call(Q)}function q(Q){return Q&&"object"==typeof Q&&"number"==typeof Q.length&&Object.prototype.hasOwnProperty.call(Q,"callee")&&!Object.prototype.propertyIsEnumerable.call(Q,"callee")||!1}(N=ge.exports=c?z:q).supported=z,N.unsupported=q},function(ge,N){"use strict";var c=Object.prototype.hasOwnProperty,z="~";function q(){}function Q(j,U,A){this.fn=j,this.context=U,this.once=A||!1}function B(){this._events=new q,this._eventsCount=0}Object.create&&(q.prototype=Object.create(null),(new q).__proto__||(z=!1)),B.prototype.eventNames=function(){var A,I,U=[];if(0===this._eventsCount)return U;for(I in A=this._events)c.call(A,I)&&U.push(z?I.slice(1):I);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(A)):U},B.prototype.listeners=function(U,A){var v=this._events[z?z+U:U];if(A)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var C=0,D=v.length,R=new Array(D);C<D;C++)R[C]=v[C].fn;return R},B.prototype.emit=function(U,A,I,v,C,D){var R=z?z+U:U;if(!this._events[R])return!1;var V,w,S=this._events[R],x=arguments.length;if(S.fn){switch(S.once&&this.removeListener(U,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,A),!0;case 3:return S.fn.call(S.context,A,I),!0;case 4:return S.fn.call(S.context,A,I,v),!0;case 5:return S.fn.call(S.context,A,I,v,C),!0;case 6:return S.fn.call(S.context,A,I,v,C,D),!0}for(w=1,V=new Array(x-1);w<x;w++)V[w-1]=arguments[w];S.fn.apply(S.context,V)}else{var X,L=S.length;for(w=0;w<L;w++)switch(S[w].once&&this.removeListener(U,S[w].fn,void 0,!0),x){case 1:S[w].fn.call(S[w].context);break;case 2:S[w].fn.call(S[w].context,A);break;case 3:S[w].fn.call(S[w].context,A,I);break;case 4:S[w].fn.call(S[w].context,A,I,v);break;default:if(!V)for(X=1,V=new Array(x-1);X<x;X++)V[X-1]=arguments[X];S[w].fn.apply(S[w].context,V)}}return!0},B.prototype.on=function(U,A,I){var v=new Q(A,I||this),C=z?z+U:U;return this._events[C]?this._events[C].fn?this._events[C]=[this._events[C],v]:this._events[C].push(v):(this._events[C]=v,this._eventsCount++),this},B.prototype.once=function(U,A,I){var v=new Q(A,I||this,!0),C=z?z+U:U;return this._events[C]?this._events[C].fn?this._events[C]=[this._events[C],v]:this._events[C].push(v):(this._events[C]=v,this._eventsCount++),this},B.prototype.removeListener=function(U,A,I,v){var C=z?z+U:U;if(!this._events[C])return this;if(!A)return 0==--this._eventsCount?this._events=new q:delete this._events[C],this;var D=this._events[C];if(D.fn)D.fn===A&&(!v||D.once)&&(!I||D.context===I)&&(0==--this._eventsCount?this._events=new q:delete this._events[C]);else{for(var R=0,S=[],x=D.length;R<x;R++)(D[R].fn!==A||v&&!D[R].once||I&&D[R].context!==I)&&S.push(D[R]);S.length?this._events[C]=1===S.length?S[0]:S:0==--this._eventsCount?this._events=new q:delete this._events[C]}return this},B.prototype.removeAllListeners=function(U){var A;return U?this._events[A=z?z+U:U]&&(0==--this._eventsCount?this._events=new q:delete this._events[A]):(this._events=new q,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prototype.setMaxListeners=function(){return this},B.prefixed=z,B.EventEmitter=B,typeof ge<"u"&&(ge.exports=B)},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.matchText=N.matchSpacing=N.matchNewline=N.matchBlot=N.matchAttributor=N.default=void 0;var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ve){return typeof Ve}:function(Ve){return Ve&&"function"==typeof Symbol&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve},q=function(je,nt){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function Ve(je,nt){var Xe=[],qe=!0,et=!1,Rt=void 0;try{for(var pn,xt=je[Symbol.iterator]();!(qe=(pn=xt.next()).done)&&(Xe.push(pn.value),!nt||Xe.length!==nt);qe=!0);}catch(Cn){et=!0,Rt=Cn}finally{try{!qe&&xt.return&&xt.return()}finally{if(et)throw Rt}}return Xe}(je,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function Ve(je,nt){for(var Xe=0;Xe<nt.length;Xe++){var qe=nt[Xe];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(je,qe.key,qe)}}return function(je,nt,Xe){return nt&&Ve(je.prototype,nt),Xe&&Ve(je,Xe),je}}(),j=F(c(3)),A=F(c(2)),v=F(c(0)),D=F(c(5)),S=F(c(10)),V=F(c(9)),w=c(36),L=c(37),Z=F(c(13)),Y=c(26),re=c(38),G=c(39),H=c(40);function F(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}function K(Ve,je,nt){return je in Ve?Object.defineProperty(Ve,je,{value:nt,enumerable:!0,configurable:!0,writable:!0}):Ve[je]=nt,Ve}var Ie=(0,S.default)("quill:clipboard"),Ne="__ql-matcher",ue=[[Node.TEXT_NODE,In],[Node.TEXT_NODE,mt],["br",function Qe(Ve,je){return _e(je,"\n")||je.insert("\n"),je}],[Node.ELEMENT_NODE,mt],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,Ut],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,function Tn(Ve,je){var nt={},Xe=Ve.style||{};return Xe.fontStyle&&"italic"===ye(Ve).fontStyle&&(nt.italic=!0),Xe.fontWeight&&(ye(Ve).fontWeight.startsWith("bold")||parseInt(ye(Ve).fontWeight)>=700)&&(nt.bold=!0),Object.keys(nt).length>0&&(je=ce(je,nt)),parseFloat(Xe.textIndent||0)>0&&(je=(new A.default).insert("\t").concat(je)),je}],["li",function pt(Ve,je){var nt=v.default.query(Ve);if(null==nt||"list-item"!==nt.blotName||!_e(je,"\n"))return je;for(var Xe=-1,qe=Ve.parentNode;!qe.classList.contains("ql-clipboard");)"list"===(v.default.query(qe)||{}).blotName&&(Xe+=1),qe=qe.parentNode;return Xe<=0?je:je.compose((new A.default).retain(je.length()-1).retain(1,{indent:Xe}))}],["b",Ce.bind(Ce,"bold")],["i",Ce.bind(Ce,"italic")],["style",function dt(){return new A.default}]],oe=[w.AlignAttribute,re.DirectionAttribute].reduce(function(Ve,je){return Ve[je.keyName]=je,Ve},{}),J=[w.AlignStyle,L.BackgroundStyle,Y.ColorStyle,re.DirectionStyle,G.FontStyle,H.SizeStyle].reduce(function(Ve,je){return Ve[je.keyName]=je,Ve},{}),se=function(Ve){function je(nt,Xe){!function ne(Ve,je){if(!(Ve instanceof je))throw new TypeError("Cannot call a class as a function")}(this,je);var qe=function fe(Ve,je){if(!Ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!je||"object"!=typeof je&&"function"!=typeof je?Ve:je}(this,(je.__proto__||Object.getPrototypeOf(je)).call(this,nt,Xe));return qe.quill.root.addEventListener("paste",qe.onPaste.bind(qe)),qe.container=qe.quill.addContainer("ql-clipboard"),qe.container.setAttribute("contenteditable",!0),qe.container.setAttribute("tabindex",-1),qe.matchers=[],ue.concat(qe.options.matchers).forEach(function(et){var Rt=q(et,2),pn=Rt[1];!Xe.matchVisual&&pn===Ut||qe.addMatcher(Rt[0],pn)}),qe}return function me(Ve,je){if("function"!=typeof je&&null!==je)throw new TypeError("Super expression must either be null or a function, not "+typeof je);Ve.prototype=Object.create(je&&je.prototype,{constructor:{value:Ve,enumerable:!1,writable:!0,configurable:!0}}),je&&(Object.setPrototypeOf?Object.setPrototypeOf(Ve,je):Ve.__proto__=je)}(je,Ve),Q(je,[{key:"addMatcher",value:function(Xe,qe){this.matchers.push([Xe,qe])}},{key:"convert",value:function(Xe){if("string"==typeof Xe)return this.container.innerHTML=Xe.replace(/\>\r?\n +\</g,"><"),this.convert();var qe=this.quill.getFormat(this.quill.selection.savedRange.index);if(qe[Z.default.blotName]){var et=this.container.innerText;return this.container.innerHTML="",(new A.default).insert(et,K({},Z.default.blotName,qe[Z.default.blotName]))}var Rt=this.prepareMatching(),xt=q(Rt,2),an=we(this.container,xt[0],xt[1]);return _e(an,"\n")&&null==an.ops[an.ops.length-1].attributes&&(an=an.compose((new A.default).retain(an.length()-1).delete(1))),Ie.log("convert",this.container.innerHTML,an),this.container.innerHTML="",an}},{key:"dangerouslyPasteHTML",value:function(Xe,qe){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.default.sources.API;if("string"==typeof Xe)this.quill.setContents(this.convert(Xe),qe),this.quill.setSelection(0,D.default.sources.SILENT);else{var Rt=this.convert(qe);this.quill.updateContents((new A.default).retain(Xe).concat(Rt),et),this.quill.setSelection(Xe+Rt.length(),D.default.sources.SILENT)}}},{key:"onPaste",value:function(Xe){var qe=this;if(!Xe.defaultPrevented&&this.quill.isEnabled()){var et=this.quill.getSelection(),Rt=(new A.default).retain(et.index),xt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(D.default.sources.SILENT),setTimeout(function(){Rt=Rt.concat(qe.convert()).delete(et.length),qe.quill.updateContents(Rt,D.default.sources.USER),qe.quill.setSelection(Rt.length()-et.length,D.default.sources.SILENT),qe.quill.scrollingContainer.scrollTop=xt,qe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Xe=this,qe=[],et=[];return this.matchers.forEach(function(Rt){var xt=q(Rt,2),pn=xt[0],Cn=xt[1];switch(pn){case Node.TEXT_NODE:et.push(Cn);break;case Node.ELEMENT_NODE:qe.push(Cn);break;default:[].forEach.call(Xe.container.querySelectorAll(pn),function(an){an[Ne]=an[Ne]||[],an[Ne].push(Cn)})}}),[qe,et]}}]),je}(V.default);function ce(Ve,je,nt){return"object"===(typeof je>"u"?"undefined":z(je))?Object.keys(je).reduce(function(Xe,qe){return ce(Xe,qe,je[qe])},Ve):Ve.reduce(function(Xe,qe){return qe.attributes&&qe.attributes[je]?Xe.push(qe):Xe.insert(qe.insert,(0,j.default)({},K({},je,nt),qe.attributes))},new A.default)}function ye(Ve){if(Ve.nodeType!==Node.ELEMENT_NODE)return{};var je="__ql-computed-style";return Ve[je]||(Ve[je]=window.getComputedStyle(Ve))}function _e(Ve,je){for(var nt="",Xe=Ve.ops.length-1;Xe>=0&&nt.length<je.length;--Xe){var qe=Ve.ops[Xe];if("string"!=typeof qe.insert)break;nt=qe.insert+nt}return nt.slice(-1*je.length)===je}function ae(Ve){if(0===Ve.childNodes.length)return!1;var je=ye(Ve);return["block","list-item"].indexOf(je.display)>-1}function we(Ve,je,nt){return Ve.nodeType===Ve.TEXT_NODE?nt.reduce(function(Xe,qe){return qe(Ve,Xe)},new A.default):Ve.nodeType===Ve.ELEMENT_NODE?[].reduce.call(Ve.childNodes||[],function(Xe,qe){var et=we(qe,je,nt);return qe.nodeType===Ve.ELEMENT_NODE&&(et=je.reduce(function(Rt,xt){return xt(qe,Rt)},et),et=(qe[Ne]||[]).reduce(function(Rt,xt){return xt(qe,Rt)},et)),Xe.concat(et)},new A.default):new A.default}function Ce(Ve,je,nt){return ce(nt,Ve,!0)}function Se(Ve,je){var nt=v.default.Attributor.Attribute.keys(Ve),Xe=v.default.Attributor.Class.keys(Ve),qe=v.default.Attributor.Style.keys(Ve),et={};return nt.concat(Xe).concat(qe).forEach(function(Rt){var xt=v.default.query(Rt,v.default.Scope.ATTRIBUTE);null!=xt&&(et[xt.attrName]=xt.value(Ve),et[xt.attrName])||(null!=(xt=oe[Rt])&&(xt.attrName===Rt||xt.keyName===Rt)&&(et[xt.attrName]=xt.value(Ve)||void 0),null!=(xt=J[Rt])&&(xt.attrName===Rt||xt.keyName===Rt)&&(et[(xt=J[Rt]).attrName]=xt.value(Ve)||void 0))}),Object.keys(et).length>0&&(je=ce(je,et)),je}function Oe(Ve,je){var nt=v.default.query(Ve);if(null==nt)return je;if(nt.prototype instanceof v.default.Embed){var Xe={},qe=nt.value(Ve);null!=qe&&(Xe[nt.blotName]=qe,je=(new A.default).insert(Xe,nt.formats(Ve)))}else"function"==typeof nt.formats&&(je=ce(je,nt.blotName,nt.formats(Ve)));return je}function mt(Ve,je){return _e(je,"\n")||(ae(Ve)||je.length()>0&&Ve.nextSibling&&ae(Ve.nextSibling))&&je.insert("\n"),je}function Ut(Ve,je){if(ae(Ve)&&null!=Ve.nextElementSibling&&!_e(je,"\n\n")){var nt=Ve.offsetHeight+parseFloat(ye(Ve).marginTop)+parseFloat(ye(Ve).marginBottom);Ve.nextElementSibling.offsetTop>Ve.offsetTop+1.5*nt&&je.insert("\n")}return je}function In(Ve,je){var nt=Ve.data;if("O:P"===Ve.parentNode.tagName)return je.insert(nt.trim());if(0===nt.trim().length&&Ve.parentNode.classList.contains("ql-clipboard"))return je;if(!ye(Ve.parentNode).whiteSpace.startsWith("pre")){var Xe=function(et,Rt){return(Rt=Rt.replace(/[^\u00a0]/g,"")).length<1&&et?" ":Rt};nt=(nt=nt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Xe.bind(Xe,!0)),(null==Ve.previousSibling&&ae(Ve.parentNode)||null!=Ve.previousSibling&&ae(Ve.previousSibling))&&(nt=nt.replace(/^\s+/,Xe.bind(Xe,!1))),(null==Ve.nextSibling&&ae(Ve.parentNode)||null!=Ve.nextSibling&&ae(Ve.nextSibling))&&(nt=nt.replace(/\s+$/,Xe.bind(Xe,!1)))}return je.insert(nt)}se.DEFAULTS={matchers:[],matchVisual:!0},N.default=se,N.matchAttributor=Se,N.matchBlot=Oe,N.matchNewline=mt,N.matchSpacing=Ut,N.matchText=In},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function C(D,R){for(var S=0;S<R.length;S++){var x=R[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}}(),q=function C(D,R,S){null===D&&(D=Function.prototype);var x=Object.getOwnPropertyDescriptor(D,R);if(void 0===x){var V=Object.getPrototypeOf(D);return null===V?void 0:C(V,R,S)}if("value"in x)return x.value;var w=x.get;return void 0===w?void 0:w.call(S)};function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}var v=function(C){function D(){return U(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),z(D,[{key:"optimize",value:function(S){q(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,S),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return q(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),D}(function j(C){return C&&C.__esModule?C:{default:C}}(c(6)).default);v.blotName="bold",v.tagName=["STRONG","B"],N.default=v},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.addControls=N.default=void 0;var z=function(F,K){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function H(F,K){var ne=[],fe=!0,me=!1,Ie=void 0;try{for(var ue,Ne=F[Symbol.iterator]();!(fe=(ue=Ne.next()).done)&&(ne.push(ue.value),!K||ne.length!==K);fe=!0);}catch(oe){me=!0,Ie=oe}finally{try{!fe&&Ne.return&&Ne.return()}finally{if(me)throw Ie}}return ne}(F,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function(){function H(F,K){for(var ne=0;ne<K.length;ne++){var fe=K[ne];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(F,fe.key,fe)}}return function(F,K,ne){return K&&H(F.prototype,K),ne&&H(F,ne),F}}(),B=S(c(2)),U=S(c(0)),I=S(c(5)),C=S(c(10)),R=S(c(9));function S(H){return H&&H.__esModule?H:{default:H}}function w(H,F){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?H:F}var X=(0,C.default)("quill:toolbar"),Z=function(H){function F(K,ne){!function V(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);var Ie,fe=w(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K,ne));if(Array.isArray(fe.options.container)){var me=document.createElement("div");re(me,fe.options.container),K.container.parentNode.insertBefore(me,K.container),fe.container=me}else fe.container="string"==typeof fe.options.container?document.querySelector(fe.options.container):fe.options.container;return fe.container instanceof HTMLElement?(fe.container.classList.add("ql-toolbar"),fe.controls=[],fe.handlers={},Object.keys(fe.options.handlers).forEach(function(Ne){fe.addHandler(Ne,fe.options.handlers[Ne])}),[].forEach.call(fe.container.querySelectorAll("button, select"),function(Ne){fe.attach(Ne)}),fe.quill.on(I.default.events.EDITOR_CHANGE,function(Ne,ue){Ne===I.default.events.SELECTION_CHANGE&&fe.update(ue)}),fe.quill.on(I.default.events.SCROLL_OPTIMIZE,function(){var Ne=fe.quill.selection.getRange(),ue=z(Ne,1);fe.update(ue[0])}),fe):(Ie=X.error("Container required for toolbar",fe.options),w(fe,Ie))}return function L(H,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);H.prototype=Object.create(F&&F.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(H,F):H.__proto__=F)}(F,H),q(F,[{key:"addHandler",value:function(ne,fe){this.handlers[ne]=fe}},{key:"attach",value:function(ne){var fe=this,me=[].find.call(ne.classList,function(Ne){return 0===Ne.indexOf("ql-")});if(me){if(me=me.slice(3),"BUTTON"===ne.tagName&&ne.setAttribute("type","button"),null==this.handlers[me]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[me])return void X.warn("ignoring attaching to disabled format",me,ne);if(null==U.default.query(me))return void X.warn("ignoring attaching to nonexistent format",me,ne)}ne.addEventListener("SELECT"===ne.tagName?"change":"click",function(Ne){var ue=void 0;if("SELECT"===ne.tagName){if(ne.selectedIndex<0)return;var oe=ne.options[ne.selectedIndex];ue=!oe.hasAttribute("selected")&&(oe.value||!1)}else ue=!ne.classList.contains("ql-active")&&(ne.value||!ne.hasAttribute("value")),Ne.preventDefault();fe.quill.focus();var J=fe.quill.selection.getRange(),ce=z(J,1)[0];if(null!=fe.handlers[me])fe.handlers[me].call(fe,ue);else if(U.default.query(me).prototype instanceof U.default.Embed){if(!(ue=prompt("Enter "+me)))return;fe.quill.updateContents((new B.default).retain(ce.index).delete(ce.length).insert(function x(H,F,K){return F in H?Object.defineProperty(H,F,{value:K,enumerable:!0,configurable:!0,writable:!0}):H[F]=K,H}({},me,ue)),I.default.sources.USER)}else fe.quill.format(me,ue,I.default.sources.USER);fe.update(ce)}),this.controls.push([me,ne])}}},{key:"update",value:function(ne){var fe=null==ne?{}:this.quill.getFormat(ne);this.controls.forEach(function(me){var Ie=z(me,2),Ne=Ie[0],ue=Ie[1];if("SELECT"===ue.tagName){var oe=void 0;if(null==ne)oe=null;else if(null==fe[Ne])oe=ue.querySelector("option[selected]");else if(!Array.isArray(fe[Ne])){var J=fe[Ne];"string"==typeof J&&(J=J.replace(/\"/g,'\\"')),oe=ue.querySelector('option[value="'+J+'"]')}null==oe?(ue.value="",ue.selectedIndex=-1):oe.selected=!0}else if(null==ne)ue.classList.remove("ql-active");else if(ue.hasAttribute("value")){var se=fe[Ne]===ue.getAttribute("value")||null!=fe[Ne]&&fe[Ne].toString()===ue.getAttribute("value")||null==fe[Ne]&&!ue.getAttribute("value");ue.classList.toggle("ql-active",se)}else ue.classList.toggle("ql-active",null!=fe[Ne])})}}]),F}(R.default);function Y(H,F,K){var ne=document.createElement("button");ne.setAttribute("type","button"),ne.classList.add("ql-"+F),null!=K&&(ne.value=K),H.appendChild(ne)}function re(H,F){Array.isArray(F[0])||(F=[F]),F.forEach(function(K){var ne=document.createElement("span");ne.classList.add("ql-formats"),K.forEach(function(fe){if("string"==typeof fe)Y(ne,fe);else{var me=Object.keys(fe)[0],Ie=fe[me];Array.isArray(Ie)?function G(H,F,K){var ne=document.createElement("select");ne.classList.add("ql-"+F),K.forEach(function(fe){var me=document.createElement("option");!1!==fe?me.setAttribute("value",fe):me.setAttribute("selected","selected"),ne.appendChild(me)}),H.appendChild(ne)}(ne,me,Ie):Y(ne,me,Ie)}}),H.appendChild(ne)})}Z.DEFAULTS={},Z.DEFAULTS={container:null,handlers:{clean:function(){var F=this,K=this.quill.getSelection();if(null!=K)if(0==K.length){var ne=this.quill.getFormat();Object.keys(ne).forEach(function(fe){null!=U.default.query(fe,U.default.Scope.INLINE)&&F.quill.format(fe,!1)})}else this.quill.removeFormat(K,I.default.sources.USER)},direction:function(F){var K=this.quill.getFormat().align;"rtl"===F&&null==K?this.quill.format("align","right",I.default.sources.USER):!F&&"right"===K&&this.quill.format("align",!1,I.default.sources.USER),this.quill.format("direction",F,I.default.sources.USER)},indent:function(F){var K=this.quill.getSelection(),ne=this.quill.getFormat(K),fe=parseInt(ne.indent||0);if("+1"===F||"-1"===F){var me="+1"===F?1:-1;"rtl"===ne.direction&&(me*=-1),this.quill.format("indent",fe+me,I.default.sources.USER)}},link:function(F){!0===F&&(F=prompt("Enter link URL:")),this.quill.format("link",F,I.default.sources.USER)},list:function(F){var K=this.quill.getSelection(),ne=this.quill.getFormat(K);this.quill.format("list","check"===F?"checked"!==ne.list&&"unchecked"!==ne.list&&"unchecked":F,I.default.sources.USER)}}},N.default=Z,N.addControls=re},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function C(D,R){for(var S=0;S<R.length;S++){var x=R[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}}(),q=function C(D,R,S){null===D&&(D=Function.prototype);var x=Object.getOwnPropertyDescriptor(D,R);if(void 0===x){var V=Object.getPrototypeOf(D);return null===V?void 0:C(V,R,S)}if("value"in x)return x.value;var w=x.get;return void 0===w?void 0:w.call(S)};var v=function(C){function D(R,S){!function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}(this,D);var x=function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,R));return x.label.innerHTML=S,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(V){V.classList.add("ql-primary")}),x}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),z(D,[{key:"buildItem",value:function(S){var x=q(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"buildItem",this).call(this,S);return x.style.backgroundColor=S.getAttribute("value")||"",x}},{key:"selectItem",value:function(S,x){q(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"selectItem",this).call(this,S,x);var V=this.label.querySelector(".ql-color-label"),w=S&&S.getAttribute("data-value")||"";V&&("line"===V.tagName?V.style.stroke=w:V.style.fill=w)}}]),D}(function j(C){return C&&C.__esModule?C:{default:C}}(c(28)).default);N.default=v},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function C(D,R){for(var S=0;S<R.length;S++){var x=R[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}}(),q=function C(D,R,S){null===D&&(D=Function.prototype);var x=Object.getOwnPropertyDescriptor(D,R);if(void 0===x){var V=Object.getPrototypeOf(D);return null===V?void 0:C(V,R,S)}if("value"in x)return x.value;var w=x.get;return void 0===w?void 0:w.call(S)};var v=function(C){function D(R,S){!function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}(this,D);var x=function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,R));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(V){V.innerHTML=S[V.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),z(D,[{key:"selectItem",value:function(S,x){q(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"selectItem",this).call(this,S,x),this.label.innerHTML=(S=S||this.defaultItem).innerHTML}}]),D}(function j(C){return C&&C.__esModule?C:{default:C}}(c(28)).default);N.default=v},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function B(j,U){for(var A=0;A<U.length;A++){var I=U[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,I.key,I)}}return function(j,U,A){return U&&B(j.prototype,U),A&&B(j,A),j}}();var Q=function(){function B(j,U){var A=this;(function q(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")})(this,B),this.quill=j,this.boundsContainer=U||document.body,this.root=j.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){A.root.style.marginTop=-1*A.quill.root.scrollTop+"px"}),this.hide()}return z(B,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(U){var A=U.left+U.width/2-this.root.offsetWidth/2,I=U.bottom+this.quill.root.scrollTop;this.root.style.left=A+"px",this.root.style.top=I+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),C=this.root.getBoundingClientRect(),D=0;return C.right>v.right&&(this.root.style.left=A+(D=v.right-C.right)+"px"),C.left<v.left&&(this.root.style.left=A+(D=v.left-C.left)+"px"),C.bottom>v.bottom&&(this.root.style.top=I-(U.bottom-U.top+(C.bottom-C.top))+"px",this.root.classList.add("ql-flip")),D}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),B}();N.default=Q},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(H,F){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return function G(H,F){var K=[],ne=!0,fe=!1,me=void 0;try{for(var Ne,Ie=H[Symbol.iterator]();!(ne=(Ne=Ie.next()).done)&&(K.push(Ne.value),!F||K.length!==F);ne=!0);}catch(ue){fe=!0,me=ue}finally{try{!ne&&Ie.return&&Ie.return()}finally{if(fe)throw me}}return K}(H,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},q=function G(H,F,K){null===H&&(H=Function.prototype);var ne=Object.getOwnPropertyDescriptor(H,F);if(void 0===ne){var fe=Object.getPrototypeOf(H);return null===fe?void 0:G(fe,F,K)}if("value"in ne)return ne.value;var me=ne.get;return void 0===me?void 0:me.call(K)},Q=function(){function G(H,F){for(var K=0;K<F.length;K++){var ne=F[K];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(H,ne.key,ne)}}return function(H,F,K){return F&&G(H.prototype,F),K&&G(H,K),H}}(),j=V(c(3)),A=V(c(8)),I=c(43),v=V(I),D=V(c(27)),R=c(15),x=V(c(41));function V(G){return G&&G.__esModule?G:{default:G}}function w(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}function L(G,H){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?G:H}function X(G,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(G,H):G.__proto__=H)}var Z=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Y=function(G){function H(F,K){w(this,H),null!=K.modules.toolbar&&null==K.modules.toolbar.container&&(K.modules.toolbar.container=Z);var ne=L(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,F,K));return ne.quill.container.classList.add("ql-snow"),ne}return X(H,G),Q(H,[{key:"extendToolbar",value:function(K){K.container.classList.add("ql-snow"),this.buildButtons([].slice.call(K.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(K.container.querySelectorAll("select")),x.default),this.tooltip=new re(this.quill,this.options.bounds),K.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(ne,fe){K.handlers.link.call(K,!fe.format.link)})}}]),H}(v.default);Y.DEFAULTS=(0,j.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(H){if(H){var F=this.quill.getSelection();if(null==F||0==F.length)return;var K=this.quill.getText(F);/^\S+@\S+\.\S+$/.test(K)&&0!==K.indexOf("mailto:")&&(K="mailto:"+K),this.quill.theme.tooltip.edit("link",K)}else this.quill.format("link",!1)}}}}});var re=function(G){function H(F,K){w(this,H);var ne=L(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,F,K));return ne.preview=ne.root.querySelector("a.ql-preview"),ne}return X(H,G),Q(H,[{key:"listen",value:function(){var K=this;q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(ne){K.root.classList.contains("ql-editing")?K.save():K.edit("link",K.preview.textContent),ne.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(ne){if(null!=K.linkRange){var fe=K.linkRange;K.restoreFocus(),K.quill.formatText(fe,"link",!1,A.default.sources.USER),delete K.linkRange}ne.preventDefault(),K.hide()}),this.quill.on(A.default.events.SELECTION_CHANGE,function(ne,fe,me){if(null!=ne){if(0===ne.length&&me===A.default.sources.USER){var Ie=K.quill.scroll.descendant(D.default,ne.index),Ne=z(Ie,2),ue=Ne[0];if(null!=ue){K.linkRange=new R.Range(ne.index-Ne[1],ue.length());var J=D.default.formats(ue.domNode);return K.preview.textContent=J,K.preview.setAttribute("href",J),K.show(),void K.position(K.quill.getBounds(K.linkRange))}}else delete K.linkRange;K.hide()}})}},{key:"show",value:function(){q(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),H}(I.BaseTooltip);re.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),N.default=Y},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var q=qe(c(29)),Q=c(36),B=c(38),j=c(64),A=qe(c(65)),v=qe(c(66)),C=c(67),D=qe(C),R=c(37),S=c(26),x=c(39),V=c(40),L=qe(c(56)),Z=qe(c(68)),re=qe(c(27)),H=qe(c(69)),K=qe(c(70)),fe=qe(c(71)),Ie=qe(c(72)),ue=qe(c(73)),oe=c(13),J=qe(oe),ce=qe(c(74)),_e=qe(c(75)),we=qe(c(57)),Se=qe(c(41)),Qe=qe(c(28)),pt=qe(c(59)),Ut=qe(c(60)),In=qe(c(61)),je=qe(c(108)),Xe=qe(c(62));function qe(et){return et&&et.__esModule?et:{default:et}}q.default.register({"attributors/attribute/direction":B.DirectionAttribute,"attributors/class/align":Q.AlignClass,"attributors/class/background":R.BackgroundClass,"attributors/class/color":S.ColorClass,"attributors/class/direction":B.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":V.SizeClass,"attributors/style/align":Q.AlignStyle,"attributors/style/background":R.BackgroundStyle,"attributors/style/color":S.ColorStyle,"attributors/style/direction":B.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":V.SizeStyle},!0),q.default.register({"formats/align":Q.AlignClass,"formats/direction":B.DirectionClass,"formats/indent":j.IndentClass,"formats/background":R.BackgroundStyle,"formats/color":S.ColorStyle,"formats/font":x.FontClass,"formats/size":V.SizeClass,"formats/blockquote":A.default,"formats/code-block":J.default,"formats/header":v.default,"formats/list":D.default,"formats/bold":L.default,"formats/code":oe.Code,"formats/italic":Z.default,"formats/link":re.default,"formats/script":H.default,"formats/strike":K.default,"formats/underline":fe.default,"formats/image":Ie.default,"formats/video":ue.default,"formats/list/item":C.ListItem,"modules/formula":ce.default,"modules/syntax":_e.default,"modules/toolbar":we.default,"themes/bubble":je.default,"themes/snow":Xe.default,"ui/icons":Se.default,"ui/picker":Qe.default,"ui/icon-picker":Ut.default,"ui/color-picker":pt.default,"ui/tooltip":In.default},!0),N.default=q.default},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.IndentClass=void 0;var z=function(){function D(R,S){for(var x=0;x<S.length;x++){var V=S[x];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,S,x){return S&&D(R.prototype,S),x&&D(R,x),R}}(),q=function D(R,S,x){null===R&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,S);if(void 0===V){var w=Object.getPrototypeOf(R);return null===w?void 0:D(w,S,x)}if("value"in V)return V.value;var L=V.get;return void 0===L?void 0:L.call(x)},B=function j(D){return D&&D.__esModule?D:{default:D}}(c(0));function U(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function A(D,R){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?D:R}var v=function(D){function R(){return U(this,R),A(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function I(D,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}(R,D),z(R,[{key:"add",value:function(x,V){if("+1"===V||"-1"===V){var w=this.value(x)||0;V="+1"===V?w+1:w-1}return 0===V?(this.remove(x),!0):q(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"add",this).call(this,x,V)}},{key:"canAdd",value:function(x,V){return q(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"canAdd",this).call(this,x,V)||q(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"canAdd",this).call(this,x,parseInt(V))}},{key:"value",value:function(x){return parseInt(q(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"value",this).call(this,x))||void 0}}]),R}(B.default.Attributor.Class),C=new v("indent","ql-indent",{scope:B.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});N.IndentClass=C},function(ge,N,c){"use strict";function B(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function j(I,v){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?I:v}Object.defineProperty(N,"__esModule",{value:!0});var A=function(I){function v(){return B(this,v),j(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(I,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(I,v):I.__proto__=v)}(v,I),v}(function Q(I){return I&&I.__esModule?I:{default:I}}(c(4)).default);A.blotName="blockquote",A.tagName="blockquote",N.default=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function v(C,D){for(var R=0;R<D.length;R++){var S=D[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,D,R){return D&&v(C.prototype,D),R&&v(C,R),C}}();function j(v,C){if(!(v instanceof C))throw new TypeError("Cannot call a class as a function")}function U(v,C){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?v:C}var I=function(v){function C(){return j(this,C),U(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return function A(v,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);v.prototype=Object.create(C&&C.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(v,C):v.__proto__=C)}(C,v),z(C,null,[{key:"formats",value:function(R){return this.tagName.indexOf(R.tagName)+1}}]),C}(function B(v){return v&&v.__esModule?v:{default:v}}(c(4)).default);I.blotName="header",I.tagName=["H1","H2","H3","H4","H5","H6"],N.default=I},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.ListItem=void 0;var z=function(){function w(L,X){for(var Z=0;Z<X.length;Z++){var Y=X[Z];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(L,Y.key,Y)}}return function(L,X,Z){return X&&w(L.prototype,X),Z&&w(L,Z),L}}(),q=function w(L,X,Z){null===L&&(L=Function.prototype);var Y=Object.getOwnPropertyDescriptor(L,X);if(void 0===Y){var re=Object.getPrototypeOf(L);return null===re?void 0:w(re,X,Z)}if("value"in Y)return Y.value;var G=Y.get;return void 0===G?void 0:G.call(Z)},B=v(c(0)),U=v(c(4)),I=v(c(25));function v(w){return w&&w.__esModule?w:{default:w}}function D(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}function R(w,L){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?w:L}function S(w,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);w.prototype=Object.create(L&&L.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(w,L):w.__proto__=L)}var x=function(w){function L(){return D(this,L),R(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return S(L,w),z(L,[{key:"format",value:function(Z,Y){Z!==V.blotName||Y?q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,Z,Y):this.replaceWith(B.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Z,Y){return this.parent.isolate(this.offset(this.parent),this.length()),Z===this.parent.statics.blotName?(this.parent.replaceWith(Z,Y),this):(this.parent.unwrap(),q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,Z,Y))}}],[{key:"formats",value:function(Z){return Z.tagName===this.tagName?void 0:q(L.__proto__||Object.getPrototypeOf(L),"formats",this).call(this,Z)}}]),L}(U.default);x.blotName="list-item",x.tagName="LI";var V=function(w){function L(X){D(this,L);var Z=R(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,X)),Y=function(G){if(G.target.parentNode===X){var H=Z.statics.formats(X),F=B.default.find(G.target);"checked"===H?F.format("list","unchecked"):"unchecked"===H&&F.format("list","checked")}};return X.addEventListener("touchstart",Y),X.addEventListener("mousedown",Y),Z}return S(L,w),z(L,null,[{key:"create",value:function(Z){var Y="ordered"===Z?"OL":"UL",re=q(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,Y);return("checked"===Z||"unchecked"===Z)&&re.setAttribute("data-checked","checked"===Z),re}},{key:"formats",value:function(Z){return"OL"===Z.tagName?"ordered":"UL"===Z.tagName?Z.hasAttribute("data-checked")?"true"===Z.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),z(L,[{key:"format",value:function(Z,Y){this.children.length>0&&this.children.tail.format(Z,Y)}},{key:"formats",value:function(){return function C(w,L,X){return L in w?Object.defineProperty(w,L,{value:X,enumerable:!0,configurable:!0,writable:!0}):w[L]=X,w}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Z,Y){if(Z instanceof x)q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,Z,Y);else{var re=null==Y?this.length():Y.offset(this),G=this.split(re);G.parent.insertBefore(Z,G)}}},{key:"optimize",value:function(Z){q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,Z);var Y=this.next;null!=Y&&Y.prev===this&&Y.statics.blotName===this.statics.blotName&&Y.domNode.tagName===this.domNode.tagName&&Y.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(Y.moveChildren(this),Y.remove())}},{key:"replace",value:function(Z){if(Z.statics.blotName!==this.statics.blotName){var Y=B.default.create(this.statics.defaultChild);Z.moveChildren(Y),this.appendChild(Y)}q(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,Z)}}]),L}(I.default);V.blotName="list",V.scope=B.default.Scope.BLOCK_BLOT,V.tagName=["OL","UL"],V.defaultChild="list-item",V.allowedChildren=[x],N.ListItem=x,N.default=V},function(ge,N,c){"use strict";function B(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function j(I,v){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?I:v}Object.defineProperty(N,"__esModule",{value:!0});var A=function(I){function v(){return B(this,v),j(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(I,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(I,v):I.__proto__=v)}(v,I),v}(function Q(I){return I&&I.__esModule?I:{default:I}}(c(56)).default);A.blotName="italic",A.tagName=["EM","I"],N.default=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function C(D,R){for(var S=0;S<R.length;S++){var x=R[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}}(),q=function C(D,R,S){null===D&&(D=Function.prototype);var x=Object.getOwnPropertyDescriptor(D,R);if(void 0===x){var V=Object.getPrototypeOf(D);return null===V?void 0:C(V,R,S)}if("value"in x)return x.value;var w=x.get;return void 0===w?void 0:w.call(S)};function U(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function A(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?C:D}var v=function(C){function D(){return U(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return function I(C,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}(D,C),z(D,null,[{key:"create",value:function(S){return"super"===S?document.createElement("sup"):"sub"===S?document.createElement("sub"):q(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,S)}},{key:"formats",value:function(S){return"SUB"===S.tagName?"sub":"SUP"===S.tagName?"super":void 0}}]),D}(function j(C){return C&&C.__esModule?C:{default:C}}(c(6)).default);v.blotName="script",v.tagName=["SUB","SUP"],N.default=v},function(ge,N,c){"use strict";function B(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function j(I,v){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?I:v}Object.defineProperty(N,"__esModule",{value:!0});var A=function(I){function v(){return B(this,v),j(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(I,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(I,v):I.__proto__=v)}(v,I),v}(function Q(I){return I&&I.__esModule?I:{default:I}}(c(6)).default);A.blotName="strike",A.tagName="S",N.default=A},function(ge,N,c){"use strict";function B(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function j(I,v){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?I:v}Object.defineProperty(N,"__esModule",{value:!0});var A=function(I){function v(){return B(this,v),j(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(I,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(I,v):I.__proto__=v)}(v,I),v}(function Q(I){return I&&I.__esModule?I:{default:I}}(c(6)).default);A.blotName="underline",A.tagName="U",N.default=A},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function R(S,x){for(var V=0;V<x.length;V++){var w=x[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,x,V){return x&&R(S.prototype,x),V&&R(S,V),S}}(),q=function R(S,x,V){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,x);if(void 0===w){var L=Object.getPrototypeOf(S);return null===L?void 0:R(L,x,V)}if("value"in w)return w.value;var X=w.get;return void 0===X?void 0:X.call(V)},B=function U(R){return R&&R.__esModule?R:{default:R}}(c(0)),j=c(27);function A(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function I(R,S){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?R:S}var C=["alt","height","width"],D=function(R){function S(){return A(this,S),I(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function v(R,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(R,S):R.__proto__=S)}(S,R),z(S,[{key:"format",value:function(V,w){C.indexOf(V)>-1?w?this.domNode.setAttribute(V,w):this.domNode.removeAttribute(V):q(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,V,w)}}],[{key:"create",value:function(V){var w=q(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,V);return"string"==typeof V&&w.setAttribute("src",this.sanitize(V)),w}},{key:"formats",value:function(V){return C.reduce(function(w,L){return V.hasAttribute(L)&&(w[L]=V.getAttribute(L)),w},{})}},{key:"match",value:function(V){return/\.(jpe?g|gif|png)$/.test(V)||/^data:image\/.+;base64/.test(V)}},{key:"sanitize",value:function(V){return(0,j.sanitize)(V,["http","https","data"])?V:"//:0"}},{key:"value",value:function(V){return V.getAttribute("src")}}]),S}(B.default.Embed);D.blotName="image",D.tagName="IMG",N.default=D},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0});var z=function(){function R(S,x){for(var V=0;V<x.length;V++){var w=x[V];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,x,V){return x&&R(S.prototype,x),V&&R(S,V),S}}(),q=function R(S,x,V){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,x);if(void 0===w){var L=Object.getPrototypeOf(S);return null===L?void 0:R(L,x,V)}if("value"in w)return w.value;var X=w.get;return void 0===X?void 0:X.call(V)},Q=c(4),j=function U(R){return R&&R.__esModule?R:{default:R}}(c(27));function A(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function I(R,S){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?R:S}var C=["height","width"],D=function(R){function S(){return A(this,S),I(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function v(R,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(R,S):R.__proto__=S)}(S,R),z(S,[{key:"format",value:function(V,w){C.indexOf(V)>-1?w?this.domNode.setAttribute(V,w):this.domNode.removeAttribute(V):q(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,V,w)}}],[{key:"create",value:function(V){var w=q(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,V);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(V)),w}},{key:"formats",value:function(V){return C.reduce(function(w,L){return V.hasAttribute(L)&&(w[L]=V.getAttribute(L)),w},{})}},{key:"sanitize",value:function(V){return j.default.sanitize(V)}},{key:"value",value:function(V){return V.getAttribute("src")}}]),S}(Q.BlockEmbed);D.blotName="video",D.className="ql-video",D.tagName="IFRAME",N.default=D},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.FormulaBlot=void 0;var z=function(){function V(w,L){for(var X=0;X<L.length;X++){var Z=L[X];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(w,Z.key,Z)}}return function(w,L,X){return L&&V(w.prototype,L),X&&V(w,X),w}}(),q=function V(w,L,X){null===w&&(w=Function.prototype);var Z=Object.getOwnPropertyDescriptor(w,L);if(void 0===Z){var Y=Object.getPrototypeOf(w);return null===Y?void 0:V(Y,L,X)}if("value"in Z)return Z.value;var re=Z.get;return void 0===re?void 0:re.call(X)},B=v(c(35)),U=v(c(5)),I=v(c(9));function v(V){return V&&V.__esModule?V:{default:V}}function C(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}function D(V,w){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?V:w}function R(V,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);V.prototype=Object.create(w&&w.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(V,w):V.__proto__=w)}var S=function(V){function w(){return C(this,w),D(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return R(w,V),z(w,null,[{key:"create",value:function(X){var Z=q(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,X);return"string"==typeof X&&(window.katex.render(X,Z,{throwOnError:!1,errorColor:"#f00"}),Z.setAttribute("data-value",X)),Z}},{key:"value",value:function(X){return X.getAttribute("data-value")}}]),w}(B.default);S.blotName="formula",S.className="ql-formula",S.tagName="SPAN";var x=function(V){function w(){C(this,w);var L=D(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return L}return R(w,V),z(w,null,[{key:"register",value:function(){U.default.register(S,!0)}}]),w}(I.default);N.FormulaBlot=S,N.default=x},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.CodeToken=N.CodeBlock=void 0;var z=function(){function X(Z,Y){for(var re=0;re<Y.length;re++){var G=Y[re];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Z,G.key,G)}}return function(Z,Y,re){return Y&&X(Z.prototype,Y),re&&X(Z,re),Z}}(),q=function X(Z,Y,re){null===Z&&(Z=Function.prototype);var G=Object.getOwnPropertyDescriptor(Z,Y);if(void 0===G){var H=Object.getPrototypeOf(Z);return null===H?void 0:X(H,Y,re)}if("value"in G)return G.value;var F=G.get;return void 0===F?void 0:F.call(re)},B=D(c(0)),U=D(c(5)),I=D(c(9));function D(X){return X&&X.__esModule?X:{default:X}}function R(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function S(X,Z){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||"object"!=typeof Z&&"function"!=typeof Z?X:Z}function x(X,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}var V=function(X){function Z(){return R(this,Z),S(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}return x(Z,X),z(Z,[{key:"replaceWith",value:function(re){this.domNode.textContent=this.domNode.textContent,this.attach(),q(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"replaceWith",this).call(this,re)}},{key:"highlight",value:function(re){var G=this.domNode.textContent;this.cachedText!==G&&((G.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=re(G),this.domNode.normalize(),this.attach()),this.cachedText=G)}}]),Z}(D(c(13)).default);V.className="ql-syntax";var w=new B.default.Attributor.Class("token","hljs",{scope:B.default.Scope.INLINE}),L=function(X){function Z(Y,re){R(this,Z);var G=S(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,Y,re));if("function"!=typeof G.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var H=null;return G.quill.on(U.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(H),H=setTimeout(function(){G.highlight(),H=null},G.options.interval)}),G.highlight(),G}return x(Z,X),z(Z,null,[{key:"register",value:function(){U.default.register(w,!0),U.default.register(V,!0)}}]),z(Z,[{key:"highlight",value:function(){var re=this;if(!this.quill.selection.composing){this.quill.update(U.default.sources.USER);var G=this.quill.getSelection();this.quill.scroll.descendants(V).forEach(function(H){H.highlight(re.options.highlight)}),this.quill.update(U.default.sources.SILENT),null!=G&&this.quill.setSelection(G,U.default.sources.SILENT)}}}]),Z}(I.default);L.DEFAULTS={highlight:null==window.hljs?null:function(X){return window.hljs.highlightAuto(X).value},interval:1e3},N.CodeBlock=V,N.CodeToken=w,N.default=L},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(ge,N){ge.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(ge,N){ge.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(ge,N){ge.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(ge,N){ge.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(ge,N){ge.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(ge,N,c){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.default=N.BubbleTooltip=void 0;var z=function Z(Y,re,G){null===Y&&(Y=Function.prototype);var H=Object.getOwnPropertyDescriptor(Y,re);if(void 0===H){var F=Object.getPrototypeOf(Y);return null===F?void 0:Z(F,re,G)}if("value"in H)return H.value;var K=H.get;return void 0===K?void 0:K.call(G)},q=function(){function Z(Y,re){for(var G=0;G<re.length;G++){var H=re[G];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Y,H.key,H)}}return function(Y,re,G){return re&&Z(Y.prototype,re),G&&Z(Y,G),Y}}(),B=R(c(3)),U=R(c(8)),A=c(43),I=R(A),v=c(15),D=R(c(41));function R(Z){return Z&&Z.__esModule?Z:{default:Z}}function S(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")}function x(Z,Y){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||"object"!=typeof Y&&"function"!=typeof Y?Z:Y}function V(Z,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);Z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,Y):Z.__proto__=Y)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],L=function(Z){function Y(re,G){S(this,Y),null!=G.modules.toolbar&&null==G.modules.toolbar.container&&(G.modules.toolbar.container=w);var H=x(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,re,G));return H.quill.container.classList.add("ql-bubble"),H}return V(Y,Z),q(Y,[{key:"extendToolbar",value:function(G){this.tooltip=new X(this.quill,this.options.bounds),this.tooltip.root.appendChild(G.container),this.buildButtons([].slice.call(G.container.querySelectorAll("button")),D.default),this.buildPickers([].slice.call(G.container.querySelectorAll("select")),D.default)}}]),Y}(I.default);L.DEFAULTS=(0,B.default)(!0,{},I.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Y){Y?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var X=function(Z){function Y(re,G){S(this,Y);var H=x(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,re,G));return H.quill.on(U.default.events.EDITOR_CHANGE,function(F,K,ne,fe){if(F===U.default.events.SELECTION_CHANGE)if(null!=K&&K.length>0&&fe===U.default.sources.USER){H.show(),H.root.style.left="0px",H.root.style.width="",H.root.style.width=H.root.offsetWidth+"px";var me=H.quill.getLines(K.index,K.length);if(1===me.length)H.position(H.quill.getBounds(K));else{var Ie=me[me.length-1],Ne=H.quill.getIndex(Ie),ue=Math.min(Ie.length()-1,K.index+K.length-Ne),oe=H.quill.getBounds(new v.Range(Ne,ue));H.position(oe)}}else document.activeElement!==H.textbox&&H.quill.hasFocus()&&H.hide()}),H}return V(Y,Z),q(Y,[{key:"listen",value:function(){var G=this;z(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){G.root.classList.remove("ql-editing")}),this.quill.on(U.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!G.root.classList.contains("ql-hidden")){var H=G.quill.getSelection();null!=H&&G.position(G.quill.getBounds(H))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(G){var H=z(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"position",this).call(this,G),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",0===H)return H;F.style.marginLeft=-1*H-F.offsetWidth/2+"px"}}]),Y}(A.BaseTooltip);X.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),N.BubbleTooltip=X,N.default=L},function(ge,N,c){ge.exports=c(63)}]).default},9751:(Tt,ge,N)=>{"use strict";N.d(ge,{y:()=>A});var c=N(2961),z=N(727),q=N(8822),Q=N(9635),B=N(2416),j=N(576),U=N(2806);let A=(()=>{class D{constructor(S){S&&(this._subscribe=S)}lift(S){const x=new D;return x.source=this,x.operator=S,x}subscribe(S,x,V){const w=function C(D){return D&&D instanceof c.Lv||function v(D){return D&&(0,j.m)(D.next)&&(0,j.m)(D.error)&&(0,j.m)(D.complete)}(D)&&(0,z.Nn)(D)}(S)?S:new c.Hp(S,x,V);return(0,U.x)(()=>{const{operator:L,source:X}=this;w.add(L?L.call(w,X):X?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(S){try{return this._subscribe(S)}catch(x){S.error(x)}}forEach(S,x){return new(x=I(x))((V,w)=>{const L=new c.Hp({next:X=>{try{S(X)}catch(Z){w(Z),L.unsubscribe()}},error:w,complete:V});this.subscribe(L)})}_subscribe(S){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(S)}[q.L](){return this}pipe(...S){return(0,Q.U)(S)(this)}toPromise(S){return new(S=I(S))((x,V)=>{let w;this.subscribe(L=>w=L,L=>V(L),()=>x(w))})}}return D.create=R=>new D(R),D})();function I(D){var R;return null!==(R=D??B.v.Promise)&&void 0!==R?R:Promise}},7579:(Tt,ge,N)=>{"use strict";N.d(ge,{x:()=>U});var c=N(9751),z=N(727);const Q=(0,N(3888).d)(I=>function(){I(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=N(8737),j=N(2806);let U=(()=>{class I extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const D=new A(this,this);return D.operator=C,D}_throwIfClosed(){if(this.closed)throw new Q}next(C){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const D of this.currentObservers)D.next(C)}})}error(C){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:D}=this;for(;D.length;)D.shift().error(C)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:D,isStopped:R,observers:S}=this;return D||R?z.Lc:(this.currentObservers=null,S.push(C),new z.w0(()=>{this.currentObservers=null,(0,B.P)(S,C)}))}_checkFinalizedStatuses(C){const{hasError:D,thrownError:R,isStopped:S}=this;D?C.error(R):S&&C.complete()}asObservable(){const C=new c.y;return C.source=this,C}}return I.create=(v,C)=>new A(v,C),I})();class A extends U{constructor(v,C){super(),this.destination=v,this.source=C}next(v){var C,D;null===(D=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===D||D.call(C,v)}error(v){var C,D;null===(D=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===D||D.call(C,v)}complete(){var v,C;null===(C=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===C||C.call(v)}_subscribe(v){var C,D;return null!==(D=null===(C=this.source)||void 0===C?void 0:C.subscribe(v))&&void 0!==D?D:z.Lc}}},2961:(Tt,ge,N)=>{"use strict";N.d(ge,{Hp:()=>V,Lv:()=>D});var c=N(576),z=N(727),q=N(2416),Q=N(7849);function B(){}const j=I("C",void 0,void 0);function I(Y,re,G){return{kind:Y,value:re,error:G}}var v=N(3410),C=N(2806);class D extends z.w0{constructor(re){super(),this.isStopped=!1,re?(this.destination=re,(0,z.Nn)(re)&&re.add(this)):this.destination=Z}static create(re,G,H){return new V(re,G,H)}next(re){this.isStopped?X(function A(Y){return I("N",Y,void 0)}(re),this):this._next(re)}error(re){this.isStopped?X(function U(Y){return I("E",void 0,Y)}(re),this):(this.isStopped=!0,this._error(re))}complete(){this.isStopped?X(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(re){this.destination.next(re)}_error(re){try{this.destination.error(re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function S(Y,re){return R.call(Y,re)}class x{constructor(re){this.partialObserver=re}next(re){const{partialObserver:G}=this;if(G.next)try{G.next(re)}catch(H){w(H)}}error(re){const{partialObserver:G}=this;if(G.error)try{G.error(re)}catch(H){w(H)}else w(re)}complete(){const{partialObserver:re}=this;if(re.complete)try{re.complete()}catch(G){w(G)}}}class V extends D{constructor(re,G,H){let F;if(super(),(0,c.m)(re)||!re)F={next:re??void 0,error:G??void 0,complete:H??void 0};else{let K;this&&q.v.useDeprecatedNextContext?(K=Object.create(re),K.unsubscribe=()=>this.unsubscribe(),F={next:re.next&&S(re.next,K),error:re.error&&S(re.error,K),complete:re.complete&&S(re.complete,K)}):F=re}this.destination=new x(F)}}function w(Y){q.v.useDeprecatedSynchronousErrorHandling?(0,C.O)(Y):(0,Q.h)(Y)}function X(Y,re){const{onStoppedNotification:G}=q.v;G&&v.z.setTimeout(()=>G(Y,re))}const Z={closed:!0,next:B,error:function L(Y){throw Y},complete:B}},727:(Tt,ge,N)=>{"use strict";N.d(ge,{Lc:()=>j,w0:()=>B,Nn:()=>U});var c=N(576);const q=(0,N(3888).d)(I=>function(C){I(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((D,R)=>`${R+1}) ${D.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var Q=N(8737);class B{constructor(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let v;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const S of C)S.remove(this);else C.remove(this);const{initialTeardown:D}=this;if((0,c.m)(D))try{D()}catch(S){v=S instanceof q?S.errors:[S]}const{_finalizers:R}=this;if(R){this._finalizers=null;for(const S of R)try{A(S)}catch(x){v=v??[],x instanceof q?v=[...v,...x.errors]:v.push(x)}}if(v)throw new q(v)}}add(v){var C;if(v&&v!==this)if(this.closed)A(v);else{if(v instanceof B){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(v)}}_hasParent(v){const{_parentage:C}=this;return C===v||Array.isArray(C)&&C.includes(v)}_addParent(v){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(v),C):C?[C,v]:v}_removeParent(v){const{_parentage:C}=this;C===v?this._parentage=null:Array.isArray(C)&&(0,Q.P)(C,v)}remove(v){const{_finalizers:C}=this;C&&(0,Q.P)(C,v),v instanceof B&&v._removeParent(this)}}B.EMPTY=(()=>{const I=new B;return I.closed=!0,I})();const j=B.EMPTY;function U(I){return I instanceof B||I&&"closed"in I&&(0,c.m)(I.remove)&&(0,c.m)(I.add)&&(0,c.m)(I.unsubscribe)}function A(I){(0,c.m)(I)?I():I.unsubscribe()}},2416:(Tt,ge,N)=>{"use strict";N.d(ge,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Tt,ge,N)=>{"use strict";N.d(ge,{E:()=>z});const z=new(N(9751).y)(B=>B.complete())},8996:(Tt,ge,N)=>{"use strict";N.d(ge,{D:()=>re});var c=N(8421),z=N(5363),q=N(9468),j=N(9751),A=N(2202),I=N(576),v=N(9672);function D(G,H){if(!G)throw new Error("Iterable cannot be null");return new j.y(F=>{(0,v.f)(F,H,()=>{const K=G[Symbol.asyncIterator]();(0,v.f)(F,H,()=>{K.next().then(ne=>{ne.done?F.complete():F.next(ne.value)})},0,!0)})})}var R=N(3670),S=N(8239),x=N(1144),V=N(6495),w=N(2206),L=N(4532),X=N(3260);function re(G,H){return H?function Y(G,H){if(null!=G){if((0,R.c)(G))return function Q(G,H){return(0,c.Xf)(G).pipe((0,q.R)(H),(0,z.Q)(H))}(G,H);if((0,x.z)(G))return function U(G,H){return new j.y(F=>{let K=0;return H.schedule(function(){K===G.length?F.complete():(F.next(G[K++]),F.closed||this.schedule())})})}(G,H);if((0,S.t)(G))return function B(G,H){return(0,c.Xf)(G).pipe((0,q.R)(H),(0,z.Q)(H))}(G,H);if((0,w.D)(G))return D(G,H);if((0,V.T)(G))return function C(G,H){return new j.y(F=>{let K;return(0,v.f)(F,H,()=>{K=G[A.h](),(0,v.f)(F,H,()=>{let ne,fe;try{({value:ne,done:fe}=K.next())}catch(me){return void F.error(me)}fe?F.complete():F.next(ne)},0,!0)}),()=>(0,I.m)(K?.return)&&K.return()})}(G,H);if((0,X.L)(G))return function Z(G,H){return D((0,X.Q)(G),H)}(G,H)}throw(0,L.z)(G)}(G,H):(0,c.Xf)(G)}},8421:(Tt,ge,N)=>{"use strict";N.d(ge,{Xf:()=>R});var c=N(655),z=N(1144),q=N(8239),Q=N(9751),B=N(3670),j=N(2206),U=N(4532),A=N(6495),I=N(3260),v=N(576),C=N(7849),D=N(8822);function R(Y){if(Y instanceof Q.y)return Y;if(null!=Y){if((0,B.c)(Y))return function S(Y){return new Q.y(re=>{const G=Y[D.L]();if((0,v.m)(G.subscribe))return G.subscribe(re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,z.z)(Y))return function x(Y){return new Q.y(re=>{for(let G=0;G<Y.length&&!re.closed;G++)re.next(Y[G]);re.complete()})}(Y);if((0,q.t)(Y))return function V(Y){return new Q.y(re=>{Y.then(G=>{re.closed||(re.next(G),re.complete())},G=>re.error(G)).then(null,C.h)})}(Y);if((0,j.D)(Y))return L(Y);if((0,A.T)(Y))return function w(Y){return new Q.y(re=>{for(const G of Y)if(re.next(G),re.closed)return;re.complete()})}(Y);if((0,I.L)(Y))return function X(Y){return L((0,I.Q)(Y))}(Y)}throw(0,U.z)(Y)}function L(Y){return new Q.y(re=>{(function Z(Y,re){var G,H,F,K;return(0,c.mG)(this,void 0,void 0,function*(){try{for(G=(0,c.KL)(Y);!(H=yield G.next()).done;)if(re.next(H.value),re.closed)return}catch(ne){F={error:ne}}finally{try{H&&!H.done&&(K=G.return)&&(yield K.call(G))}finally{if(F)throw F.error}}re.complete()})})(Y,re).catch(G=>re.error(G))})}},6451:(Tt,ge,N)=>{"use strict";N.d(ge,{T:()=>j});var c=N(8189),z=N(8421),q=N(515),Q=N(7669),B=N(8996);function j(...U){const A=(0,Q.yG)(U),I=(0,Q._6)(U,1/0),v=U;return v.length?1===v.length?(0,z.Xf)(v[0]):(0,c.J)(I)((0,B.D)(v,A)):q.E}},5403:(Tt,ge,N)=>{"use strict";N.d(ge,{x:()=>z});var c=N(2961);function z(Q,B,j,U,A){return new q(Q,B,j,U,A)}class q extends c.Lv{constructor(B,j,U,A,I,v){super(B),this.onFinalize=I,this.shouldUnsubscribe=v,this._next=j?function(C){try{j(C)}catch(D){B.error(D)}}:super._next,this._error=A?function(C){try{A(C)}catch(D){B.error(D)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch(C){B.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},4004:(Tt,ge,N)=>{"use strict";N.d(ge,{U:()=>q});var c=N(4482),z=N(5403);function q(Q,B){return(0,c.e)((j,U)=>{let A=0;j.subscribe((0,z.x)(U,I=>{U.next(Q.call(B,I,A++))}))})}},8189:(Tt,ge,N)=>{"use strict";N.d(ge,{J:()=>q});var c=N(5577),z=N(4671);function q(Q=1/0){return(0,c.z)(z.y,Q)}},5577:(Tt,ge,N)=>{"use strict";N.d(ge,{z:()=>A});var c=N(4004),z=N(8421),q=N(4482),Q=N(9672),B=N(5403),U=N(576);function A(I,v,C=1/0){return(0,U.m)(v)?A((D,R)=>(0,c.U)((S,x)=>v(D,S,R,x))((0,z.Xf)(I(D,R))),C):("number"==typeof v&&(C=v),(0,q.e)((D,R)=>function j(I,v,C,D,R,S,x,V){const w=[];let L=0,X=0,Z=!1;const Y=()=>{Z&&!w.length&&!L&&v.complete()},re=H=>L<D?G(H):w.push(H),G=H=>{S&&v.next(H),L++;let F=!1;(0,z.Xf)(C(H,X++)).subscribe((0,B.x)(v,K=>{R?.(K),S?re(K):v.next(K)},()=>{F=!0},void 0,()=>{if(F)try{for(L--;w.length&&L<D;){const K=w.shift();x?(0,Q.f)(v,x,()=>G(K)):G(K)}Y()}catch(K){v.error(K)}}))};return I.subscribe((0,B.x)(v,re,()=>{Z=!0,Y()})),()=>{V?.()}}(D,R,I,C)))}},5363:(Tt,ge,N)=>{"use strict";N.d(ge,{Q:()=>Q});var c=N(9672),z=N(4482),q=N(5403);function Q(B,j=0){return(0,z.e)((U,A)=>{U.subscribe((0,q.x)(A,I=>(0,c.f)(A,B,()=>A.next(I),j),()=>(0,c.f)(A,B,()=>A.complete(),j),I=>(0,c.f)(A,B,()=>A.error(I),j)))})}},3099:(Tt,ge,N)=>{"use strict";N.d(ge,{B:()=>B});var c=N(8421),z=N(7579),q=N(2961),Q=N(4482);function B(U={}){const{connector:A=(()=>new z.x),resetOnError:I=!0,resetOnComplete:v=!0,resetOnRefCountZero:C=!0}=U;return D=>{let R,S,x,V=0,w=!1,L=!1;const X=()=>{S?.unsubscribe(),S=void 0},Z=()=>{X(),R=x=void 0,w=L=!1},Y=()=>{const re=R;Z(),re?.unsubscribe()};return(0,Q.e)((re,G)=>{V++,!L&&!w&&X();const H=x=x??A();G.add(()=>{V--,0===V&&!L&&!w&&(S=j(Y,C))}),H.subscribe(G),!R&&V>0&&(R=new q.Hp({next:F=>H.next(F),error:F=>{L=!0,X(),S=j(Z,I,F),H.error(F)},complete:()=>{w=!0,X(),S=j(Z,v),H.complete()}}),(0,c.Xf)(re).subscribe(R))})(D)}}function j(U,A,...I){if(!0===A)return void U();if(!1===A)return;const v=new q.Hp({next:()=>{v.unsubscribe(),U()}});return(0,c.Xf)(A(...I)).subscribe(v)}},9468:(Tt,ge,N)=>{"use strict";N.d(ge,{R:()=>z});var c=N(4482);function z(q,Q=0){return(0,c.e)((B,j)=>{j.add(q.schedule(()=>B.subscribe(j),Q))})}},8505:(Tt,ge,N)=>{"use strict";N.d(ge,{b:()=>B});var c=N(576),z=N(4482),q=N(5403),Q=N(4671);function B(j,U,A){const I=(0,c.m)(j)||U||A?{next:j,error:U,complete:A}:j;return I?(0,z.e)((v,C)=>{var D;null===(D=I.subscribe)||void 0===D||D.call(I);let R=!0;v.subscribe((0,q.x)(C,S=>{var x;null===(x=I.next)||void 0===x||x.call(I,S),C.next(S)},()=>{var S;R=!1,null===(S=I.complete)||void 0===S||S.call(I),C.complete()},S=>{var x;R=!1,null===(x=I.error)||void 0===x||x.call(I,S),C.error(S)},()=>{var S,x;R&&(null===(S=I.unsubscribe)||void 0===S||S.call(I)),null===(x=I.finalize)||void 0===x||x.call(I)}))}):Q.y}},6063:(Tt,ge,N)=>{"use strict";N.d(ge,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Tt,ge,N)=>{"use strict";N.d(ge,{z:()=>c});const c={setTimeout(z,q,...Q){const{delegate:B}=c;return B?.setTimeout?B.setTimeout(z,q,...Q):setTimeout(z,q,...Q)},clearTimeout(z){const{delegate:q}=c;return(q?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(Tt,ge,N)=>{"use strict";N.d(ge,{h:()=>z});const z=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,ge,N)=>{"use strict";N.d(ge,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Tt,ge,N)=>{"use strict";N.d(ge,{_6:()=>j,jO:()=>Q,yG:()=>B});var c=N(576);function q(U){return U[U.length-1]}function Q(U){return(0,c.m)(q(U))?U.pop():void 0}function B(U){return function z(U){return U&&(0,c.m)(U.schedule)}(q(U))?U.pop():void 0}function j(U,A){return"number"==typeof q(U)?U.pop():A}},8737:(Tt,ge,N)=>{"use strict";function c(z,q){if(z){const Q=z.indexOf(q);0<=Q&&z.splice(Q,1)}}N.d(ge,{P:()=>c})},3888:(Tt,ge,N)=>{"use strict";function c(z){const Q=z(B=>{Error.call(B),B.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}N.d(ge,{d:()=>c})},2806:(Tt,ge,N)=>{"use strict";N.d(ge,{O:()=>Q,x:()=>q});var c=N(2416);let z=null;function q(B){if(c.v.useDeprecatedSynchronousErrorHandling){const j=!z;if(j&&(z={errorThrown:!1,error:null}),B(),j){const{errorThrown:U,error:A}=z;if(z=null,U)throw A}}else B()}function Q(B){c.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=B)}},9672:(Tt,ge,N)=>{"use strict";function c(z,q,Q,B=0,j=!1){const U=q.schedule(function(){Q(),j?z.add(this.schedule(null,B)):this.unsubscribe()},B);if(z.add(U),!j)return U}N.d(ge,{f:()=>c})},4671:(Tt,ge,N)=>{"use strict";function c(z){return z}N.d(ge,{y:()=>c})},1144:(Tt,ge,N)=>{"use strict";N.d(ge,{z:()=>c});const c=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Tt,ge,N)=>{"use strict";N.d(ge,{D:()=>z});var c=N(576);function z(q){return Symbol.asyncIterator&&(0,c.m)(q?.[Symbol.asyncIterator])}},576:(Tt,ge,N)=>{"use strict";function c(z){return"function"==typeof z}N.d(ge,{m:()=>c})},3670:(Tt,ge,N)=>{"use strict";N.d(ge,{c:()=>q});var c=N(8822),z=N(576);function q(Q){return(0,z.m)(Q[c.L])}},6495:(Tt,ge,N)=>{"use strict";N.d(ge,{T:()=>q});var c=N(2202),z=N(576);function q(Q){return(0,z.m)(Q?.[c.h])}},8239:(Tt,ge,N)=>{"use strict";N.d(ge,{t:()=>z});var c=N(576);function z(q){return(0,c.m)(q?.then)}},3260:(Tt,ge,N)=>{"use strict";N.d(ge,{L:()=>Q,Q:()=>q});var c=N(655),z=N(576);function q(B){return(0,c.FC)(this,arguments,function*(){const U=B.getReader();try{for(;;){const{value:A,done:I}=yield(0,c.qq)(U.read());if(I)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(A)}}finally{U.releaseLock()}})}function Q(B){return(0,z.m)(B?.getReader)}},4482:(Tt,ge,N)=>{"use strict";N.d(ge,{A:()=>z,e:()=>q});var c=N(576);function z(Q){return(0,c.m)(Q?.lift)}function q(Q){return B=>{if(z(B))return B.lift(function(j){try{return Q(j,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Tt,ge,N)=>{"use strict";N.d(ge,{U:()=>q,z:()=>z});var c=N(4671);function z(...Q){return q(Q)}function q(Q){return 0===Q.length?c.y:1===Q.length?Q[0]:function(j){return Q.reduce((U,A)=>A(U),j)}}},7849:(Tt,ge,N)=>{"use strict";N.d(ge,{h:()=>q});var c=N(2416),z=N(3410);function q(Q){z.z.setTimeout(()=>{const{onUnhandledError:B}=c.v;if(!B)throw Q;B(Q)})}},4532:(Tt,ge,N)=>{"use strict";function c(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ge,{z:()=>c})},655:(Tt,ge,N)=>{"use strict";function Q(ue,oe){var J={};for(var se in ue)Object.prototype.hasOwnProperty.call(ue,se)&&oe.indexOf(se)<0&&(J[se]=ue[se]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(se=Object.getOwnPropertySymbols(ue);ce<se.length;ce++)oe.indexOf(se[ce])<0&&Object.prototype.propertyIsEnumerable.call(ue,se[ce])&&(J[se[ce]]=ue[se[ce]])}return J}function D(ue,oe,J,se){return new(J||(J=Promise))(function(ye,_e){function ae(Se){try{Ce(se.next(Se))}catch(Oe){_e(Oe)}}function we(Se){try{Ce(se.throw(Se))}catch(Oe){_e(Oe)}}function Ce(Se){Se.done?ye(Se.value):function ce(ye){return ye instanceof J?ye:new J(function(_e){_e(ye)})}(Se.value).then(ae,we)}Ce((se=se.apply(ue,oe||[])).next())})}function Y(ue){return this instanceof Y?(this.v=ue,this):new Y(ue)}function re(ue,oe,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,se=J.apply(ue,oe||[]),ye=[];return ce={},_e("next"),_e("throw"),_e("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function _e(Qe){se[Qe]&&(ce[Qe]=function(dt){return new Promise(function(pt,mt){ye.push([Qe,dt,pt,mt])>1||ae(Qe,dt)})})}function ae(Qe,dt){try{!function we(Qe){Qe.value instanceof Y?Promise.resolve(Qe.value.v).then(Ce,Se):Oe(ye[0][2],Qe)}(se[Qe](dt))}catch(pt){Oe(ye[0][3],pt)}}function Ce(Qe){ae("next",Qe)}function Se(Qe){ae("throw",Qe)}function Oe(Qe,dt){Qe(dt),ye.shift(),ye.length&&ae(ye[0][0],ye[0][1])}}function H(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,oe=ue[Symbol.asyncIterator];return oe?oe.call(ue):(ue=function V(ue){var oe="function"==typeof Symbol&&Symbol.iterator,J=oe&&ue[oe],se=0;if(J)return J.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&se>=ue.length&&(ue=void 0),{value:ue&&ue[se++],done:!ue}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),J={},se("next"),se("throw"),se("return"),J[Symbol.asyncIterator]=function(){return this},J);function se(ye){J[ye]=ue[ye]&&function(_e){return new Promise(function(ae,we){!function ce(ye,_e,ae,we){Promise.resolve(we).then(function(Ce){ye({value:Ce,done:ae})},_e)}(ae,we,(_e=ue[ye](_e)).done,_e.value)})}}}N.d(ge,{FC:()=>re,KL:()=>H,_T:()=>Q,mG:()=>D,qq:()=>Y})},4650:(Tt,ge,N)=>{"use strict";N.d(ge,{$8M:()=>ic,$WT:()=>Bn,$Z:()=>R0,AFp:()=>pv,ALo:()=>jD,AaK:()=>A,Akn:()=>Do,CHM:()=>xd,CRH:()=>JD,CZH:()=>nd,CqO:()=>lb,D6c:()=>RC,DdM:()=>oE,EJc:()=>mC,EpF:()=>wT,F$t:()=>DT,F4k:()=>ab,FYo:()=>Cc,FiY:()=>Hr,Gf:()=>YD,GfV:()=>s0,GkF:()=>sb,Gpc:()=>C,Hsn:()=>CT,JOm:()=>qi,KtG:()=>Gu,LFG:()=>it,Lbi:()=>Yr,Lck:()=>Y1,MAs:()=>ET,MMx:()=>eE,MR2:()=>gI,NdJ:()=>fy,OlP:()=>gn,Oqu:()=>Dp,P3R:()=>K_,PXZ:()=>Iv,Q6J:()=>ly,QGY:()=>dy,Qsj:()=>o0,R0b:()=>Ni,RDi:()=>rI,Rgc:()=>$p,SBq:()=>ll,Sil:()=>mv,Suo:()=>QD,TTD:()=>hs,TgZ:()=>cy,Tol:()=>_b,X6Q:()=>TC,XFs:()=>et,Xpm:()=>as,Xts:()=>Tm,Y36:()=>Oc,YKP:()=>tv,YNc:()=>_T,Yjl:()=>us,Yz7:()=>Oe,Z0I:()=>mt,ZZ4:()=>Pu,_Bn:()=>ev,_UZ:()=>rb,_Vd:()=>Dc,_c5:()=>JE,_uU:()=>wy,aQg:()=>_g,c2e:()=>pC,cJS:()=>dt,cg1:()=>Tu,dDg:()=>VE,dqk:()=>Vt,eFA:()=>jE,ekj:()=>gy,eoX:()=>Ei,f3M:()=>ft,g9A:()=>rg,h0i:()=>Jc,hGG:()=>NC,hij:()=>Af,iGM:()=>ZD,ifc:()=>on,ip1:()=>hv,jDz:()=>CD,kEZ:()=>sE,kL8:()=>Nb,l5B:()=>aE,lG2:()=>ba,lcZ:()=>HD,lqb:()=>uu,lri:()=>bv,n5z:()=>Kl,oAB:()=>ls,oJD:()=>Xh,oxw:()=>TT,q4F:()=>a0,qLn:()=>hf,qOj:()=>pp,qZA:()=>bp,qbA:()=>lE,rWj:()=>id,sBO:()=>Mu,s_b:()=>ov,soG:()=>$f,tb:()=>Qr,tp0:()=>$r,uIk:()=>iy,vHH:()=>w,vpe:()=>ma,wAp:()=>Mt,xi3:()=>$D,xp6:()=>b0,z2F:()=>Ou,zSh:()=>Tc,zs3:()=>fu});var c=N(7579),z=N(727),q=N(9751),Q=N(6451),B=N(3099);function j(i){for(let s in i)if(i[s]===j)return s;throw Error("Could not find renamed property on target object.")}function U(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function A(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(A).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function I(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const v=j({__forward_ref__:j});function C(i){return i.__forward_ref__=C,i.toString=function(){return A(this())},i}function D(i){return R(i)?i():i}function R(i){return"function"==typeof i&&i.hasOwnProperty(v)&&i.__forward_ref__===C}function S(i){return i&&!!i.\u0275providers}const V="https://g.co/ng/security#xss";class w extends Error{constructor(s,a){super(function L(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function H(i,s){throw new w(-201,!1)}function _e(i,s){null==i&&function ae(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Oe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function dt(i){return{providers:i.providers||[],imports:i.imports||[]}}function pt(i){return Ut(i,je)||Ut(i,Xe)}function mt(i){return null!==pt(i)}function Ut(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ve(i){return i&&(i.hasOwnProperty(nt)||i.hasOwnProperty(qe))?i[nt]:null}const je=j({\u0275prov:j}),nt=j({\u0275inj:j}),Xe=j({ngInjectableDef:j}),qe=j({ngInjectorDef:j});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let Rt;function pn(i){const s=Rt;return Rt=i,s}function Cn(i,s,a){const u=pt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&et.Optional?null:void 0!==s?s:void H(A(i))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wr={},Un="__NG_DI_FLAG__",Di="ngTempTokenPath",fo=/\n/gm,xo="__source";let rn;function ti(i){const s=rn;return rn=i,s}function Fi(i,s=et.Default){if(void 0===rn)throw new w(-203,!1);return null===rn?Cn(i,void 0,s):rn.get(i,s&et.Optional?null:void 0,s)}function it(i,s=et.Default){return(function xt(){return Rt}()||Fi)(D(i),s)}function ft(i,s=et.Default){return it(i,Ot(s))}function Ot(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ht(i){const s=[];for(let a=0;a<i.length;a++){const u=D(i[a]);if(Array.isArray(u)){if(0===u.length)throw new w(900,!1);let f,h=et.Default;for(let y=0;y<u.length;y++){const T=u[y],O=Ee(T);"number"==typeof O?-1===O?f=T.token:h|=O:f=T}s.push(it(f,h))}else s.push(it(u))}return s}function ln(i,s){return i[Un]=s,i.prototype[Un]=s,i}function Ee(i){return i[Un]}function $e(i){return{toString:i}.toString()}var ke=(()=>((ke=ke||{})[ke.OnPush=0]="OnPush",ke[ke.Default=1]="Default",ke))(),on=(()=>{return(i=on||(on={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",on;var i})();const Mn={},Pt=[],or=j({\u0275cmp:j}),Gt=j({\u0275dir:j}),ni=j({\u0275pipe:j}),os=j({\u0275mod:j}),Ir=j({\u0275fac:j}),ss=j({__NG_ELEMENT_ID__:j});let vh=0;function as(i){return $e(()=>{const a=!0===i.standalone,u={},f={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||on.Emulated,id:"c"+vh++,styles:i.styles||Pt,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=i.dependencies,y=i.features;return f.inputs=Nl(i.inputs,u),f.outputs=Nl(i.outputs),y&&y.forEach(T=>T(f)),f.directiveDefs=h?()=>("function"==typeof h?h():h).map(Ml).filter(sr):null,f.pipeDefs=h?()=>("function"==typeof h?h():h).map(pr).filter(sr):null,f})}function Ml(i){return cn(i)||Nn(i)}function sr(i){return null!==i}function ls(i){return $e(()=>({type:i.type,bootstrap:i.bootstrap||Pt,declarations:i.declarations||Pt,imports:i.imports||Pt,exports:i.exports||Pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Nl(i,s){if(null==i)return Mn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let f=i[u],h=f;Array.isArray(f)&&(h=f[1],f=f[0]),a[f]=u,s&&(s[f]=h)}return a}const ba=as;function us(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function cn(i){return i[or]||null}function Nn(i){return i[Gt]||null}function pr(i){return i[ni]||null}function Bn(i){const s=cn(i)||Nn(i)||pr(i);return null!==s&&s.standalone}function Tr(i,s){const a=i[os]||null;if(!a&&!0===s)throw new Error(`Type ${A(i)} does not have '\u0275mod' property.`);return a}function si(i){return Array.isArray(i)&&"object"==typeof i[1]}function ai(i){return Array.isArray(i)&&!0===i[1]}function Yi(i){return 0!=(4&i.flags)}function qs(i){return i.componentOffset>-1}function Pl(i){return 1==(1&i.flags)}function Jn(i){return null!==i.template}function bh(i){return 0!=(256&i[2])}function No(i,s){return i.hasOwnProperty(Ir)?i[Ir]:null}class fs{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function hs(){return ps}function ps(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ro),Aa}function Aa(){const i=xa(this),s=i?.current;if(s){const a=i.previous;if(a===Mn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Ro(i,s,a,u){const f=this.declaredInputs[a],h=xa(i)||function Oa(i,s){return i[gs]=s}(i,{previous:Mn,current:null}),y=h.current||(h.current={}),T=h.previous,O=T[f];y[f]=new fs(O&&O.currentValue,s,T===Mn),i[u]=s}hs.ngInherit=!0;const gs="__ngSimpleChanges__";function xa(i){return i[gs]||null}function Ln(i){for(;Array.isArray(i);)i=i[0];return i}function ho(i,s){return Ln(s[i])}function ur(i,s){return Ln(s[i.index])}function Na(i,s){return i.data[s]}function Ji(i,s){return i[s]}function Xn(i,s){const a=s[i];return si(a)?a:a[0]}function ko(i){return 64==(64&i[2])}function Ci(i,s){return null==s?null:i[s]}function Ll(i){i[18]=0}function Lo(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const $t={lFrame:Ch(null),bindingsEnabled:!0};function qu(){return $t.bindingsEnabled}function Be(){return $t.lFrame.lView}function sn(){return $t.lFrame.tView}function xd(i){return $t.lFrame.contextLView=i,i[8]}function Gu(i){return $t.lFrame.contextLView=null,i}function er(){let i=Vl();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vl(){return $t.lFrame.currentTNode}function Si(i,s){const a=$t.lFrame;a.currentTNode=i,a.isParent=s}function vs(){return $t.lFrame.isParent}function zu(){$t.lFrame.isParent=!1}function mr(){const i=$t.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xi(){return $t.lFrame.bindingIndex++}function po(i){const s=$t.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Ul(i,s){const a=$t.lFrame;a.bindingIndex=a.bindingRootIndex=i,go(s)}function go(i){$t.lFrame.currentDirectiveIndex=i}function Nd(){return $t.lFrame.currentQueryIndex}function Bl(i){$t.lFrame.currentQueryIndex=i}function Ku(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Rd(i,s,a){if(a&et.SkipSelf){let f=s,h=i;for(;!(f=f.parent,null!==f||a&et.Host||(f=Ku(h),null===f||(h=h[15],10&f.type))););if(null===f)return!1;s=f,i=h}const u=$t.lFrame=Dh();return u.currentTNode=s,u.lView=i,!0}function ka(i){const s=Dh(),a=i[1];$t.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Dh(){const i=$t.lFrame,s=null===i?null:i.child;return null===s?Ch(i):s}function Ch(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Sh(){const i=$t.lFrame;return $t.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Zu=Sh;function Ah(){const i=Sh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ur(){return $t.lFrame.selectedIndex}function eo(i){$t.lFrame.selectedIndex=i}function _n(){const i=$t.lFrame;return Na(i.tView,i.selectedIndex)}function Js(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:$,ngOnDestroy:ie}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),T&&((i.contentHooks||(i.contentHooks=[])).push(a,T),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,T)),O&&(i.viewHooks||(i.viewHooks=[])).push(-a,O),$&&((i.viewHooks||(i.viewHooks=[])).push(a,$),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,$)),null!=ie&&(i.destroyHooks||(i.destroyHooks=[])).push(a,ie)}}function Xs(i,s,a){ws(i,s,3,a)}function Fo(i,s,a,u){(3&i[2])===a&&ws(i,s,a,u)}function mo(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ws(i,s,a,u){const h=u??-1,y=s.length-1;let T=0;for(let O=void 0!==u?65535&i[18]:0;O<y;O++)if("number"==typeof s[O+1]){if(T=s[O],null!=u&&T>=u)break}else s[O]<0&&(i[18]+=65536),(T<h||-1==h)&&(Ld(i,a,s,O),i[18]=(4294901760&i[18])+O+2),O++}function Ld(i,s,a,u){const f=a[u]<0,h=a[u+1],T=i[f?-a[u]:a[u]];if(f){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(T)}finally{}}}else try{h.call(T)}finally{}}class La{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Fa(i,s,a){let u=0;for(;u<a.length;){const f=a[u];if("number"==typeof f){if(0!==f)break;u++;const h=a[u++],y=a[u++],T=a[u++];i.setAttribute(s,y,T,h)}else{const h=f,y=a[++u];Va(h)?i.setProperty(s,h,y):i.setAttribute(s,h,y),u++}}return u}function Bi(i){return 3===i||4===i||6===i}function Va(i){return 64===i.charCodeAt(0)}function Ai(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const f=s[u];"number"==typeof f?a=f:0===a||Ua(i,a,f,null,-1===a||2===a?s[++u]:null)}}return i}function Ua(i,s,a,u,f){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const T=i[h++];if("number"==typeof T){if(T===s){y=-1;break}if(T>s){y=h-1;break}}}for(;h<i.length;){const T=i[h];if("number"==typeof T)break;if(T===a){if(null===u)return void(null!==f&&(i[h+1]=f));if(u===i[h+1])return void(i[h+2]=f)}h++,null!==u&&h++,null!==f&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==u&&i.splice(h++,0,u),null!==f&&i.splice(h++,0,f)}function Hl(i){return-1!==i}function Is(i){return 32767&i}function Vo(i,s){let a=function $l(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Ts=!0;function vo(i){const s=Ts;return Ts=i,s}let Ba=0;const Br={};function no(i,s){const a=Gl(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Ds(u.data,i),Ds(s,null),Ds(u.blueprint,null));const f=ja(i,s),h=i.injectorIndex;if(Hl(f)){const y=Is(f),T=Vo(f,s),O=T[1].data;for(let $=0;$<8;$++)s[h+$]=T[y+$]|O[y+$]}return s[h+8]=f,h}function Ds(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Gl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ja(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,f=s;for(;null!==f;){if(u=rc(f),null===u)return-1;if(a++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function zl(i,s,a){!function ec(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ss)&&(u=a[ss]),null==u&&(u=a[ss]=Ba++);const f=255&u;s.data[i+(f>>5)]|=1<<f}(i,s,a)}function tc(i,s,a){if(a&et.Optional||void 0!==i)return i;H()}function $a(i,s,a,u){if(a&et.Optional&&void 0===u&&(u=null),!(a&(et.Self|et.Host))){const f=i[9],h=pn(void 0);try{return f?f.get(s,u,a&et.Optional):Cn(s,u,a&et.Optional)}finally{pn(h)}}return tc(u,0,a)}function qa(i,s,a,u=et.Default,f){if(null!==i){if(1024&s[2]){const y=function Vd(i,s,a,u,f){let h=i,y=s;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const T=xi(h,y,a,u|et.Self,Br);if(T!==Br)return T;let O=h.parent;if(!O){const $=y[21];if($){const ie=$.get(a,Br,u);if(ie!==Br)return ie}O=rc(y),y=y[15]}h=O}return f}(i,s,a,u,Br);if(y!==Br)return y}const h=xi(i,s,a,u,Br);if(h!==Br)return h}return $a(s,a,u,f)}function xi(i,s,a,u,f){const h=function nc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ss)?i[ss]:void 0;return"number"==typeof s?s>=0?255&s:Mh:s}(a);if("function"==typeof h){if(!Rd(s,i,u))return u&et.Host?tc(f,0,u):$a(s,a,u,f);try{const y=h(u);if(null!=y||u&et.Optional)return y;H()}finally{Zu()}}else if("number"==typeof h){let y=null,T=Gl(i,s),O=-1,$=u&et.Host?s[16][6]:null;for((-1===T||u&et.SkipSelf)&&(O=-1===T?ja(i,s):s[T+8],-1!==O&&li(u,!1)?(y=s[1],T=Is(O),s=Vo(O,s)):T=-1);-1!==T;){const ie=s[1];if(Wl(h,T,ie.data)){const pe=Fd(T,s,a,y,u,$);if(pe!==Br)return pe}O=s[T+8],-1!==O&&li(u,s[1].data[T+8]===$)&&Wl(h,T,s)?(y=ie,T=Is(O),s=Vo(O,s)):T=-1}}return f}function Fd(i,s,a,u,f,h){const y=s[1],T=y.data[i+8],ie=Bo(T,y,a,null==u?qs(T)&&Ts:u!=y&&0!=(3&T.type),f&et.Host&&h===T);return null!==ie?ji(s,y,ie,T):Br}function Bo(i,s,a,u,f){const h=i.providerIndexes,y=s.data,T=1048575&h,O=i.directiveStart,ie=h>>20,Te=f?T+ie:i.directiveEnd;for(let Re=u?T:T+ie;Re<Te;Re++){const He=y[Re];if(Re<O&&a===He||Re>=O&&He.type===a)return Re}if(f){const Re=y[O];if(Re&&Jn(Re)&&Re.type===a)return O}return null}function ji(i,s,a,u){let f=i[a];const h=s.data;if(function Sr(i){return i instanceof La}(f)){const y=f;y.resolving&&function Y(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new w(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Z(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}(h[a]));const T=vo(y.canSeeViewProviders);y.resolving=!0;const O=y.injectImpl?pn(y.injectImpl):null;Rd(i,u,et.Default);try{f=i[a]=y.factory(void 0,h,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Ju(i,s,a){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:h}=s.type.prototype;if(u){const y=ps(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}f&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,f),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==O&&pn(O),vo(T),y.resolving=!1,Zu()}}return f}function Wl(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function li(i,s){return!(i&et.Self||i&et.Host&&s)}class ro{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return qa(this._tNode,this._lView,s,Ot(u),a)}}function Mh(){return new ro(er(),Be())}function Kl(i){return $e(()=>{const s=i.prototype.constructor,a=s[Ir]||Cs(s),u=Object.prototype;let f=Object.getPrototypeOf(i.prototype).constructor;for(;f&&f!==u;){const h=f[Ir]||Cs(f);if(h&&h!==a)return h;f=Object.getPrototypeOf(f)}return h=>new h})}function Cs(i){return R(i)?()=>{const s=Cs(D(i));return s&&s()}:No(i)}function rc(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function ic(i){return function Ha(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let f=0;for(;f<u;){const h=a[f];if(Bi(h))break;if(0===h)f+=2;else if("number"==typeof h)for(f++;f<u&&"string"==typeof a[f];)f++;else{if(h===s)return a[f+1];f+=2}}}return null}(er(),i)}const Ga="__parameters__";function ta(i,s,a){return $e(()=>{const u=function sc(i){return function(...a){if(i){const u=i(...a);for(const f in u)this[f]=u[f]}}}(s);function f(...h){if(this instanceof f)return u.apply(this,h),this;const y=new f(...h);return T.annotation=y,T;function T(O,$,ie){const pe=O.hasOwnProperty(Ga)?O[Ga]:Object.defineProperty(O,Ga,{value:[]})[Ga];for(;pe.length<=ie;)pe.push(null);return(pe[ie]=pe[ie]||[]).push(y),O}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}class gn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Oe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(i,s){i.forEach(a=>Array.isArray(a)?xs(a,s):s(a))}function uc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Zl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ho(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function cr(i,s,a){let u=dn(i,s);return u>=0?i[1|u]=a:(u=~u,function cc(i,s,a,u){let f=i.length;if(f==s)i.push(a,u);else if(1===f)i.push(u,i[0]),i[0]=a;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Ka(i,s){const a=dn(i,s);if(a>=0)return i[1|a]}function dn(i,s){return function Et(i,s,a){let u=0,f=i.length>>a;for(;f!==u;){const h=u+(f-u>>1),y=i[h<<a];if(s===y)return h<<a;y>s?f=h:u=h+1}return~(f<<a)}(i,s,1)}const Hr=ln(ta("Optional"),8),$r=ln(ta("SkipSelf"),4);var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();const Kd=new Map;let Zd=0;const Jd="__ngContext__";function Ar(i,s){si(s)?(i[Jd]=s[20],function Yd(i){Kd.set(i[20],i)}(s)):i[Jd]=s}function ze(i,s){return undefined(i,s)}function _t(i){const s=i[3];return ai(s)?s[3]:s}function Gr(i){return Ns(i[13])}function so(i){return Ns(i[4])}function Ns(i){for(;null!==i&&!ai(i);)i=i[4];return i}function oa(i,s,a,u,f){if(null!=u){let h,y=!1;ai(u)?h=u:si(u)&&(y=!0,u=u[0]);const T=Ln(u);0===i&&null!==a?null==f?O_(s,a,T):mc(s,a,T,f||null,!0):1===i&&null!==a?mc(s,a,T,f||null,!0):2===i?function il(i,s,a){const u=nl(i,s);u&&function Jw(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}(s,T,y):3===i&&s.destroyNode(T),null!=h&&function P_(i,s,a,u,f){const h=a[7];h!==Ln(a)&&oa(s,i,u,h,f);for(let T=10;T<a.length;T++){const O=a[T];ru(O[1],O,i,s,u,h)}}(s,i,h,a,f)}}function el(i,s,a){return i.createElement(s,a)}function Uh(i,s){const a=i[9],u=a.indexOf(s),f=s[3];512&s[2]&&(s[2]&=-513,Lo(f,-1)),a.splice(u,1)}function dm(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const f=u[17];null!==f&&f!==i&&Uh(f,u),s>0&&(i[a-1][4]=u[4]);const h=Zl(i,10+s);!function Fh(i,s){ru(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function x_(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&ru(i,s,a,3,null,null),function nu(i){let s=i[13];if(!s)return rf(i[1],i);for(;s;){let a=null;if(si(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)si(s)&&rf(s[1],s),s=s[3];null===s&&(s=i),si(s)&&rf(s[1],s),a=s&&s[4]}s=a}}(s)}}function rf(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Qw(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const f=s[a[u]];if(!(f instanceof La)){const h=a[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const T=f[h[y]],O=h[y+1];try{O.call(T)}finally{}}else try{h.call(f)}finally{}}}}(i,s),function Bh(i,s){const a=i.cleanup,u=s[7];let f=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+3];y>=0?u[f=y]():u[f=-y].unsubscribe(),h+=2}else{const y=u[f=a[h+1]];a[h].call(y)}if(null!==u){for(let h=f+1;h<u.length;h++)(0,u[h])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&ai(s[3])){a!==s[3]&&Uh(a,s);const u=s[19];null!==u&&u.detachView(i)}!function pc(i){Kd.delete(i[20])}(s)}}function tl(i,s,a){return function jh(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:h}=i.data[u.directiveStart+f];if(h===on.None||h===on.Emulated)return null}return ur(u,a)}}(i,s.parent,a)}function mc(i,s,a,u,f){i.insertBefore(s,a,u,f)}function O_(i,s,a){i.appendChild(s,a)}function M_(i,s,a,u,f){null!==u?mc(i,s,a,u,f):O_(i,s,a)}function nl(i,s){return i.parentNode(s)}function fm(i,s,a){return pm(i,s,a)}let iu,ym,zh,pm=function hm(i,s,a){return 40&i.type?ur(i,a):null};function $h(i,s,a,u){const f=tl(i,u,s),h=s[11],T=fm(u.parent||s[6],u,s);if(null!=f)if(Array.isArray(a))for(let O=0;O<a.length;O++)M_(h,f,a[O],T,!1);else M_(h,f,a,T,!1)}function sf(i,s){if(null!==s){const a=s.type;if(3&a)return ur(s,i);if(4&a)return af(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return sf(i,u);{const f=i[s.index];return ai(f)?af(-1,f):Ln(f)}}if(32&a)return ze(s,i)()||Ln(i[s.index]);{const u=R_(i,s);return null!==u?Array.isArray(u)?u[0]:sf(_t(i[16]),u):sf(i,s.next)}}return null}function R_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function af(i,s){const a=10+i+1;if(a<s.length){const u=s[a],f=u[1].firstChild;if(null!==f)return sf(u,f)}return s[7]}function gm(i,s,a,u,f,h,y){for(;null!=a;){const T=u[a.index],O=a.type;if(y&&0===s&&(T&&Ar(Ln(T),u),a.flags|=2),32!=(32&a.flags))if(8&O)gm(i,s,a.child,u,f,h,!1),oa(s,i,f,T,h);else if(32&O){const $=ze(a,u);let ie;for(;ie=$();)oa(s,i,f,ie,h);oa(s,i,f,T,h)}else 16&O?mm(i,s,u,a,f,h):oa(s,i,f,T,h);a=y?a.projectionNext:a.next}}function ru(i,s,a,u,f,h){gm(a,u,i.firstChild,s,f,h,!1)}function mm(i,s,a,u,f,h){const y=a[16],O=y[6].projection[u.projection];if(Array.isArray(O))for(let $=0;$<O.length;$++)oa(s,i,f,O[$],h);else gm(i,s,O,y[3],f,h,!0)}function qh(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function ol(i,s,a){const{mergedAttrs:u,classes:f,styles:h}=a;null!==u&&Fa(i,s,u),null!==f&&qh(i,s,f),null!==h&&function Rs(i,s,a){i.setAttribute(s,"style",a)}(i,s,h)}function sl(i){return function Gh(){if(void 0===iu&&(iu=null,Vt.trustedTypes))try{iu=Vt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return iu}()?.createHTML(i)||i}function rI(i){ym=i}function vm(){if(void 0===zh&&(zh=null,Vt.trustedTypes))try{zh=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return zh}function L_(i){return vm()?.createHTML(i)||i}function _m(i){return vm()?.createScriptURL(i)||i}class V_{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${V})`}}function Ps(i){return i instanceof V_?i.changingThisBreaksApplicationSecurity:i}function ou(i,s){const a=function aa(i){return i instanceof V_&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${V})`)}return a===s}class lI{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(sl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Wh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=sl(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=sl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let f=a.length-1;0<f;f--){const y=a.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Em=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Kh(i){return(i=String(i)).match(Em)?i:"unsafe:"+i}function Zo(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function su(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const j_=Zo("area,br,col,hr,img,wbr"),_c=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),H_=Zo("rp,rt"),Zh=su(j_,su(_c,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),su(H_,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),su(H_,_c)),Yh=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bc=su(Yh,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Zo("script,style,template");class wm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=this.checkClobberedElement(a,a.nextSibling);if(f){a=f;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Zh.hasOwnProperty(a))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let f=0;f<u.length;f++){const h=u.item(f),y=h.name,T=y.toLowerCase();if(!bc.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=h.value;Yh[T]&&(O=Kh(O)),this.buf.push(" ",y,'="',Jh(O),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Zh.hasOwnProperty(a)&&!j_.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Jh(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const dI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fI=/([^\#-~ |!])/g;function Jh(i){return i.replace(/&/g,"&amp;").replace(dI,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(fI,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cf;function q_(i){return"content"in i&&function v1(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function Xh(i){const s=al();return s?L_(s.sanitize(xr.HTML,i)||""):ou(i,"HTML")?L_(Ps(i)):function y1(i,s){let a=null;try{cf=cf||function bm(i){const s=new Wh(i);return function B_(){try{return!!(new window.DOMParser).parseFromString(sl(""),"text/html")}catch{return!1}}()?new lI(s):s}(i);let u=s?String(s):"";a=cf.getInertBodyElement(u);let f=5,h=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=h,h=a.innerHTML,a=cf.getInertBodyElement(u)}while(u!==h);return sl((new wm).sanitizeChildren(q_(a)||a))}finally{if(a){const u=q_(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(function k_(){return void 0!==ym?ym:typeof document<"u"?document:void 0}(),X(i))}function G_(i){const s=al();return s?s.sanitize(xr.URL,i)||"":ou(i,"URL")?Ps(i):Kh(X(i))}function z_(i){const s=al();if(s)return _m(s.sanitize(xr.RESOURCE_URL,i)||"");if(ou(i,"ResourceURL"))return _m(Ps(i));throw new w(904,!1)}function K_(i,s,a){return function df(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?z_:G_}(s,a)(i)}function al(){const i=Be();return i&&i[12]}const Tm=new gn("ENVIRONMENT_INITIALIZER"),Z_=new gn("INJECTOR",-1),au=new gn("INJECTOR_DEF_TYPES");class Ec{get(s,a=wr){if(a===wr){const u=new Error(`NullInjectorError: No provider for ${A(s)}!`);throw u.name="NullInjectorError",u}return a}}function gI(i){return{\u0275providers:i}}function mI(...i){return{\u0275providers:wc(0,i),\u0275fromNgModule:!0}}function wc(i,...s){const a=[],u=new Set;let f;return xs(s,h=>{const y=h;Dm(y,a,[],u)&&(f||(f=[]),f.push(y))}),void 0!==f&&Ic(f,a),a}function Ic(i,s){for(let a=0;a<i.length;a++){const{providers:f}=i[a];Cm(f,h=>{s.push(h)})}}function Dm(i,s,a,u){if(!(i=D(i)))return!1;let f=null,h=Ve(i);const y=!h&&cn(i);if(h||y){if(y&&!y.standalone)return!1;f=i}else{const O=i.ngModule;if(h=Ve(O),!h)return!1;f=O}const T=u.has(f);if(y){if(T)return!1;if(u.add(f),y.dependencies){const O="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const $ of O)Dm($,s,a,u)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let $;u.add(f);try{xs(h.imports,ie=>{Dm(ie,s,a,u)&&($||($=[]),$.push(ie))})}finally{}void 0!==$&&Ic($,s)}if(!T){const $=No(f)||(()=>new f);s.push({provide:f,useFactory:$,deps:Pt},{provide:au,useValue:f,multi:!0},{provide:Tm,useValue:()=>it(f),multi:!0})}const O=h.providers;null==O||T||Cm(O,ie=>{s.push(ie)})}}return f!==i&&void 0!==i.providers}function Cm(i,s){for(let a of i)S(a)&&(a=a.\u0275providers),Array.isArray(a)?Cm(a,s):s(a)}const yI=j({provide:String,useValue:j});function Sm(i){return null!==i&&"object"==typeof i&&yI in i}function lu(i){return"function"==typeof i}const Tc=new gn("Set Injector scope."),la={},_I={};let xm;function ep(){return void 0===xm&&(xm=new Ec),xm}class uu{}class Q_ extends uu{get destroyed(){return this._destroyed}constructor(s,a,u,f){super(),this.parent=a,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ff(s,y=>this.processProvider(y)),this.records.set(Z_,cu(void 0,this)),f.has("environment")&&this.records.set(uu,cu(void 0,this));const h=this.records.get(Tc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(au.multi,Pt,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=ti(this),u=pn(void 0);try{return s()}finally{ti(a),pn(u)}}get(s,a=wr,u=et.Default){this.assertNotDestroyed(),u=Ot(u);const f=ti(this),h=pn(void 0);try{if(!(u&et.SkipSelf)){let T=this.records.get(s);if(void 0===T){const O=function X_(i){return"function"==typeof i||"object"==typeof i&&i instanceof gn}(s)&&pt(s);T=O&&this.injectableDefInScope(O)?cu(Om(s),la):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&et.Self?ep():this.parent).get(s,a=u&et.Optional&&a===wr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Di]=y[Di]||[]).unshift(A(s)),f)throw y;return function ve(i,s,a,u){const f=i[Di];throw s[xo]&&f.unshift(s[xo]),i.message=function De(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=A(s);if(Array.isArray(s))f=s.map(A).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let T=s[y];h.push(y+":"+("string"==typeof T?JSON.stringify(T):A(T)))}f=`{${h.join(", ")}}`}return`${a}${u?"("+u+")":""}[${f}]: ${i.replace(fo,"\n  ")}`}("\n"+i.message,f,a,u),i.ngTokenPath=f,i[Di]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{pn(h),ti(f)}}resolveInjectorInitializers(){const s=ti(this),a=pn(void 0);try{const u=this.get(Tm.multi,Pt,et.Self);for(const f of u)f()}finally{ti(s),pn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(A(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(s){let a=lu(s=D(s))?s:D(s&&s.provide);const u=function EI(i){return Sm(i)?cu(void 0,i.useValue):cu(J_(i),la)}(s);if(lu(s)||!0!==s.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=cu(void 0,la,!0),f.factory=()=>Ht(f.multi),this.records.set(a,f)),a=s,f.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===la&&(a.value=_I,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Mm(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=D(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Om(i){const s=pt(i),a=null!==s?s.factory:No(i);if(null!==a)return a;if(i instanceof gn)throw new w(204,!1);if(i instanceof Function)return function bI(i){const s=i.length;if(s>0)throw Ho(s,"?"),new w(204,!1);const a=function Tn(i){const s=i&&(i[je]||i[Xe]);if(s){const a=function In(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new w(204,!1)}function J_(i,s,a){let u;if(lu(i)){const f=D(i);return No(f)||Om(f)}if(Sm(i))u=()=>D(i.useValue);else if(function vI(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Ht(i.deps||[]));else if(function Y_(i){return!(!i||!i.useExisting)}(i))u=()=>it(D(i.useExisting));else{const f=D(i&&(i.useClass||i.provide));if(!function wI(i){return!!i.deps}(i))return No(f)||Om(f);u=()=>new f(...Ht(i.deps))}return u}function cu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function ff(i,s){for(const a of i)Array.isArray(a)?ff(a,s):a&&S(a)?ff(a.\u0275providers,s):s(a)}class tp{}class e0{}class np{resolveComponentFactory(s){throw function II(i){const s=Error(`No component factory found for ${A(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Dc=(()=>{class i{}return i.NULL=new np,i})();function n0(){return ua(er(),Be())}function ua(i,s){return new ll(ur(i,s))}let ll=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=n0,i})();function r0(i){return i instanceof ll?i.nativeElement:i}class Cc{}let o0=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function TI(){const i=Be(),a=Xn(er().index,i);return(si(a)?a:i)[11]}(),i})(),DI=(()=>{class i{}return i.\u0275prov=Oe({token:i,providedIn:"root",factory:()=>null}),i})();class s0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const a0=new s0("15.1.5"),Nm={};function Rm(i){return i.ngOriginalError}class hf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Rm(s);for(;a&&Rm(a);)a=Rm(a);return a||null}}function ul(i){return i instanceof Function?i():i}function h0(i,s,a){let u=i.length;for(;;){const f=i.indexOf(s,a);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const h=s.length;if(f+h===u||i.charCodeAt(f+h)<=32)return f}a=f+1}}const p0="ng-template";function g0(i,s,a){let u=0;for(;u<i.length;){let f=i[u++];if(a&&"class"===f){if(f=i[u],-1!==h0(f.toLowerCase(),s,0))return!0}else if(1===f){for(;u<i.length&&"string"==typeof(f=i[u++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function ip(i){return 4===i.type&&i.value!==p0}function NI(i,s,a){return s===(4!==i.type||a?i.value:p0)}function m0(i,s,a){let u=4;const f=i.attrs||[],h=function op(i){for(let s=0;s<i.length;s++)if(Bi(i[s]))return s;return i.length}(f);let y=!1;for(let T=0;T<s.length;T++){const O=s[T];if("number"!=typeof O){if(!y)if(4&u){if(u=2|1&u,""!==O&&!NI(i,O,a)||""===O&&1===s.length){if(_i(u))return!1;y=!0}}else{const $=8&u?O:s[++T];if(8&u&&null!==i.attrs){if(!g0(i.attrs,$,a)){if(_i(u))return!1;y=!0}continue}const pe=Pm(8&u?"class":O,f,ip(i),a);if(-1===pe){if(_i(u))return!1;y=!0;continue}if(""!==$){let Te;Te=pe>h?"":f[pe+1].toLowerCase();const Re=8&u?Te:null;if(Re&&-1!==h0(Re,$,0)||2&u&&$!==Te){if(_i(u))return!1;y=!0}}}}else{if(!y&&!_i(u)&&!_i(O))return!1;if(y&&_i(O))continue;y=!1,u=O|1&u}}return _i(u)||y}function _i(i){return 0==(1&i)}function Pm(i,s,a,u){if(null===s)return-1;let f=0;if(u||!a){let h=!1;for(;f<s.length;){const y=s[f];if(y===i)return f;if(3===y||6===y)h=!0;else{if(1===y||2===y){let T=s[++f];for(;"string"==typeof T;)T=s[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=h?1:2}return-1}return function sp(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function y0(i,s,a=!1){for(let u=0;u<s.length;u++)if(m0(i,s[u],a))return!0;return!1}function _0(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let f=0;f<i.length;f++)if(i[f]!==u[f])continue e;return!0}}return!1}function km(i,s){return i?":not("+s.trim()+")":s}function RI(i){let s=i[0],a=1,u=2,f="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const T=i[++a];f+="["+y+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!_i(y)&&(s+=km(h,f),f=""),u=y,h=h||!_i(u);a++}return""!==f&&(s+=km(h,f)),s}const Zt={};function b0(i){pf(sn(),Be(),Ur()+i,!1)}function pf(i,s,a,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Xs(s,h,a)}else{const h=i.preOrderHooks;null!==h&&Fo(s,h,0,a)}eo(a)}function ca(i,s=null,a=null,u){const f=D0(i,s,a,u);return f.resolveInjectorInitializers(),f}function D0(i,s=null,a=null,u,f=new Set){const h=[a||Pt,mI(i)];return u=u||("object"==typeof i?void 0:A(i)),new Q_(h,s||ep(),u||null,f)}let fu=(()=>{class i{static create(a,u){if(Array.isArray(a))return ca({name:""},u,a,"");{const f=a.name??"";return ca({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=wr,i.NULL=new Ec,i.\u0275prov=Oe({token:i,providedIn:"any",factory:()=>it(Z_)}),i.__NG_ELEMENT_ID__=-1,i})();function Oc(i,s=et.Default){const a=Be();return null===a?it(i,s):qa(er(),a,D(i),s)}function R0(){throw new Error("invalid")}function P0(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u+1];if(-1!==h){const y=i.data[h];Bl(a[u]),y.contentQueries(2,s[h],h)}}}function Um(i,s,a,u,f,h,y,T,O,$,ie){const pe=s.blueprint.slice();return pe[0]=f,pe[2]=76|u,(null!==ie||i&&1024&i[2])&&(pe[2]|=1024),Ll(pe),pe[3]=pe[15]=i,pe[8]=a,pe[10]=y||i&&i[10],pe[11]=T||i&&i[11],pe[12]=O||i&&i[12]||null,pe[9]=$||i&&i[9]||null,pe[6]=h,pe[20]=function wo(){return Zd++}(),pe[21]=ie,pe[16]=2==s.type?i[16]:pe,pe}function Mc(i,s,a,u,f){let h=i.data[s];if(null===h)h=function Nc(i,s,a,u,f){const h=Vl(),y=vs(),O=i.data[s]=function QI(i,s,a,u,f,h){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,u,f);return null===i.firstChild&&(i.firstChild=O),null!==h&&(y?null==h.child&&null!==O.parent&&(h.child=O):null===h.next&&(h.next=O)),O}(i,s,a,u,f),function Wu(){return $t.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=u,h.attrs=f;const y=function ys(){const i=$t.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Si(h,!0),h}function yf(i,s,a,u){if(0===a)return-1;const f=s.length;for(let h=0;h<a;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return f}function Bm(i,s,a){ka(s);try{const u=i.viewQuery;null!==u&&Lc(1,u,a);const f=i.template;null!==f&&jm(i,s,f,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&P0(i,s),i.staticViewQueries&&Lc(2,i.viewQuery,a);const h=i.components;null!==h&&function ZI(i,s){for(let a=0;a<s.length;a++)iT(i,s[a])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Ah()}}function up(i,s,a,u){const f=s[2];if(128!=(128&f)){ka(s);try{Ll(s),function bs(i){return $t.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&jm(i,s,a,2,u);const y=3==(3&f);if(y){const $=i.preOrderCheckHooks;null!==$&&Xs(s,$,null)}else{const $=i.preOrderHooks;null!==$&&Fo(s,$,0,null),mo(s,0)}if(function H0(i){for(let s=Gr(i);null!==s;s=so(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const f=a[u];512&f[2]||Lo(f[3],1),f[2]|=512}}}(s),function nT(i){for(let s=Gr(i);null!==s;s=so(s))for(let a=10;a<s.length;a++){const u=s[a],f=u[1];ko(u)&&up(f,u,f.template,u[8])}}(s),null!==i.contentQueries&&P0(i,s),y){const $=i.contentCheckHooks;null!==$&&Xs(s,$)}else{const $=i.contentHooks;null!==$&&Fo(s,$,1),mo(s,1)}!function KI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const f=a[u];if(f<0)eo(~f);else{const h=f,y=a[++u],T=a[++u];Ul(y,h),T(2,s[h])}}}finally{eo(-1)}}(i,s);const T=i.components;null!==T&&function k0(i,s){for(let a=0;a<s.length;a++)rT(i,s[a])}(s,T);const O=i.viewQuery;if(null!==O&&Lc(2,O,u),y){const $=i.viewCheckHooks;null!==$&&Xs(s,$)}else{const $=i.viewHooks;null!==$&&Fo(s,$,2),mo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Lo(s[3],-1))}finally{Ah()}}}function jm(i,s,a,u,f){const h=Ur(),y=2&u;try{eo(-1),y&&s.length>22&&pf(i,s,22,!1),a(u,f)}finally{eo(h)}}function cp(i,s,a){if(Yi(s)){const f=s.directiveEnd;for(let h=s.directiveStart;h<f;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}function vf(i,s,a){qu()&&(function P1(i,s,a,u){const f=a.directiveStart,h=a.directiveEnd;qs(a)&&function ui(i,s,a){const u=ur(s,i),f=cl(a),h=i[10],y=zr(i,Um(i,f,null,a.onPush?32:16,u,s,h,h.createRenderer(u,a),null,null,null));i[s.index]=y}(s,a,i.data[f+a.componentOffset]),i.firstCreatePass||no(a,s),Ar(u,s);const y=a.initialInputs;for(let T=f;T<h;T++){const O=i.data[T],$=ji(s,i,T,a);Ar($,s),null!==y&&Gm(0,T-f,$,O,0,y),Jn(O)&&(Xn(a.index,s)[8]=ji(s,i,T,a))}}(i,s,a,ur(a,s)),64==(64&a.flags)&&gt(i,s,a))}function An(i,s,a=ur){const u=s.localNames;if(null!==u){let f=s.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],T=-1===y?a(s,i):i[y];i[f++]=T}}}function cl(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ks(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ks(i,s,a,u,f,h,y,T,O,$){const ie=22+u,pe=ie+f,Te=function Rc(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Zt);return a}(ie,pe),Re="function"==typeof $?$():$;return Te[1]={type:i,blueprint:Te,template:a,queries:null,viewQuery:T,declTNode:s,data:Te.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:O,consts:Re,incompleteFirstPass:!1}}function YI(i,s,a,u){const f=fp(s);null===a?f.push(u):(f.push(a),i.firstCreatePass&&G0(i).push(u,f.length-1))}function dp(i,s,a,u){for(let f in i)if(i.hasOwnProperty(f)){a=null===a?{}:a;const h=i[f];null===u?L0(a,s,f,h):u.hasOwnProperty(f)&&L0(a,s,u[f],h)}return a}function L0(i,s,a,u){i.hasOwnProperty(a)?i[a].push(s,u):i[a]=[s,u]}function F0(i,s){const a=Xn(s,i);16&a[2]||(a[2]|=32)}function V0(i,s,a,u){let f=!1;if(qu()){const h=null===u?null:{"":-1},y=function $m(i,s){const a=i.directiveRegistry;let u=null,f=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];if(y0(s,y.selectors,!1))if(u||(u=[]),Jn(y))if(null!==y.findHostDirectiveDefs){const T=[];f=f||new Map,y.findHostDirectiveDefs(y,T,f),u.unshift(...T,y),_r(i,s,T.length)}else u.unshift(y),_r(i,s,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(i,a);let T,O;null===y?T=O=null:[T,O]=y,null!==T&&(f=!0,U0(i,s,a,T,h,O)),h&&function hu(i,s,a){if(s){const u=i.localNames=[];for(let f=0;f<s.length;f+=2){const h=a[s[f+1]];if(null==h)throw new w(-301,!1);u.push(s[f],h)}}}(a,u,h)}return a.mergedAttrs=Ai(a.mergedAttrs,a.attrs),f}function U0(i,s,a,u,f,h){for(let $=0;$<u.length;$++)zl(no(a,s),i,u[$].type);!function B0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,u.length);for(let $=0;$<u.length;$++){const ie=u[$];ie.providersResolver&&ie.providersResolver(ie)}let y=!1,T=!1,O=yf(i,s,u.length,null);for(let $=0;$<u.length;$++){const ie=u[$];a.mergedAttrs=Ai(a.mergedAttrs,ie.hostAttrs),eT(i,a,s,O,ie),qm(O,ie,f),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const pe=ie.type.prototype;!y&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!T&&(pe.ngOnChanges||pe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),T=!0),O++}!function JI(i,s,a){const f=s.directiveEnd,h=i.data,y=s.attrs,T=[];let O=null,$=null;for(let ie=s.directiveStart;ie<f;ie++){const pe=h[ie],Te=a?a.get(pe):null,He=Te?Te.outputs:null;O=dp(pe.inputs,ie,O,Te?Te.inputs:null),$=dp(pe.outputs,ie,$,He);const Je=null===O||null===y||ip(s)?null:tT(O,ie,y);T.push(Je)}null!==O&&(O.hasOwnProperty("class")&&(s.flags|=8),O.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=T,s.inputs=O,s.outputs=$}(i,a,h)}function gt(i,s,a){const u=a.directiveStart,f=a.directiveEnd,h=a.index,y=function Md(){return $t.lFrame.currentDirectiveIndex}();try{eo(h);for(let T=u;T<f;T++){const O=i.data[T],$=s[T];go(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&da(O,$)}}finally{eo(-1),go(y)}}function da(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function _r(i,s,a){s.componentOffset=a,(i.components||(i.components=[])).push(s.index)}function qm(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Jn(s)&&(a[""]=i)}}function eT(i,s,a,u,f){i.data[u]=f;const h=f.factory||(f.factory=No(f.type)),y=new La(h,Jn(f),Oc);i.blueprint[u]=y,a[u]=y,function N1(i,s,a,u,f){const h=f.hostBindings;if(h){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const T=~s.index;(function R1(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=T&&y.push(T),y.push(a,u,h)}}(i,s,u,yf(i,a,f.hostVars,Zt),f)}function Ls(i,s,a,u,f,h){const y=ur(i,s);!function Pc(i,s,a,u,f,h,y){if(null==h)i.removeAttribute(s,f,a);else{const T=null==y?X(h):y(h,u||"",f);i.setAttribute(s,f,T,a)}}(s[11],y,h,i.value,a,u,f)}function Gm(i,s,a,u,f,h){const y=h[s];if(null!==y){const T=u.setInput;for(let O=0;O<y.length;){const $=y[O++],ie=y[O++],pe=y[O++];null!==T?u.setInput(a,pe,$,ie):a[ie]=pe}}}function tT(i,s,a){let u=null,f=0;for(;f<a.length;){const h=a[f];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===u&&(u=[]);const y=i[h];for(let T=0;T<y.length;T+=2)if(y[T]===s){u.push(h,y[T+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function j0(i,s,a,u){return[i,!0,!1,s,null,0,u,a,null,null]}function rT(i,s){const a=Xn(s,i);if(ko(a)){const u=a[1];48&a[2]?up(u,a,u.template,a[8]):a[5]>0&&zm(a)}}function zm(i){for(let u=Gr(i);null!==u;u=so(u))for(let f=10;f<u.length;f++){const h=u[f];if(ko(h))if(512&h[2]){const y=h[1];up(y,h,y.template,h[8])}else h[5]>0&&zm(h)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const f=Xn(a[u],i);ko(f)&&f[5]>0&&zm(f)}}function iT(i,s){const a=Xn(s,i),u=a[1];(function oT(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Bm(u,a,a[8])}function zr(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function kc(i){for(;i;){i[2]|=32;const s=_t(i);if(bh(i)&&!s)return i;i=s}return null}function _f(i,s,a,u=!0){const f=s[10];f.begin&&f.begin();try{up(i,s,i.template,a)}catch(y){throw u&&W0(s,y),y}finally{f.end&&f.end()}}function Lc(i,s,a){Bl(0),s(i,a)}function fp(i){return i[7]||(i[7]=[])}function G0(i){return i.cleanup||(i.cleanup=[])}function W0(i,s){const a=i[9],u=a?a.get(hf,null):null;u&&u.handleError(s)}function Wm(i,s,a,u,f){for(let h=0;h<a.length;){const y=a[h++],T=a[h++],O=s[y],$=i.data[y];null!==$.setInput?$.setInput(O,f,u,T):O[T]=f}}function dl(i,s,a){let u=a?i.styles:null,f=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const T=s[y];"number"==typeof T?h=T:1==h?f=I(f,T):2==h&&(u=I(u,T+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=f:i.classesWithoutHost=f}function bf(i,s,a,u,f=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&u.push(Ln(h)),ai(h))for(let T=10;T<h.length;T++){const O=h[T],$=O[1].firstChild;null!==$&&bf(O[1],O,$,u)}const y=a.type;if(8&y)bf(i,s,a.child,u);else if(32&y){const T=ze(a,s);let O;for(;O=T();)u.push(O)}else if(16&y){const T=R_(s,a);if(Array.isArray(T))u.push(...T);else{const O=_t(s[16]);bf(O[1],O,T,u,!0)}}a=f?a.projectionNext:a.next}return u}class fl{get rootNodes(){const s=this._lView,a=s[1];return bf(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ai(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(dm(s,u),Zl(a,u))}this._attachedToViewContainer=!1}x_(this._lView[1],this._lView)}onDestroy(s){YI(this._lView[1],this._lView,null,s)}markForCheck(){kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_f(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tf(i,s){ru(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=s}}class K0 extends fl{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;_f(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Z0 extends Dc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=cn(s);return new Fc(a,this.ngModule)}}function Y0(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class aT{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=Ot(u);const f=this.injector.get(s,Nm,u);return f!==Nm||a===Nm?f:this.parentInjector.get(s,a,u)}}class Fc extends e0{get inputs(){return Y0(this.componentDef.inputs)}get outputs(){return Y0(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function PI(i){return i.map(RI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,f){let h=(f=f||this.ngModule)instanceof uu?f:f?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new aT(s,h):s,T=y.get(Cc,null);if(null===T)throw new w(407,!1);const O=y.get(DI,null),$=T.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",pe=u?function Hm(i,s,a){return i.selectRootElement(s,a===on.ShadowDom)}($,u,this.componentDef.encapsulation):el($,ie,function sT(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ie)),Te=this.componentDef.onPush?288:272,Re=ks(0,null,null,1,0,null,null,null,null,null),He=Um(null,Re,null,Te,null,null,T,$,O,y,null);let Je,st;ka(He);try{const vt=this.componentDef;let Ft,Ke=null;vt.findHostDirectiveDefs?(Ft=[],Ke=new Map,vt.findHostDirectiveDefs(vt,Ft,Ke),Ft.push(vt)):Ft=[vt];const qt=function Zm(i,s){const a=i[1];return i[22]=s,Mc(a,22,2,"#host",null)}(He,pe),fn=function Q0(i,s,a,u,f,h,y,T){const O=f[1];!function Ef(i,s,a,u){for(const f of i)s.mergedAttrs=Ai(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(dl(s,s.mergedAttrs,!0),null!==a&&ol(u,a,s))}(u,i,s,y);const $=h.createRenderer(s,a),ie=Um(f,cl(a),null,a.onPush?32:16,f[i.index],i,h,$,T||null,null,null);return O.firstCreatePass&&_r(O,i,u.length-1),zr(f,ie),f[i.index]=ie}(qt,pe,vt,Ft,He,T,$);st=Na(Re,22),pe&&function Ym(i,s,a,u){if(u)Fa(i,a,["ng-version",a0.full]);else{const{attrs:f,classes:h}=function kI(i){const s=[],a=[];let u=1,f=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===f?""!==h&&s.push(h,i[++u]):8===f&&a.push(h);else{if(!_i(f))break;f=h}u++}return{attrs:s,classes:a}}(s.selectors[0]);f&&Fa(i,a,f),h&&h.length>0&&qh(i,a,h.join(" "))}}($,vt,pe,u),void 0!==a&&function Qm(i,s,a){const u=i.projection=[];for(let f=0;f<s.length;f++){const h=a[f];u.push(null!=h?Array.from(h):null)}}(st,this.ngContentSelectors,a),Je=function uT(i,s,a,u,f,h){const y=er(),T=f[1],O=ur(y,f);U0(T,f,y,a,null,u);for(let ie=0;ie<a.length;ie++)Ar(ji(f,T,y.directiveStart+ie,y),f);gt(T,f,y),O&&Ar(O,f);const $=ji(f,T,y.directiveStart+y.componentOffset,y);if(i[8]=f[8]=$,null!==h)for(const ie of h)ie($,s);return cp(T,y,i),$}(fn,vt,Ft,Ke,He,[cT]),Bm(Re,He,null)}finally{Ah()}return new Km(this.componentType,Je,ua(st,He),He,st)}}class Km extends tp{constructor(s,a,u,f,h){super(),this.location=u,this._rootLView=f,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new K0(f),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[s])){const h=this._rootLView;Wm(h[1],h,f,s,a),F0(h,this._tNode.index)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function cT(){const i=er();Js(Be()[1],i)}function pp(i){let s=function hp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let f;if(Jn(i))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new w(903,!1);f=s.\u0275dir}if(f){if(a){u.push(f);const y=i;y.inputs=wf(i.inputs),y.declaredInputs=wf(i.declaredInputs),y.outputs=wf(i.outputs);const T=f.hostBindings;T&&hT(i,T);const O=f.viewQuery,$=f.contentQueries;if(O&&dT(i,O),$&&fT(i,$),U(i.inputs,f.inputs),U(i.declaredInputs,f.declaredInputs),U(i.outputs,f.outputs),Jn(f)&&f.data.animation){const ie=i.data;ie.animation=(ie.animation||[]).concat(f.data.animation)}}const h=f.features;if(h)for(let y=0;y<h.length;y++){const T=h[y];T&&T.ngInherit&&T(i),T===pp&&(a=!1)}}s=Object.getPrototypeOf(s)}!function J0(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const f=i[u];f.hostVars=s+=f.hostVars,f.hostAttrs=Ai(f.hostAttrs,a=Ai(a,f.hostAttrs))}}(u)}function wf(i){return i===Mn?{}:i===Pt?[]:i}function dT(i,s){const a=i.viewQuery;i.viewQuery=a?(u,f)=>{s(u,f),a(u,f)}:s}function fT(i,s){const a=i.contentQueries;i.contentQueries=a?(u,f,h)=>{s(u,f,h),a(u,f,h)}:s}function hT(i,s){const a=i.hostBindings;i.hostBindings=a?(u,f)=>{s(u,f),a(u,f)}:s}let mp=null;function pu(){if(!mp){const i=Vt.Symbol;if(i&&i.iterator)mp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mp=u)}}}return mp}function yp(i){return!!ry(i)&&(Array.isArray(i)||!(i instanceof Map)&&pu()in i)}function ry(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Fs(i,s,a){return i[s]=a}function hl(i,s){return i[s]}function ci(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function pl(i,s,a,u){const f=ci(i,s,a);return ci(i,s+1,u)||f}function To(i,s,a,u,f,h){const y=pl(i,s,a,u);return pl(i,s+2,f,h)||y}function iy(i,s,a,u){const f=Be();return ci(f,Xi(),s)&&(sn(),Ls(_n(),f,i,s,a,u)),iy}function _T(i,s,a,u,f,h,y,T){const O=Be(),$=sn(),ie=i+22,pe=$.firstCreatePass?function ay(i,s,a,u,f,h,y,T,O){const $=s.consts,ie=Mc(s,i,4,y||null,Ci($,T));V0(s,a,ie,Ci($,O)),Js(s,ie);const pe=ie.tViews=ks(2,ie,u,f,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,$);return null!==s.queries&&(s.queries.template(s,ie),pe.queries=s.queries.embeddedTView(ie)),ie}(ie,$,O,s,a,u,f,h,y):$.data[ie];Si(pe,!1);const Te=O[11].createComment("");$h($,O,Te,pe),Ar(Te,O),zr(O,O[ie]=j0(Te,O,Te,pe)),Pl(pe)&&vf($,O,pe),null!=y&&An(O,pe,T)}function ET(i){return Ji(function Pa(){return $t.lFrame.contextLView}(),22+i)}function ly(i,s,a){const u=Be();return ci(u,Xi(),s)&&function ao(i,s,a,u,f,h,y,T){const O=ur(s,a);let ie,$=s.inputs;!T&&null!=$&&(ie=$[u])?(Wm(i,a,ie,u,f),qs(s)&&F0(a,s.index)):3&s.type&&(u=function XI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),f=null!=y?y(f,s.value||"",u):f,h.setProperty(O,u,f))}(sn(),_n(),u,i,s,u[11],a,!1),ly}function uy(i,s,a,u,f){const y=f?"class":"style";Wm(i,a,s.inputs[y],y,u)}function cy(i,s,a,u){const f=Be(),h=sn(),y=22+i,T=f[11],O=f[y]=el(T,s,function xh(){return $t.lFrame.currentNamespace}()),$=h.firstCreatePass?function F1(i,s,a,u,f,h,y){const T=s.consts,$=Mc(s,i,2,f,Ci(T,h));return V0(s,a,$,Ci(T,y)),null!==$.attrs&&dl($,$.attrs,!1),null!==$.mergedAttrs&&dl($,$.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,$),$}(y,h,f,0,s,a,u):h.data[y];return Si($,!0),ol(T,O,$),32!=(32&$.flags)&&$h(h,f,O,$),0===function Zs(){return $t.lFrame.elementDepthCount}()&&Ar(O,f),function Sd(){$t.lFrame.elementDepthCount++}(),Pl($)&&(vf(h,f,$),cp(h,$,f)),null!==u&&An(f,$),cy}function bp(){let i=er();vs()?zu():(i=i.parent,Si(i,!1));const s=i;!function Ys(){$t.lFrame.elementDepthCount--}();const a=sn();return a.firstCreatePass&&(Js(a,i),Yi(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Xu(i){return 0!=(8&i.flags)}(s)&&uy(a,s,Be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function yo(i){return 0!=(16&i.flags)}(s)&&uy(a,s,Be(),s.stylesWithoutHost,!1),bp}function rb(i,s,a,u){return cy(i,s,a,u),bp(),rb}function ib(i,s,a){const u=Be(),f=sn(),h=i+22,y=f.firstCreatePass?function V1(i,s,a,u,f){const h=s.consts,y=Ci(h,u),T=Mc(s,i,8,"ng-container",y);return null!==y&&dl(T,y,!0),V0(s,a,T,Ci(h,f)),null!==s.queries&&s.queries.elementStart(s,T),T}(h,f,u,s,a):f.data[h];Si(y,!0);const T=u[h]=u[11].createComment("");return $h(f,u,T,y),Ar(T,u),Pl(y)&&(vf(f,u,y),cp(f,y,u)),null!=a&&An(u,y),ib}function ob(){let i=er();const s=sn();return vs()?zu():(i=i.parent,Si(i,!1)),s.firstCreatePass&&(Js(s,i),Yi(i)&&s.queries.elementEnd(i)),ob}function sb(i,s,a){return ib(i,s,a),ob(),sb}function wT(){return Be()}function dy(i){return!!i&&"function"==typeof i.then}function ab(i){return!!i&&"function"==typeof i.subscribe}const lb=ab;function fy(i,s,a,u){const f=Be(),h=sn(),y=er();return function cb(i,s,a,u,f,h,y){const T=Pl(u),$=i.firstCreatePass&&G0(i),ie=s[8],pe=fp(s);let Te=!0;if(3&u.type||y){const Je=ur(u,s),st=y?y(Je):Je,vt=pe.length,Ft=y?qt=>y(Ln(qt[u.index])):u.index;let Ke=null;if(!y&&T&&(Ke=function IT(i,s,a,u){const f=i.cleanup;if(null!=f)for(let h=0;h<f.length-1;h+=2){const y=f[h];if(y===a&&f[h+1]===u){const T=s[7],O=f[h+2];return T.length>O?T[O]:null}"string"==typeof y&&(h+=2)}return null}(i,s,f,u.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=h,Ke.__ngLastListenerFn__=h,Te=!1;else{h=jc(u,s,ie,h,!1);const qt=a.listen(st,f,h);pe.push(h,qt),$&&$.push(f,Ft,vt,vt+1)}}else h=jc(u,s,ie,h,!1);const Re=u.outputs;let He;if(Te&&null!==Re&&(He=Re[f])){const Je=He.length;if(Je)for(let st=0;st<Je;st+=2){const fn=s[He[st]][He[st+1]].subscribe(h),nr=pe.length;pe.push(h,fn),$&&$.push(f,u.index,nr,-(nr+1))}}}(h,f,f[11],y,i,s,u),fy}function db(i,s,a,u){try{return!1!==a(u)}catch(f){return W0(i,f),!1}}function jc(i,s,a,u,f){return function h(y){if(y===Function)return u;kc(i.componentOffset>-1?Xn(i.index,s):s);let O=db(s,0,u,y),$=h.__ngNextListenerFn__;for(;$;)O=db(s,0,$,y)&&O,$=$.__ngNextListenerFn__;return f&&!1===O&&(y.preventDefault(),y.returnValue=!1),O}}function TT(i=1){return function rm(i){return($t.lFrame.contextLView=function Yu(i,s){for(;i>0;)s=s[15],i--;return s}(i,$t.lFrame.contextLView))[8]}(i)}function fb(i,s){let a=null;const u=function v0(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let f=0;f<s.length;f++){const h=s[f];if("*"!==h){if(null===u?y0(i,h,!0):_0(u,h))return f}else a=f}return a}function DT(i){const s=Be()[16][6];if(!s.projection){const u=s.projection=Ho(i?i.length:1,null),f=u.slice();let h=s.child;for(;null!==h;){const y=i?fb(h,i):0;null!==y&&(f[y]?f[y].projectionNext=h:u[y]=h,f[y]=h),h=h.next}}}function CT(i,s=0,a){const u=Be(),f=sn(),h=Mc(f,22+i,16,null,a||null);null===h.projection&&(h.projection=s),zu(),32!=(32&h.flags)&&function Xw(i,s,a){mm(s[11],0,s,a,tl(i,a,s),fm(a.parent||s[6],a,s))}(f,u,h)}function ha(i,s){return i<<17|s<<2}function Yo(i){return i>>17&32767}function $n(i){return 2|i}function Hc(i){return(131068&i)>>2}function Ep(i,s){return-131069&i|s<<2}function bu(i){return 1|i}function gb(i,s,a,u,f){const h=i[a+1],y=null===s;let T=u?Yo(h):Hc(h),O=!1;for(;0!==T&&(!1===O||y);){const ie=i[T+1];kT(i[T],s)&&(O=!0,i[T+1]=u?bu(ie):$n(ie)),T=u?Yo(ie):Hc(ie)}O&&(i[a+1]=u?$n(h):bu(h))}function kT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&dn(i,s)>=0}const Mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mb(i){return i.substring(Mr.key,Mr.keyEnd)}function LT(i){return i.substring(Mr.value,Mr.valueEnd)}function yb(i,s){const a=Mr.textEnd;return a===s?-1:(s=Mr.keyEnd=function VT(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Mr.key=s,a),gl(i,s,a))}function $c(i,s){const a=Mr.textEnd;let u=Mr.key=gl(i,s,a);return a===u?-1:(u=Mr.keyEnd=function UT(i,s,a){let u;for(;s<a&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,a),u=wu(i,u,a),u=Mr.value=gl(i,u,a),u=Mr.valueEnd=function BT(i,s,a){let u=-1,f=-1,h=-1,y=s,T=y;for(;y<a;){const O=i.charCodeAt(y++);if(59===O)return T;34===O||39===O?T=y=py(i,O,y,a):s===y-4&&85===h&&82===f&&76===u&&40===O?T=y=py(i,41,y,a):O>32&&(T=y),h=f,f=u,u=-33&O}return T}(i,u,a),wu(i,u,a))}function vb(i){Mr.key=0,Mr.keyEnd=0,Mr.value=0,Mr.valueEnd=0,Mr.textEnd=i.length}function gl(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function wu(i,s,a,u){return(s=gl(i,s,a))<a&&s++,s}function py(i,s,a,u){let f=-1,h=a;for(;h<u;){const y=i.charCodeAt(h++);if(y==s&&92!==f)return h;f=92==y&&92===f?0:y}throw new Error}function gy(i,s){return function Gi(i,s,a,u){const f=Be(),h=sn(),y=po(2);h.firstUpdatePass&&my(h,i,y,u),s!==Zt&&ci(f,y,s)&&_y(h,h.data[Ur()],f,f[11],i,f[y+1]=function Tp(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=A(Ps(i)))),i}(s,a),u,y)}(i,s,null,!0),gy}function Do(i){Qo(vy,jT,i,!1)}function jT(i,s){for(let a=function Eu(i){return vb(i),$c(i,gl(i,0,Mr.textEnd))}(s);a>=0;a=$c(s,a))vy(i,mb(s),LT(s))}function _b(i){Qo(cr,Vs,i,!0)}function Vs(i,s){for(let a=function FT(i){return vb(i),yb(i,gl(i,0,Mr.textEnd))}(s);a>=0;a=yb(s,a))cr(i,mb(s),!0)}function Qo(i,s,a,u){const f=sn(),h=po(2);f.firstUpdatePass&&my(f,null,h,u);const y=Be();if(a!==Zt&&ci(y,h,a)){const T=f.data[Ur()];if(Ey(T,u)&&!pa(f,h)){let O=u?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(a=I(O,a||"")),uy(f,T,y,a,u)}else!function Eb(i,s,a,u,f,h,y,T){f===Zt&&(f=Pt);let O=0,$=0,ie=0<f.length?f[0]:null,pe=0<h.length?h[0]:null;for(;null!==ie||null!==pe;){const Te=O<f.length?f[O+1]:void 0,Re=$<h.length?h[$+1]:void 0;let Je,He=null;ie===pe?(O+=2,$+=2,Te!==Re&&(He=pe,Je=Re)):null===pe||null!==ie&&ie<pe?(O+=2,He=ie):($+=2,He=pe,Je=Re),null!==He&&_y(i,s,a,u,He,Je,y,T),ie=O<f.length?f[O]:null,pe=$<h.length?h[$]:null}}(f,T,y,y[11],y[h+1],y[h+1]=function bb(i,s,a){if(null==a||""===a)return Pt;const u=[],f=Ps(a);if(Array.isArray(f))for(let h=0;h<f.length;h++)i(u,f[h],!0);else if("object"==typeof f)for(const h in f)f.hasOwnProperty(h)&&i(u,h,f[h]);else"string"==typeof f&&s(u,f);return u}(i,s,a),u,h)}}function pa(i,s){return s>=i.expandoStartIndex}function my(i,s,a,u){const f=i.data;if(null===f[a+1]){const h=f[Ur()],y=pa(i,a);Ey(h,u)&&null===s&&!y&&(s=!1),s=function bi(i,s,a,u){const f=function Qs(i){const s=$t.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===f)0===(u?s.classBindings:s.styleBindings)&&(a=Gc(a=Ip(null,i,s,a,u),s.attrs,u),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==f)if(a=Ip(f,i,s,a,u),null===h){let O=function ml(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Hc(u))return i[Yo(u)]}(i,s,u);void 0!==O&&Array.isArray(O)&&(O=Ip(null,i,s,O[1],u),O=Gc(O,s.attrs,u),function HT(i,s,a,u){i[Yo(a?s.classBindings:s.styleBindings)]=u}(i,s,u,O))}else h=function yy(i,s,a){let u;const f=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<f;h++)u=Gc(u,i[h].hostAttrs,a);return Gc(u,s.attrs,a)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),a}(f,h,s,u),function PT(i,s,a,u,f,h){let y=h?s.classBindings:s.styleBindings,T=Yo(y),O=Hc(y);i[u]=a;let ie,$=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||dn(a,ie)>0)&&($=!0)):ie=a,f)if(0!==O){const Te=Yo(i[T+1]);i[u+1]=ha(Te,T),0!==Te&&(i[Te+1]=Ep(i[Te+1],u)),i[T+1]=function B1(i,s){return 131071&i|s<<17}(i[T+1],u)}else i[u+1]=ha(T,0),0!==T&&(i[T+1]=Ep(i[T+1],u)),T=u;else i[u+1]=ha(O,0),0===T?T=u:i[O+1]=Ep(i[O+1],u),O=u;$&&(i[u+1]=$n(i[u+1])),gb(i,ie,u,!0),gb(i,ie,u,!1),function j1(i,s,a,u,f){const h=f?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&dn(h,s)>=0&&(a[u+1]=bu(a[u+1]))}(s,ie,i,u,h),y=ha(T,O),h?s.classBindings=y:s.styleBindings=y}(f,h,s,a,y,u)}}function Ip(i,s,a,u,f){let h=null;const y=a.directiveEnd;let T=a.directiveStylingLast;for(-1===T?T=a.directiveStart:T++;T<y&&(h=s[T],u=Gc(u,h.hostAttrs,f),h!==i);)T++;return null!==i&&(a.directiveStylingLast=T),u}function Gc(i,s,a){const u=a?1:2;let f=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?f=y:f===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cr(i,y,!!a||s[++h]))}return void 0===i?null:i}function vy(i,s,a){cr(i,s,Ps(a))}function _y(i,s,a,u,f,h,y,T){if(!(3&s.type))return;const O=i.data,$=O[T+1],ie=function wp(i){return 1==(1&i)}($)?by(O,s,a,f,Hc($),y):void 0;Sf(ie)||(Sf(h)||function U1(i){return 2==(2&i)}($)&&(h=by(O,null,a,f,T,y)),function lf(i,s,a,u,f){if(s)f?i.addClass(a,u):i.removeClass(a,u);else{let h=-1===u.indexOf("-")?void 0:qi.DashCase;null==f?i.removeStyle(a,u,h):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),h|=qi.Important),i.setStyle(a,u,f,h))}}(u,y,ho(Ur(),a),f,h))}function by(i,s,a,u,f,h){const y=null===s;let T;for(;f>0;){const O=i[f],$=Array.isArray(O),ie=$?O[1]:O,pe=null===ie;let Te=a[f+1];Te===Zt&&(Te=pe?Pt:void 0);let Re=pe?Ka(Te,u):ie===u?Te:void 0;if($&&!Sf(Re)&&(Re=Ka(O,u)),Sf(Re)&&(T=Re,y))return T;const He=i[f+1];f=y?Yo(He):Hc(He)}if(null!==s){let O=h?s.residualClasses:s.residualStyles;null!=O&&(T=Ka(O,u))}return T}function Sf(i){return void 0!==i}function Ey(i,s){return 0!=(i.flags&(s?8:16))}function wy(i,s=""){const a=Be(),u=sn(),f=i+22,h=u.firstCreatePass?Mc(u,f,1,s,null):u.data[f],y=a[f]=function sa(i,s){return i.createText(s)}(a[11],s);$h(u,a,y,h),Si(h,!1)}function Dp(i){return Af("",i,""),Dp}function Af(i,s,a){const u=Be(),f=function gu(i,s,a,u){return ci(i,Xi(),a)?s+X(a)+u:Zt}(u,i,s,a);return f!==Zt&&function fa(i,s,a){const u=ho(s,i);!function Xa(i,s,a){i.setValue(s,a)}(i[11],u,a)}(u,Ur(),f),Af}const Iu=void 0;var xf=["en",[["a","p"],["AM","PM"],Iu],[["AM","PM"],Iu,Iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Iu,"{1} 'at' {0}",Iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ny(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ga={};function Tu(i){const s=function Rb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Np(s);if(a)return a;const u=s.split("-")[0];if(a=Np(u),a)return a;if("en"===u)return xf;throw new w(701,!1)}function Nb(i){return Tu(i)[Mt.PluralCase]}function Np(i){return i in ga||(ga[i]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[i]),ga[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Jo="en-US";let Wc=Jo;function Qy(i,s,a,u,f){if(i=D(i),Array.isArray(i))for(let h=0;h<i.length;h++)Qy(i[h],s,a,u,f);else{const h=sn(),y=Be();let T=lu(i)?i:D(i.provide),O=J_(i);const $=er(),ie=1048575&$.providerIndexes,pe=$.directiveStart,Te=$.providerIndexes>>20;if(lu(i)||!i.multi){const Re=new La(O,f,Oc),He=Xy(T,s,f?ie:ie+Te,pe);-1===He?(zl(no($,y),h,T),Vf(h,i,s.length),s.push(T),$.directiveStart++,$.directiveEnd++,f&&($.providerIndexes+=1048576),a.push(Re),y.push(Re)):(a[He]=Re,y[He]=Re)}else{const Re=Xy(T,s,ie+Te,pe),He=Xy(T,s,ie,ie+Te),st=He>=0&&a[He];if(f&&!st||!f&&!(Re>=0&&a[Re])){zl(no($,y),h,T);const vt=function ID(i,s,a,u,f){const h=new La(i,a,Oc);return h.multi=[],h.index=s,h.componentProviders=0,Jy(h,f,u&&!a),h}(f?wD:Xb,a.length,f,u,O);!f&&st&&(a[He].providerFactory=vt),Vf(h,i,s.length,0),s.push(T),$.directiveStart++,$.directiveEnd++,f&&($.providerIndexes+=1048576),a.push(vt),y.push(vt)}else Vf(h,i,Re>-1?Re:He,Jy(a[f?He:Re],O,!f&&u));!f&&u&&st&&a[He].componentProviders++}}}function Vf(i,s,a,u){const f=lu(s),h=function Am(i){return!!i.useClass}(s);if(f||h){const O=(h?D(s.useClass):s).prototype.ngOnDestroy;if(O){const $=i.destroyHooks||(i.destroyHooks=[]);if(!f&&s.multi){const ie=$.indexOf(a);-1===ie?$.push(a,[u,O]):$[ie+1].push(u,O)}else $.push(a,O)}}}function Jy(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Xy(i,s,a,u){for(let f=a;f<u;f++)if(s[f]===i)return f;return-1}function Xb(i,s,a,u){return Up(this.multi,[])}function wD(i,s,a,u){const f=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,T=ji(a,a[1],this.providerFactory.index,u);h=T.slice(0,y),Up(f,h);for(let O=y;O<T.length;O++)h.push(T[O])}else h=[],Up(f,h);return h}function Up(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ev(i,s=[]){return a=>{a.providersResolver=(u,f)=>function ED(i,s,a){const u=sn();if(u.firstCreatePass){const f=Jn(i);Qy(a,u.data,u.blueprint,f,!0),Qy(s,u.data,u.blueprint,f,!1)}}(u,f?f(i):i,s)}}class Jc{}class tv{}function Y1(i,s){return new TD(i,s??null)}class TD extends Jc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z0(this);const u=Tr(s);this._bootstrapComponents=ul(u.bootstrap),this._r3Injector=D0(s,a,[{provide:Jc,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],A(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bp extends tv{constructor(s){super(),this.moduleType=s}create(s){return new TD(this.moduleType,s)}}class DD extends Jc{constructor(s,a,u){super(),this.componentFactoryResolver=new Z0(this),this.instance=null;const f=new Q_([...s,{provide:Jc,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],a||ep(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function eE(i,s,a=null){return new DD(i,s,a).injector}let Q1=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=wc(0,a.type),f=u.length>0?eE([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,f)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Oe({token:i,providedIn:"environment",factory:()=>new i(it(uu))}),i})();function CD(i){i.getStandaloneInjector=s=>s.get(Q1).getOrCreateStandaloneInjector(i)}function oE(i,s,a){const u=mr()+i,f=Be();return f[u]===Zt?Fs(f,u,a?s.call(a):s()):hl(f,u)}function sE(i,s,a,u,f,h){return function VD(i,s,a,u,f,h,y,T){const O=s+a;return function Vc(i,s,a,u,f){const h=pl(i,s,a,u);return ci(i,s+2,f)||h}(i,O,f,h,y)?Fs(i,O+3,T?u.call(T,f,h,y):u(f,h,y)):jp(i,O+3)}(Be(),mr(),i,s,a,u,f,h)}function aE(i,s,a,u,f,h,y){return function UD(i,s,a,u,f,h,y,T,O){const $=s+a;return To(i,$,f,h,y,T)?Fs(i,$+4,O?u.call(O,f,h,y,T):u(f,h,y,T)):jp(i,$+4)}(Be(),mr(),i,s,a,u,f,h,y)}function lE(i,s,a,u,f,h,y,T){const O=mr()+i,$=Be(),ie=To($,O,a,u,f,h);return ci($,O+4,y)||ie?Fs($,O+5,T?s.call(T,a,u,f,h,y):s(a,u,f,h,y)):hl($,O+5)}function jp(i,s){const a=i[s];return a===Zt?void 0:a}function jD(i,s){const a=sn();let u;const f=i+22;a.firstCreatePass?(u=function rx(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[f]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(f,u.onDestroy)):u=a.data[f];const h=u.factory||(u.factory=No(u.type)),y=pn(Oc);try{const T=vo(!1),O=h();return vo(T),function bT(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Be(),f,O),O}finally{pn(y)}}function HD(i,s,a){const u=i+22,f=Be(),h=Ji(f,u);return Hp(f,u)?function LD(i,s,a,u,f,h){const y=s+a;return ci(i,y,f)?Fs(i,y+1,h?u.call(h,f):u(f)):jp(i,y+1)}(f,mr(),s,h.transform,a,h):h.transform(a)}function $D(i,s,a,u){const f=i+22,h=Be(),y=Ji(h,f);return Hp(h,f)?function FD(i,s,a,u,f,h,y){const T=s+a;return pl(i,T,f,h)?Fs(i,T+2,y?u.call(y,f,h):u(f,h)):jp(i,T+2)}(h,mr(),s,y.transform,a,u,y):y.transform(a,u)}function Hp(i,s){return i[1].data[s].pure}function uE(i){return s=>{setTimeout(i,void 0,s)}}const ma=class lx extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let f=s,h=a||(()=>null),y=u;if(s&&"object"==typeof s){const O=s;f=O.next?.bind(O),h=O.error?.bind(O),y=O.complete?.bind(O)}this.__isAsync&&(h=uE(h),f&&(f=uE(f)),y&&(y=uE(y)));const T=super.subscribe({next:f,error:h,complete:y});return s instanceof z.w0&&s.add(T),T}};function ux(){return this._results[pu()]()}class cE{get changes(){return this._changes||(this._changes=new ma)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=pu(),u=cE.prototype;u[a]||(u[a]=ux)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const f=function jr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function sm(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let f=i[u],h=s[u];if(a&&(f=a(f),h=a(h)),h!==f)return!1}return!0}(u._results,f,a))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $p=(()=>{class i{}return i.__NG_ELEMENT_ID__=fx,i})();const cx=$p,dx=class extends cx{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,f=Um(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),Bm(u,f,s),new fl(f)}};function fx(){return iv(er(),Be())}function iv(i,s){return 4&i.type?new dx(s,i,ua(i,s)):null}let ov=(()=>{class i{}return i.__NG_ELEMENT_ID__=hx,i})();function hx(){return zD(er(),Be())}const px=ov,qD=class extends px{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const s=ja(this._hostTNode,this._hostLView);if(Hl(s)){const a=Vo(s,this._hostLView),u=Is(s);return new ro(a[1].data[u+8],a)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=GD(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let f,h;"number"==typeof u?f=u:null!=u&&(f=u.index,h=u.injector);const y=s.createEmbeddedView(a||{},h);return this.insert(y,f),y}createComponent(s,a,u,f,h){const y=s&&!function Wa(i){return"function"==typeof i}(s);let T;if(y)T=a;else{const pe=a||{};T=pe.index,u=pe.injector,f=pe.projectableNodes,h=pe.environmentInjector||pe.ngModuleRef}const O=y?s:new Fc(cn(s)),$=u||this.parentInjector;if(!h&&null==O.ngModule){const Te=(y?$:this.parentInjector).get(uu,null);Te&&(h=Te)}const ie=O.create($,f,void 0,h);return this.insert(ie.hostView,T),ie}insert(s,a){const u=s._lView,f=u[1];if(function Dd(i){return ai(i[3])}(u)){const ie=this.indexOf(s);if(-1!==ie)this.detach(ie);else{const pe=u[3],Te=new qD(pe,pe[6],pe[3]);Te.detach(Te.indexOf(s))}}const h=this._adjustIndex(a),y=this._lContainer;!function cm(i,s,a,u){const f=10+u,h=a.length;u>0&&(a[f-1][4]=s),u<h-10?(s[4]=a[f],uc(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function nf(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const T=s[19];null!==T&&T.insertView(i),s[2]|=64}(f,u,y,h);const T=af(h,y),O=u[11],$=nl(O,y[7]);return null!==$&&function Vh(i,s,a,u,f,h){u[0]=f,u[6]=s,ru(i,u,a,1,f,h)}(f,y[6],O,u,$,T),s.attachToViewContainerRef(),uc(dE(y),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=GD(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=dm(this._lContainer,a);u&&(Zl(dE(this._lContainer),a),x_(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=dm(this._lContainer,a);return u&&null!=Zl(dE(this._lContainer),a)?new fl(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function GD(i){return i[8]}function dE(i){return i[8]||(i[8]=[])}function zD(i,s){let a;const u=s[i.index];if(ai(u))a=u;else{let f;if(8&i.type)f=Ln(u);else{const h=s[11];f=h.createComment("");const y=ur(i,s);mc(h,nl(h,y),f,function yc(i,s){return i.nextSibling(s)}(h,y),!1)}s[i.index]=a=j0(u,s,f,i),zr(s,a)}return new qD(a,i,s)}class fE{constructor(s){this.queryList=s,this.matches=null}clone(){return new fE(this.queryList)}setDirty(){this.queryList.setDirty()}}class hE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,f=[];for(let h=0;h<u;h++){const y=a.getByIndex(h);f.push(this.queries[y.indexInDeclarationView].clone())}return new hE(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Us(s,a).matches&&this.queries[a].setDirty()}}class WD{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class pE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const f=null!==a?a.length:0,h=this.getByIndex(u).embeddedTView(s,f);h&&(h.indexInDeclarationView=u,null!==a?a.push(h):a=[h])}return null!==a?new pE(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new gE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const h=u[f];this.matchTNodeWithReadOption(s,a,gx(a,h)),this.matchTNodeWithReadOption(s,a,Bo(a,s,h,!1,!1))}else u===$p?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Bo(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===ll||f===ov||f===$p&&4&a.type)this.addMatch(a.index,-2);else{const h=Bo(a,s,f,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function gx(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function yx(i,s,a,u){return-1===a?function mx(i,s){return 11&i.type?ua(i,s):4&i.type?iv(i,s):null}(s,i):-2===a?function vx(i,s,a){return a===ll?ua(s,i):a===$p?iv(s,i):a===ov?zD(s,i):void 0}(i,s,u):ji(i,i[1],a,s)}function KD(i,s,a,u){const f=s[19].queries[u];if(null===f.matches){const h=i.data,y=a.matches,T=[];for(let O=0;O<y.length;O+=2){const $=y[O];T.push($<0?null:yx(s,h[$],y[O+1],a.metadata.read))}f.matches=T}return f.matches}function mE(i,s,a,u){const f=i.queries.getByIndex(a),h=f.matches;if(null!==h){const y=KD(i,s,f,a);for(let T=0;T<h.length;T+=2){const O=h[T];if(O>0)u.push(y[T/2]);else{const $=h[T+1],ie=s[-O];for(let pe=10;pe<ie.length;pe++){const Te=ie[pe];Te[17]===Te[3]&&mE(Te[1],Te,$,u)}if(null!==ie[9]){const pe=ie[9];for(let Te=0;Te<pe.length;Te++){const Re=pe[Te];mE(Re[1],Re,$,u)}}}}}return u}function ZD(i){const s=Be(),a=sn(),u=Nd();Bl(u+1);const f=Us(a,u);if(i.dirty&&function Ra(i){return 4==(4&i[2])}(s)===(2==(2&f.metadata.flags))){if(null===f.matches)i.reset([]);else{const h=f.crossesNgTemplate?mE(a,s,u,[]):KD(a,s,f,u);i.reset(h,r0),i.notifyOnChanges()}return!0}return!1}function YD(i,s,a){const u=sn();u.firstCreatePass&&(eC(u,new WD(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),XD(u,Be(),s)}function QD(i,s,a,u){const f=sn();if(f.firstCreatePass){const h=er();eC(f,new WD(s,a,u),h.index),function tC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(f,i),2==(2&a)&&(f.staticContentQueries=!0)}XD(f,Be(),a)}function JD(){return function _x(i,s){return i[19].queries[s].queryList}(Be(),Nd())}function XD(i,s,a){const u=new cE(4==(4&a));YI(i,s,u,u.destroy),null===s[19]&&(s[19]=new hE),s[19].queries.push(new fE(u))}function eC(i,s,a){null===i.queries&&(i.queries=new pE),i.queries.track(new gE(s,a))}function Us(i,s){return i.queries.getByIndex(s)}function ng(...i){}const hv=new gn("Application Initializer");let nd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ng,this.reject=ng,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const h=this.appInits[f]();if(dy(h))a.push(h);else if(lb(h)){const y=new Promise((T,O)=>{h.subscribe({complete:T,error:O})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(f=>{this.reject(f)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(it(hv,8))},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pv=new gn("AppId",{providedIn:"root",factory:function NE(){return`${Hf()}${Hf()}${Hf()}`}});function Hf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rg=new gn("Platform Initializer"),Yr=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qr=new gn("appBootstrapListener");let pC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const $f=new gn("LocaleId",{providedIn:"root",factory:()=>ft($f,et.Optional|et.SkipSelf)||function gC(){return typeof $localize<"u"&&$localize.locale||Jo}()}),mC=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let mv=(()=>{class i{compileModuleSync(a){return new Bp(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),h=ul(Tr(a).declarations).reduce((y,T)=>{const O=cn(T);return O&&y.push(new Fc(O)),y},[]);return new vC(u,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qf=(()=>Promise.resolve(0))();function ag(i){typeof Zone>"u"?qf.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ni{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&a,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function FE(){let i=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function wC(i){const s=()=>{!function rd(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,vv(i),i.isCheckStableRunning=!0,yv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),vv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,f,h,y,T)=>{try{return El(i),a.invokeTask(f,h,y,T)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),_v(i)}},onInvoke:(a,u,f,h,y,T,O)=>{try{return El(i),a.invoke(f,h,y,T,O)}finally{i.shouldCoalesceRunChangeDetection&&s(),_v(i)}},onHasTask:(a,u,f,h)=>{a.hasTask(f,h),u===f&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,vv(i),yv(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,u,f,h)=>(a.handleError(f,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ni.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(Ni.isInAngularZone())throw new w(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,f){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+f,s,EC,ng,ng);try{return h.runTask(y,a,u)}finally{h.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const EC={};function yv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function vv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function El(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function _v(i){i._nesting--,yv(i)}class lg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,f){return s.apply(a,u)}}const bv=new gn(""),id=new gn("");let xu,VE=(()=>{class i{constructor(a,u,f){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xu||(function UE(i){xu=i}(f),f.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ni.assertNotInAngularZone(),ag(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ag(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,f){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:f})}whenStable(a,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,f){return[]}}return i.\u0275fac=function(a){return new(a||i)(it(Ni),it(Ei),it(id))},i.\u0275prov=Oe({token:i,factory:i.\u0275fac}),i})(),Ei=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return xu?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),ns=null;const Ev=new gn("AllowMultipleToken"),Gf=new gn("PlatformDestroyListeners");class Iv{constructor(s,a){this.name=s,this.token=a}}function jE(i,s,a=[]){const u=`Platform: ${s}`,f=new gn(u);return(h=[])=>{let y=dg();if(!y||y.injector.get(Ev,!1)){const T=[...a,...h,{provide:f,useValue:!0}];i?i(T):function Tv(i){if(ns&&!ns.get(Ev,!1))throw new w(400,!1);ns=i;const s=i.get(Cv);(function od(i){const s=i.get(rg,null);s&&s.forEach(a=>a())})(i)}(function zf(i=[],s){return fu.create({name:s,providers:[{provide:Tc,useValue:"platform"},{provide:Gf,useValue:new Set([()=>ns=null])},...i]})}(T,u))}return function Dv(i){const s=dg();if(!s)throw new w(401,!1);return s}()}}function dg(){return ns?.get(Cv)??null}let Cv=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const f=function $E(i,s){let a;return a="noop"===i?new lg:("zone.js"===i?void 0:i)||new Ni(s),a}(u?.ngZone,function Sv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Ni,useValue:f}];return f.run(()=>{const y=fu.create({providers:h,parent:this.injector,name:a.moduleType.name}),T=a.create(y),O=T.injector.get(hf,null);if(!O)throw new w(402,!1);return f.runOutsideAngular(()=>{const $=f.onError.subscribe({next:ie=>{O.handleError(ie)}});T.onDestroy(()=>{wl(this._modules,T),$.unsubscribe()})}),function sd(i,s,a){try{const u=a();return dy(u)?u.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,f,()=>{const $=T.injector.get(nd);return $.runInitializers(),$.donePromise.then(()=>(function Mf(i){_e(i,"Expected localeId to be defined"),"string"==typeof i&&(Wc=i.toLowerCase().replace(/_/g,"-"))}(T.injector.get($f,Jo)||Jo),this._moduleDoBootstrap(T),T))})})}bootstrapModule(a,u=[]){const f=Av({},u);return function BE(i,s,a){const u=new Bp(a);return Promise.resolve(u)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,f))}_moduleDoBootstrap(a){const u=a.injector.get(Ou);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new w(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Gf,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(it(fu))},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Av(i,s){return Array.isArray(s)?s.reduce(Av,i):{...i,...s}}let Ou=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,u,f){this._zone=a,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new q.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),y=new q.y(T=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Ni.assertNotInAngularZone(),ag(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Ni.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{O.unsubscribe(),$.unsubscribe()}});this.isStable=(0,Q.T)(h,y.pipe((0,B.B)()))}bootstrap(a,u){const f=a instanceof e0;if(!this._injector.get(nd).done)throw!f&&Bn(a),new w(405,false);let y;y=f?a:this._injector.get(Dc).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const T=function wv(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Jc),$=y.create(fu.NULL,[],u||y.selector,T),ie=$.location.nativeElement,pe=$.injector.get(bv,null);return pe?.registerApplication(ie),$.onDestroy(()=>{this.detachView($.hostView),wl(this.components,$),pe?.unregisterApplication(ie)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;wl(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Qr,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>wl(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new w(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(it(Ni),it(uu),it(hf))},i.\u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function wl(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function TC(){return!1}let Mu=(()=>{class i{}return i.__NG_ELEMENT_ID__=ya,i})();function ya(i){return function fg(i,s,a){if(qs(i)&&!a){const u=Xn(i.index,s);return new fl(u,u)}return 47&i.type?new fl(s[16],s):null}(er(),Be(),16==(16&i))}class Nv{constructor(){}supports(s){return yp(s)}create(s){return new Rv(s)}}const ZE=(i,s)=>s;class Rv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ZE}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,f=0,h=null;for(;a||u;){const y=!u||a&&a.currentIndex<yg(u,f,h)?a:u,T=yg(y,f,h),O=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)f++;else{h||(h=[]);const $=T-f,ie=O-f;if($!=ie){for(let Te=0;Te<$;Te++){const Re=Te<h.length?h[Te]:h[Te]=0,He=Re+Te;ie<=He&&He<$&&(h[Te]=Re+1)}h[y.previousIndex]=ie-$}}T!==O&&s(y,T,O)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!yp(s))throw new w(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,h,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let T=0;T<this.length;T++)h=s[T],y=this._trackByFn(T,h),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,h,y,T)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,T),u=!0),a=a._next}else f=0,function gT(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[pu()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,T=>{y=this._trackByFn(f,T),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,T,y,f)),Object.is(a.item,T)||this._addIdentityChange(a,T)):(a=this._mismatch(a,T,y,f),u=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,f){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,f)):s=this._addAfter(new Pv(a,u),h,f),s}_verifyReinsertion(s,a,u,f){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,h=s._nextRemoved;return null===f?this._removalsHead=h:f._nextRemoved=h,null===h?this._removalsTail=f:h._prevRemoved=f,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const f=null===a?this._itHead:a._next;return s._next=f,s._prev=a,null===f?this._itTail=s:f._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new kv),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Pv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class kv{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new YE,this.map.set(a,u)),u.add(s)}get(s,a){const f=this.map.get(s);return f?f.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yg(i,s,a){const u=i.previousIndex;if(null===u)return u;let f=0;return a&&u<a.length&&(f=a[u]),u+s+f}class QE{constructor(){}supports(s){return s instanceof Map||ry(s)}create(){return new OC}}class OC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ry(s)))throw new w(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(f,u);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,a);const h=f._prev,y=f._next;return h&&(h._next=y),y&&(y._prev=h),f._next=null,f._prev=null,f}const u=new MC(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class MC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kf(){return new Pu([new Nv])}let Pu=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const f=u.factories.slice();a=a.concat(f)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Kf()),deps:[[i,new $r,new Hr]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(null!=u)return u;throw new w(901,!1)}}return i.\u0275prov=Oe({token:i,providedIn:"root",factory:Kf}),i})();function vg(){return new _g([new QE])}let _g=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const f=u.factories.slice();a=a.concat(f)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||vg()),deps:[[i,new $r,new Hr]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new w(901,!1)}}return i.\u0275prov=Oe({token:i,providedIn:"root",factory:vg}),i})();const JE=jE(null,"core",[]);let NC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(it(Ou))},i.\u0275mod=ls({type:i}),i.\u0275inj=dt({}),i})();function RC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Tt,ge,N)=>{"use strict";N.d(ge,{Z:()=>x});var c=N(2090),z=N(4859),q=N(9681),Q=N(1877);class B{constructor(w,L){this._delegate=w,this.firebase=L,(0,q._addComponent)(w,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=w.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this._delegate.automaticDataCollectionEnabled=w}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(w=>{this._delegate.checkDestroyed(),w()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(w,L=q._DEFAULT_ENTRY_NAME){var X;this._delegate.checkDestroyed();const Z=this._delegate.container.getProvider(w);return!Z.isInitialized()&&"EXPLICIT"===(null===(X=Z.getComponent())||void 0===X?void 0:X.instantiationMode)&&Z.initialize(),Z.getImmediate({identifier:L})}_removeServiceInstance(w,L=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(w).clearInstance(L)}_addComponent(w){(0,q._addComponent)(this._delegate,w)}_addOrOverwriteComponent(w){(0,q._addOrOverwriteComponent)(this._delegate,w)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const U=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),v=function I(){const V=function A(V){const w={},L={__esModule:!0,initializeApp:function Y(F,K={}){const ne=q.initializeApp(F,K);if((0,c.r3)(w,ne.name))return w[ne.name];const fe=new V(ne,L);return w[ne.name]=fe,fe},app:Z,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function G(F){const K=F.name,ne=K.replace("-compat","");if(q._registerComponent(F)&&"PUBLIC"===F.type){const fe=(me=Z())=>{if("function"!=typeof me[ne])throw U.create("invalid-app-argument",{appName:K});return me[ne]()};void 0!==F.serviceProps&&(0,c.ZB)(fe,F.serviceProps),L[ne]=fe,V.prototype[ne]=function(...me){return this._getService.bind(this,K).apply(this,F.multipleInstances?me:[])}}return"PUBLIC"===F.type?L[ne]:null},removeApp:function X(F){delete w[F]},useAsService:function H(F,K){return"serverAuth"===K?null:K},modularAPIs:q}};function Z(F){if(!(0,c.r3)(w,F=F||q._DEFAULT_ENTRY_NAME))throw U.create("no-app",{appName:F});return w[F]}return L.default=L,Object.defineProperty(L,"apps",{get:function re(){return Object.keys(w).map(F=>w[F])}}),Z.App=V,L}(B);return V.INTERNAL=Object.assign(Object.assign({},V.INTERNAL),{createFirebaseNamespace:I,extendNamespace:function w(L){(0,c.ZB)(V,L)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),V}(),C=new Q.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){C.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const V=self.firebase.SDK_VERSION;V&&V.indexOf("LITE")>=0&&C.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const x=v;!function S(V){(0,q.registerVersion)("@firebase/app-compat","0.2.3",V)}()},9681:(Tt,ge,N)=>{"use strict";N.r(ge),N.d(ge,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>Tn,_DEFAULT_ENTRY_NAME:()=>ce,_addComponent:()=>we,_addOrOverwriteComponent:()=>Ce,_apps:()=>_e,_clearComponents:()=>dt,_components:()=>ae,_getProvider:()=>Oe,_registerComponent:()=>Se,_removeServiceInstance:()=>Qe,deleteApp:()=>nt,getApp:()=>Ve,getApps:()=>je,initializeApp:()=>In,onLog:()=>et,registerVersion:()=>qe,setLogLevel:()=>Rt});var c=N(5861),z=N(4859),q=N(1877),Q=N(2090),B=N(8766);class j{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function U(it){return"VERSION"===it.getComponent()?.type}(ft)){const Ot=ft.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(ft=>ft).join(" ")}}const A="@firebase/app",I="0.9.3",v=new q.Yd("@firebase/app"),ce="[DEFAULT]",ye={[A]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_e=new Map,ae=new Map;function we(it,Ge){try{it.container.addComponent(Ge)}catch(ft){v.debug(`Component ${Ge.name} failed to register with FirebaseApp ${it.name}`,ft)}}function Ce(it,Ge){it.container.addOrOverwriteComponent(Ge)}function Se(it){const Ge=it.name;if(ae.has(Ge))return v.debug(`There were multiple attempts to register component ${Ge}.`),!1;ae.set(Ge,it);for(const ft of _e.values())we(ft,it);return!0}function Oe(it,Ge){const ft=it.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),it.container.getProvider(Ge)}function Qe(it,Ge,ft=ce){Oe(it,Ge).clearInstance(ft)}function dt(){ae.clear()}const mt=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ut{constructor(Ge,ft,Ot){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const Tn="9.17.1";function In(it,Ge={}){let ft=it;"object"!=typeof Ge&&(Ge={name:Ge});const Ot=Object.assign({name:ce,automaticDataCollectionEnabled:!1},Ge),Ht=Ot.name;if("string"!=typeof Ht||!Ht)throw mt.create("bad-app-name",{appName:String(Ht)});if(ft||(ft=(0,Q.aH)()),!ft)throw mt.create("no-options");const ln=_e.get(Ht);if(ln){if((0,Q.vZ)(ft,ln.options)&&(0,Q.vZ)(Ot,ln.config))return ln;throw mt.create("duplicate-app",{appName:Ht})}const Ee=new z.H0(Ht);for(const De of ae.values())Ee.addComponent(De);const ve=new Ut(ft,Ot,Ee);return _e.set(Ht,ve),ve}function Ve(it=ce){const Ge=_e.get(it);if(!Ge&&it===ce)return In();if(!Ge)throw mt.create("no-app",{appName:it});return Ge}function je(){return Array.from(_e.values())}function nt(it){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(it){const Ge=it.name;_e.has(Ge)&&(_e.delete(Ge),yield Promise.all(it.container.getProviders().map(ft=>ft.delete())),it.isDeleted=!0)})).apply(this,arguments)}function qe(it,Ge,ft){var Ot;let Ht=null!==(Ot=ye[it])&&void 0!==Ot?Ot:it;ft&&(Ht+=`-${ft}`);const ln=Ht.match(/\s|\//),Ee=Ge.match(/\s|\//);if(ln||Ee){const ve=[`Unable to register library "${Ht}" with version "${Ge}":`];return ln&&ve.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),ln&&Ee&&ve.push("and"),Ee&&ve.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void v.warn(ve.join(" "))}Se(new z.wA(`${Ht}-version`,()=>({library:Ht,version:Ge}),"VERSION"))}function et(it,Ge){if(null!==it&&"function"!=typeof it)throw mt.create("invalid-log-argument");(0,q.Am)(it,Ge)}function Rt(it){(0,q.Ub)(it)}const Cn="firebase-heartbeat-store";let an=null;function Vt(){return an||(an=(0,B.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ge)=>{0===Ge&&it.createObjectStore(Cn)}}).catch(it=>{throw mt.create("idb-open",{originalErrorMessage:it.message})})),an}function Dt(){return(Dt=(0,c.Z)(function*(it){try{return(yield Vt()).transaction(Cn).objectStore(Cn).get(Un(it))}catch(Ge){if(Ge instanceof Q.ZR)v.warn(Ge.message);else{const ft=mt.create("idb-get",{originalErrorMessage:Ge?.message});v.warn(ft.message)}}})).apply(this,arguments)}function ir(it,Ge){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(it,Ge){try{const Ot=(yield Vt()).transaction(Cn,"readwrite");return yield Ot.objectStore(Cn).put(Ge,Un(it)),Ot.done}catch(ft){if(ft instanceof Q.ZR)v.warn(ft.message);else{const Ot=mt.create("idb-set",{originalErrorMessage:ft?.message});v.warn(Ot.message)}}})).apply(this,arguments)}function Un(it){return`${it.name}!${it.options.appId}`}class fo{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new rn(ft),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Ge=this;return(0,c.Z)(function*(){const Ot=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=Dn();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Ge._heartbeatsCache.heartbeats.some(ln=>ln.date===Ht))return Ge._heartbeatsCache.heartbeats.push({date:Ht,agent:Ot}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(ln=>{const Ee=new Date(ln.date).valueOf();return Date.now()-Ee<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,c.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const ft=Dn(),{heartbeatsToSend:Ot,unsentEntries:Ht}=function xo(it,Ge=1024){const ft=[];let Ot=it.slice();for(const Ht of it){const ln=ft.find(Ee=>Ee.agent===Ht.agent);if(ln){if(ln.dates.push(Ht.date),ti(ft)>Ge){ln.dates.pop();break}}else if(ft.push({agent:Ht.agent,dates:[Ht.date]}),ti(ft)>Ge){ft.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:ft,unsentEntries:Ot}}(Ge._heartbeatsCache.heartbeats),ln=(0,Q.L)(JSON.stringify({version:2,heartbeats:Ot}));return Ge._heartbeatsCache.lastSentHeartbeatDate=ft,Ht.length>0?(Ge._heartbeatsCache.heartbeats=Ht,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),ln})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,c.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function ot(it){return Dt.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var ft=this;return(0,c.Z)(function*(){var Ot;if(yield ft._canUseIndexedDBPromise){const ln=yield ft.read();return ir(ft.app,{lastSentHeartbeatDate:null!==(Ot=Ge.lastSentHeartbeatDate)&&void 0!==Ot?Ot:ln.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var ft=this;return(0,c.Z)(function*(){var Ot;if(yield ft._canUseIndexedDBPromise){const ln=yield ft.read();return ir(ft.app,{lastSentHeartbeatDate:null!==(Ot=Ge.lastSentHeartbeatDate)&&void 0!==Ot?Ot:ln.lastSentHeartbeatDate,heartbeats:[...ln.heartbeats,...Ge.heartbeats]})}})()}}function ti(it){return(0,Q.L)(JSON.stringify({version:2,heartbeats:it})).length}!function Fi(it){Se(new z.wA("platform-logger",Ge=>new j(Ge),"PRIVATE")),Se(new z.wA("heartbeat",Ge=>new fo(Ge),"PRIVATE")),qe(A,I,it),qe(A,I,"esm2017"),qe("fire-js","")}("")},4859:(Tt,ge,N)=>{"use strict";N.d(ge,{H0:()=>A,wA:()=>q});var c=N(5861),z=N(2090);class q{constructor(v,C,D){this.name=v,this.instanceFactory=C,this.type=D,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(v){return this.instantiationMode=v,this}setMultipleInstances(v){return this.multipleInstances=v,this}setServiceProps(v){return this.serviceProps=v,this}setInstanceCreatedCallback(v){return this.onInstanceCreated=v,this}}const Q="[DEFAULT]";class B{constructor(v,C){this.name=v,this.container=C,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(v){const C=this.normalizeInstanceIdentifier(v);if(!this.instancesDeferred.has(C)){const D=new z.BH;if(this.instancesDeferred.set(C,D),this.isInitialized(C)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:C});R&&D.resolve(R)}catch{}}return this.instancesDeferred.get(C).promise}getImmediate(v){var C;const D=this.normalizeInstanceIdentifier(v?.identifier),R=null!==(C=v?.optional)&&void 0!==C&&C;if(!this.isInitialized(D)&&!this.shouldAutoInitialize()){if(R)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:D})}catch(S){if(R)return null;throw S}}getComponent(){return this.component}setComponent(v){if(v.name!==this.name)throw Error(`Mismatching Component ${v.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=v,this.shouldAutoInitialize()){if(function U(I){return"EAGER"===I.instantiationMode}(v))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[C,D]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(C);try{const S=this.getOrInitializeService({instanceIdentifier:R});D.resolve(S)}catch{}}}}clearInstance(v=Q){this.instancesDeferred.delete(v),this.instancesOptions.delete(v),this.instances.delete(v)}delete(){var v=this;return(0,c.Z)(function*(){const C=Array.from(v.instances.values());yield Promise.all([...C.filter(D=>"INTERNAL"in D).map(D=>D.INTERNAL.delete()),...C.filter(D=>"_delete"in D).map(D=>D._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(v=Q){return this.instances.has(v)}getOptions(v=Q){return this.instancesOptions.get(v)||{}}initialize(v={}){const{options:C={}}=v,D=this.normalizeInstanceIdentifier(v.instanceIdentifier);if(this.isInitialized(D))throw Error(`${this.name}(${D}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:D,options:C});for(const[S,x]of this.instancesDeferred.entries())D===this.normalizeInstanceIdentifier(S)&&x.resolve(R);return R}onInit(v,C){var D;const R=this.normalizeInstanceIdentifier(C),S=null!==(D=this.onInitCallbacks.get(R))&&void 0!==D?D:new Set;S.add(v),this.onInitCallbacks.set(R,S);const x=this.instances.get(R);return x&&v(x,R),()=>{S.delete(v)}}invokeOnInitCallbacks(v,C){const D=this.onInitCallbacks.get(C);if(D)for(const R of D)try{R(v,C)}catch{}}getOrInitializeService({instanceIdentifier:v,options:C={}}){let D=this.instances.get(v);if(!D&&this.component&&(D=this.component.instanceFactory(this.container,{instanceIdentifier:(I=v,I===Q?void 0:I),options:C}),this.instances.set(v,D),this.instancesOptions.set(v,C),this.invokeOnInitCallbacks(D,v),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,v,D)}catch{}var I;return D||null}normalizeInstanceIdentifier(v=Q){return this.component?this.component.multipleInstances?v:Q:v}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(v){this.name=v,this.providers=new Map}addComponent(v){const C=this.getProvider(v.name);if(C.isComponentSet())throw new Error(`Component ${v.name} has already been registered with ${this.name}`);C.setComponent(v)}addOrOverwriteComponent(v){this.getProvider(v.name).isComponentSet()&&this.providers.delete(v.name),this.addComponent(v)}getProvider(v){if(this.providers.has(v))return this.providers.get(v);const C=new B(v,this);return this.providers.set(v,C),C}getProviders(){return Array.from(this.providers.values())}}},1877:(Tt,ge,N)=>{"use strict";N.d(ge,{Am:()=>I,Ub:()=>A,Yd:()=>U,in:()=>z});const c=[];var z=(()=>{return(v=z||(z={}))[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",z;var v})();const q={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Q=z.INFO,B={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},j=(v,C,...D)=>{if(C<v.logLevel)return;const R=(new Date).toISOString(),S=B[C];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${C})`);console[S](`[${R}]  ${v.name}:`,...D)};class U{constructor(C){this.name=C,this._logLevel=Q,this._logHandler=j,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(C){if(!(C in z))throw new TypeError(`Invalid value "${C}" assigned to \`logLevel\``);this._logLevel=C}setLogLevel(C){this._logLevel="string"==typeof C?q[C]:C}get logHandler(){return this._logHandler}set logHandler(C){if("function"!=typeof C)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=C}get userLogHandler(){return this._userLogHandler}set userLogHandler(C){this._userLogHandler=C}debug(...C){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...C),this._logHandler(this,z.DEBUG,...C)}log(...C){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...C),this._logHandler(this,z.VERBOSE,...C)}info(...C){this._userLogHandler&&this._userLogHandler(this,z.INFO,...C),this._logHandler(this,z.INFO,...C)}warn(...C){this._userLogHandler&&this._userLogHandler(this,z.WARN,...C),this._logHandler(this,z.WARN,...C)}error(...C){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...C),this._logHandler(this,z.ERROR,...C)}}function A(v){c.forEach(C=>{C.setLogLevel(v)})}function I(v,C){for(const D of c){let R=null;C&&C.level&&(R=q[C.level]),D.userLogHandler=null===v?null:(S,x,...V)=>{const w=V.map(L=>{if(null==L)return null;if("string"==typeof L)return L;if("number"==typeof L||"boolean"==typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch{return null}}).filter(L=>L).join(" ");x>=(R??S.logLevel)&&v({level:z[x].toLowerCase(),message:w,args:V,type:S.name})}}}},259:(Tt,ge,N)=>{"use strict";N.d(ge,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=N(9681);(0,c.registerVersion)("firebase","9.17.1","app")},9260:(Tt,ge,N)=>{"use strict";N.d(ge,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.17.1","app-compat")},8766:(Tt,ge,N)=>{"use strict";N.d(ge,{Lj:()=>Y,X3:()=>Z});var c=N(5861);let q,Q;const U=new WeakMap,A=new WeakMap,I=new WeakMap,v=new WeakMap,C=new WeakMap;let S={get(K,ne,fe){if(K instanceof IDBTransaction){if("done"===ne)return A.get(K);if("objectStoreNames"===ne)return K.objectStoreNames||I.get(K);if("store"===ne)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return L(K[ne])},set:(K,ne,fe)=>(K[ne]=fe,!0),has:(K,ne)=>K instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in K};function w(K){return"function"==typeof K?function V(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...ne){return K.apply(X(this),ne),L(U.get(this))}:function(...ne){return L(K.apply(X(this),ne))}:function(ne,...fe){const me=K.call(X(this),ne,...fe);return I.set(me,ne.sort?ne.sort():[ne]),L(me)}}(K):(K instanceof IDBTransaction&&function R(K){if(A.has(K))return;const ne=new Promise((fe,me)=>{const Ie=()=>{K.removeEventListener("complete",Ne),K.removeEventListener("error",ue),K.removeEventListener("abort",ue)},Ne=()=>{fe(),Ie()},ue=()=>{me(K.error||new DOMException("AbortError","AbortError")),Ie()};K.addEventListener("complete",Ne),K.addEventListener("error",ue),K.addEventListener("abort",ue)});A.set(K,ne)}(K),((K,ne)=>ne.some(fe=>K instanceof fe))(K,function B(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,S):K)}function L(K){if(K instanceof IDBRequest)return function D(K){const ne=new Promise((fe,me)=>{const Ie=()=>{K.removeEventListener("success",Ne),K.removeEventListener("error",ue)},Ne=()=>{fe(L(K.result)),Ie()},ue=()=>{me(K.error),Ie()};K.addEventListener("success",Ne),K.addEventListener("error",ue)});return ne.then(fe=>{fe instanceof IDBCursor&&U.set(fe,K)}).catch(()=>{}),C.set(ne,K),ne}(K);if(v.has(K))return v.get(K);const ne=w(K);return ne!==K&&(v.set(K,ne),C.set(ne,K)),ne}const X=K=>C.get(K);function Z(K,ne,{blocked:fe,upgrade:me,blocking:Ie,terminated:Ne}={}){const ue=indexedDB.open(K,ne),oe=L(ue);return me&&ue.addEventListener("upgradeneeded",J=>{me(L(ue.result),J.oldVersion,J.newVersion,L(ue.transaction))}),fe&&ue.addEventListener("blocked",()=>fe()),oe.then(J=>{Ne&&J.addEventListener("close",()=>Ne()),Ie&&J.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),oe}function Y(K,{blocked:ne}={}){const fe=indexedDB.deleteDatabase(K);return ne&&fe.addEventListener("blocked",()=>ne()),L(fe).then(()=>{})}const re=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],H=new Map;function F(K,ne){if(!(K instanceof IDBDatabase)||ne in K||"string"!=typeof ne)return;if(H.get(ne))return H.get(ne);const fe=ne.replace(/FromIndex$/,""),me=ne!==fe,Ie=G.includes(fe);if(!(fe in(me?IDBIndex:IDBObjectStore).prototype)||!Ie&&!re.includes(fe))return;const Ne=function(){var ue=(0,c.Z)(function*(oe,...J){const se=this.transaction(oe,Ie?"readwrite":"readonly");let ce=se.store;return me&&(ce=ce.index(J.shift())),(yield Promise.all([ce[fe](...J),Ie&&se.done]))[0]});return function(J){return ue.apply(this,arguments)}}();return H.set(ne,Ne),Ne}!function x(K){S=K(S)}(K=>({...K,get:(ne,fe,me)=>F(ne,fe)||K.get(ne,fe,me),has:(ne,fe)=>!!F(ne,fe)||K.has(ne,fe)}))},5861:(Tt,ge,N)=>{"use strict";function c(q,Q,B,j,U,A,I){try{var v=q[A](I),C=v.value}catch(D){return void B(D)}v.done?Q(C):Promise.resolve(C).then(j,U)}function z(q){return function(){var Q=this,B=arguments;return new Promise(function(j,U){var A=q.apply(Q,B);function I(C){c(A,j,U,I,v,"next",C)}function v(C){c(A,j,U,I,v,"throw",C)}I(void 0)})}}N.d(ge,{Z:()=>z})}},Tt=>{Tt(Tt.s=9313)}]);